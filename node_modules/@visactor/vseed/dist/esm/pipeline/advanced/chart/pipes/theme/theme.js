import { clone, isNullish, isNumber, isObjectType, isString, merge, mergeDeep } from "remeda";
const theme_theme = (advancedVSeed, context)=>{
    const { customTheme, vseed } = context;
    const { theme = 'light', chartType } = vseed;
    const result = {
        ...advancedVSeed
    };
    if (!customTheme || !customTheme[theme]) return result;
    const chartConfigTheme = customTheme?.[theme].config?.[chartType];
    if (chartConfigTheme) {
        const chartConfig = result.config?.[chartType] || {};
        const mergedConfig = mergeDeep(chartConfigTheme, clone(chartConfig));
        for(const _k in mergedConfig){
            const key = _k;
            if (Array.isArray(mergedConfig[key])) mergedConfig[key] = mergeArray(mergedConfig[key], chartConfigTheme[key]);
        }
        result.config = {
            [chartType]: mergedConfig
        };
    }
    const chartCustomTheme = customTheme?.[theme]?.config?.[chartType];
    result.customTheme = {
        config: {
            [chartType]: chartCustomTheme
        }
    };
    return result;
};
const mergeArray = (arr, themeItem)=>{
    if (isNullish(themeItem) || isString(themeItem) || isNumber(themeItem)) return arr;
    if (!Array.isArray(arr)) return arr;
    if (arr.some((d)=>!isObjectType(d))) return arr;
    return arr.map((item)=>merge(themeItem, item));
};
export { theme_theme as theme };

//# sourceMappingURL=theme.js.map