{"version":3,"file":"pipeline/advanced/chart/pipes/encoding/adapter/encodingAdapter.js","sources":["../../../../../../../../src/pipeline/advanced/chart/pipes/encoding/adapter/encodingAdapter.ts"],"sourcesContent":["import type {\n  AdvancedPipe,\n  AdvancedPipeline,\n  AdvancedPipelineContext,\n  AdvancedVSeed,\n  Dimension,\n  Measure,\n} from 'src/types'\nimport { execPipeline } from 'src/pipeline/utils'\n\nexport const encodingAdapter = (\n  noEncodingPipeline: AdvancedPipeline,\n  hasEncodingPipeline: AdvancedPipeline,\n): AdvancedPipe => {\n  return (advancedVSeed, context) => {\n    const { dimensions = [], measures = [] } = advancedVSeed\n    const hasDimensionEncoding = dimensions.some((item: Dimension) => item.encoding)\n    const hasMeasureEncoding = measures.some((item: Measure) => item.encoding)\n\n    const hasEncoding = hasDimensionEncoding || hasMeasureEncoding\n\n    if (hasEncoding) {\n      return execPipeline<AdvancedVSeed, AdvancedPipelineContext>(hasEncodingPipeline, context, advancedVSeed)\n    }\n    return execPipeline<AdvancedVSeed, AdvancedPipelineContext>(noEncodingPipeline, context, advancedVSeed)\n  }\n}\n"],"names":["encodingAdapter","noEncodingPipeline","hasEncodingPipeline","advancedVSeed","context","dimensions","measures","hasDimensionEncoding","item","hasMeasureEncoding","hasEncoding","execPipeline"],"mappings":";AAUO,MAAMA,kBAAkB,CAC7BC,oBACAC,sBAEO,CAACC,eAAeC;QACrB,MAAM,EAAEC,aAAa,EAAE,EAAEC,WAAW,EAAE,EAAE,GAAGH;QAC3C,MAAMI,uBAAuBF,WAAW,IAAI,CAAC,CAACG,OAAoBA,KAAK,QAAQ;QAC/E,MAAMC,qBAAqBH,SAAS,IAAI,CAAC,CAACE,OAAkBA,KAAK,QAAQ;QAEzE,MAAME,cAAcH,wBAAwBE;QAE5C,IAAIC,aACF,OAAOC,aAAqDT,qBAAqBE,SAASD;QAE5F,OAAOQ,aAAqDV,oBAAoBG,SAASD;IAC3F"}