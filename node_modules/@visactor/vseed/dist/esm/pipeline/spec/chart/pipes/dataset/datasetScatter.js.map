{"version":3,"file":"pipeline/spec/chart/pipes/dataset/datasetScatter.js","sources":["../../../../../../../src/pipeline/spec/chart/pipes/dataset/datasetScatter.ts"],"sourcesContent":["import type { ISpec } from '@visactor/vchart'\nimport { isPivotChart } from 'src/pipeline/utils'\nimport type { VChartSpecPipe } from 'src/types'\n\nexport const datasetScatter: VChartSpecPipe = (spec, context) => {\n  const { advancedVSeed, vseed } = context\n  const { datasetReshapeInfo } = advancedVSeed\n  const id = datasetReshapeInfo[0].id\n\n  const fields: Record<string, object> = {}\n\n  return {\n    ...spec,\n    data: {\n      id,\n      // 透视表不使用 dataValues\n      values: isPivotChart(vseed) ? undefined : advancedVSeed.dataset.flat(),\n      fields: fields,\n    },\n  } as ISpec\n}\n"],"names":["datasetScatter","spec","context","advancedVSeed","vseed","datasetReshapeInfo","id","fields","isPivotChart","undefined"],"mappings":";AAIO,MAAMA,iBAAiC,CAACC,MAAMC;IACnD,MAAM,EAAEC,aAAa,EAAEC,KAAK,EAAE,GAAGF;IACjC,MAAM,EAAEG,kBAAkB,EAAE,GAAGF;IAC/B,MAAMG,KAAKD,kBAAkB,CAAC,EAAE,CAAC,EAAE;IAEnC,MAAME,SAAiC,CAAC;IAExC,OAAO;QACL,GAAGN,IAAI;QACP,MAAM;YACJK;YAEA,QAAQE,aAAaJ,SAASK,SAAYN,cAAc,OAAO,CAAC,IAAI;YACpE,QAAQI;QACV;IACF;AACF"}