{"version":3,"file":"pipeline/spec/chart/pipes/markStyle/pointState.js","sources":["../../../../../../../src/pipeline/spec/chart/pipes/markStyle/pointState.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unsafe-call */\nimport type { IScatterChartSpec } from '@visactor/vchart'\nimport type { Datum, VChartSpecPipe } from 'src/types'\n\nexport const pointStateDimensionHover: VChartSpecPipe = (spec) => {\n  const point = (spec as IScatterChartSpec).point || {}\n  const result = {\n    ...spec,\n    point: {\n      ...point,\n      state: {\n        ...(point.state || {}),\n        dimension_hover: {\n          scaleX: 1.4,\n          scaleY: 1.4,\n          outerBorder: {\n            lineWidth: 4,\n            strokeOpacity: 0.25,\n            distance: 2,\n          },\n        },\n      },\n    },\n  } as IScatterChartSpec\n  return result\n}\n\nexport const pointStateHover: VChartSpecPipe = (spec, context) => {\n  const point = (spec as IScatterChartSpec).point || {}\n  const { advancedVSeed } = context\n  const { datasetReshapeInfo } = advancedVSeed\n  const { unfoldInfo } = datasetReshapeInfo[0]\n  const result = {\n    ...spec,\n    point: {\n      ...point,\n      state: {\n        ...(point.state || {}),\n        hover: {\n          scaleX: 1.4,\n          scaleY: 1.4,\n          stroke: (datum: Datum, context: unknown) => {\n            const field = unfoldInfo.encodingColorId\n            const color = (context as any).seriesColor(datum[field] as string)\n            return color\n          },\n          fillOpacity: 0.6,\n          lineWidth: 1,\n        },\n      },\n    },\n  } as IScatterChartSpec\n  return result\n}\n"],"names":["pointStateDimensionHover","spec","point","result","pointStateHover","context","advancedVSeed","datasetReshapeInfo","unfoldInfo","datum","field","color"],"mappings":"AAIO,MAAMA,2BAA2C,CAACC;IACvD,MAAMC,QAASD,KAA2B,KAAK,IAAI,CAAC;IACpD,MAAME,SAAS;QACb,GAAGF,IAAI;QACP,OAAO;YACL,GAAGC,KAAK;YACR,OAAO;gBACL,GAAIA,MAAM,KAAK,IAAI,CAAC,CAAC;gBACrB,iBAAiB;oBACf,QAAQ;oBACR,QAAQ;oBACR,aAAa;wBACX,WAAW;wBACX,eAAe;wBACf,UAAU;oBACZ;gBACF;YACF;QACF;IACF;IACA,OAAOC;AACT;AAEO,MAAMC,kBAAkC,CAACH,MAAMI;IACpD,MAAMH,QAASD,KAA2B,KAAK,IAAI,CAAC;IACpD,MAAM,EAAEK,aAAa,EAAE,GAAGD;IAC1B,MAAM,EAAEE,kBAAkB,EAAE,GAAGD;IAC/B,MAAM,EAAEE,UAAU,EAAE,GAAGD,kBAAkB,CAAC,EAAE;IAC5C,MAAMJ,SAAS;QACb,GAAGF,IAAI;QACP,OAAO;YACL,GAAGC,KAAK;YACR,OAAO;gBACL,GAAIA,MAAM,KAAK,IAAI,CAAC,CAAC;gBACrB,OAAO;oBACL,QAAQ;oBACR,QAAQ;oBACR,QAAQ,CAACO,OAAcJ;wBACrB,MAAMK,QAAQF,WAAW,eAAe;wBACxC,MAAMG,QAASN,QAAgB,WAAW,CAACI,KAAK,CAACC,MAAM;wBACvD,OAAOC;oBACT;oBACA,aAAa;oBACb,WAAW;gBACb;YACF;QACF;IACF;IACA,OAAOR;AACT"}