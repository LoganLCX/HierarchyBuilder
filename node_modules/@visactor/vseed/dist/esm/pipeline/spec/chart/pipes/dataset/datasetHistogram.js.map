{"version":3,"file":"pipeline/spec/chart/pipes/dataset/datasetHistogram.js","sources":["../../../../../../../src/pipeline/spec/chart/pipes/dataset/datasetHistogram.ts"],"sourcesContent":["import type { ISpec } from '@visactor/vchart'\nimport { isPivotChart } from 'src/pipeline/utils'\nimport type { VChartSpecPipe } from 'src/types'\n\nexport const datasetHistogram: VChartSpecPipe = (spec, context) => {\n  const { advancedVSeed, vseed } = context\n  const { datasetReshapeInfo } = advancedVSeed\n  const { id } = datasetReshapeInfo[0]\n\n  const fields: Record<string, object> = {}\n\n  return {\n    ...spec,\n    data: {\n      id,\n      // 透视表不使用 dataValues\n      values: isPivotChart(vseed) ? undefined : advancedVSeed.dataset.flat(),\n      fields: fields,\n    },\n  } as unknown as ISpec\n}\n"],"names":["datasetHistogram","spec","context","advancedVSeed","vseed","datasetReshapeInfo","id","fields","isPivotChart","undefined"],"mappings":";AAIO,MAAMA,mBAAmC,CAACC,MAAMC;IACrD,MAAM,EAAEC,aAAa,EAAEC,KAAK,EAAE,GAAGF;IACjC,MAAM,EAAEG,kBAAkB,EAAE,GAAGF;IAC/B,MAAM,EAAEG,EAAE,EAAE,GAAGD,kBAAkB,CAAC,EAAE;IAEpC,MAAME,SAAiC,CAAC;IAExC,OAAO;QACL,GAAGN,IAAI;QACP,MAAM;YACJK;YAEA,QAAQE,aAAaJ,SAASK,SAAYN,cAAc,OAAO,CAAC,IAAI;YACpE,QAAQI;QACV;IACF;AACF"}