{"version":3,"file":"pipeline/spec/chart/pipes/dataset/datasetPivot.js","sources":["../../../../../../../src/pipeline/spec/chart/pipes/dataset/datasetPivot.ts"],"sourcesContent":["import type { PivotChartSpecPipe } from 'src/types'\n\nexport const datasetPivot: PivotChartSpecPipe = (spec, context) => {\n  const result = { ...spec }\n  const { advancedVSeed } = context\n  const { dataset, datasetReshapeInfo } = advancedVSeed\n  const records = dataset.reduce((pre, cur, index) => {\n    const id = datasetReshapeInfo[index].id\n    pre[id] = cur\n    return pre\n  }, {})\n  return {\n    ...result,\n    records: records,\n  }\n}\n"],"names":["datasetPivot","spec","context","result","advancedVSeed","dataset","datasetReshapeInfo","records","pre","cur","index","id"],"mappings":"AAEO,MAAMA,eAAmC,CAACC,MAAMC;IACrD,MAAMC,SAAS;QAAE,GAAGF,IAAI;IAAC;IACzB,MAAM,EAAEG,aAAa,EAAE,GAAGF;IAC1B,MAAM,EAAEG,OAAO,EAAEC,kBAAkB,EAAE,GAAGF;IACxC,MAAMG,UAAUF,QAAQ,MAAM,CAAC,CAACG,KAAKC,KAAKC;QACxC,MAAMC,KAAKL,kBAAkB,CAACI,MAAM,CAAC,EAAE;QACvCF,GAAG,CAACG,GAAG,GAAGF;QACV,OAAOD;IACT,GAAG,CAAC;IACJ,OAAO;QACL,GAAGL,MAAM;QACT,SAASI;IACX;AACF"}