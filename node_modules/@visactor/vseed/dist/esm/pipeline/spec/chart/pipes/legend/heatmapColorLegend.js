import { colorLegend } from "./colorLegend.js";
import { DATUM_HIDE_KEY } from "../../../../utils/constant.js";
const heatmapColorLegend = (spec, context)=>{
    const result = colorLegend(spec, context);
    if (result.legends) result.legends.customFilter = (data, range, key)=>{
        const min = Math.min(range[0], range[1]);
        const max = Math.max(range[0], range[1]);
        return (data ?? []).map((entry)=>{
            const val = entry[key];
            const isHide = val - min < -0.000001 || val - max > 1e-6;
            entry[DATUM_HIDE_KEY] = isHide;
            return entry;
        });
    };
    return result;
};
export { heatmapColorLegend };

//# sourceMappingURL=heatmapColorLegend.js.map