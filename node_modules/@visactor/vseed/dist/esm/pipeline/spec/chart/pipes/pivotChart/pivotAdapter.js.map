{"version":3,"file":"pipeline/spec/chart/pipes/pivotChart/pivotAdapter.js","sources":["../../../../../../../src/pipeline/spec/chart/pipes/pivotChart/pivotAdapter.ts"],"sourcesContent":["import type {\n  PivotChartSpecPipe,\n  PivotChartSpecPipeline,\n  SpecPipe,\n  SpecPipelineContext,\n  VChartSpecPipe,\n  VChartSpecPipeline,\n} from 'src/types'\nimport type { ISpec } from '@visactor/vchart'\nimport type { PivotChartConstructorOptions } from '@visactor/vtable'\nimport { execPipeline, isPivotChart } from '../../../../utils'\n\nexport const pivotAdapter = (pipeline: VChartSpecPipeline, pivotPipeline: PivotChartSpecPipeline): SpecPipe => {\n  const adapted = ((spec: unknown, context: SpecPipelineContext) => {\n    const { vseed } = context\n    const usePivotChart = isPivotChart(vseed)\n    if (usePivotChart) {\n      return execPipeline<PivotChartConstructorOptions, SpecPipelineContext>(\n        pivotPipeline,\n        context,\n        spec as Partial<PivotChartConstructorOptions>,\n      )\n    }\n    return execPipeline<ISpec, SpecPipelineContext>(pipeline, context, spec as Partial<ISpec>)\n  }) as VChartSpecPipe & PivotChartSpecPipe\n\n  return adapted as unknown as SpecPipe\n}\n"],"names":["pivotAdapter","pipeline","pivotPipeline","adapted","spec","context","vseed","usePivotChart","isPivotChart","execPipeline"],"mappings":";AAYO,MAAMA,eAAe,CAACC,UAA8BC;IACzD,MAAMC,UAAW,CAACC,MAAeC;QAC/B,MAAM,EAAEC,KAAK,EAAE,GAAGD;QAClB,MAAME,gBAAgBC,aAAaF;QACnC,IAAIC,eACF,OAAOE,aACLP,eACAG,SACAD;QAGJ,OAAOK,aAAyCR,UAAUI,SAASD;IACrE;IAEA,OAAOD;AACT"}