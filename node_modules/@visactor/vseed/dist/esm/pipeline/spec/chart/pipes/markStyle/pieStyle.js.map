{"version":3,"file":"pipeline/spec/chart/pipes/markStyle/pieStyle.js","sources":["../../../../../../../src/pipeline/spec/chart/pipes/markStyle/pieStyle.ts"],"sourcesContent":["import type { IPieChartSpec } from '@visactor/vchart'\nimport type { VChartSpecPipe } from 'src/types'\n\nexport const pieStyle: VChartSpecPipe = (spec, context) => {\n  const { advancedVSeed, vseed } = context\n  const { chartType } = vseed\n  const { dataset } = advancedVSeed\n  const showStroke = dataset.length <= 30\n  const config = advancedVSeed.config?.[chartType as 'pie']\n\n  const result = {\n    ...spec,\n    pie: {\n      style: {\n        stroke: config?.backgroundColor ?? '#ffffff',\n        lineWidth: showStroke ? 1 : 0,\n      },\n    },\n  } as Required<IPieChartSpec>\n\n  if ((spec as IPieChartSpec).outerRadius) {\n    result.pie.state = {\n      hover: {\n        outerRadius: ((spec as IPieChartSpec).outerRadius as number) * 1.1,\n      },\n    }\n  }\n\n  if (config?.cornerRadius) {\n    result.pie.style!.cornerRadius = config.cornerRadius\n  }\n\n  return result\n}\n"],"names":["pieStyle","spec","context","advancedVSeed","vseed","chartType","dataset","showStroke","config","result"],"mappings":"AAGO,MAAMA,WAA2B,CAACC,MAAMC;IAC7C,MAAM,EAAEC,aAAa,EAAEC,KAAK,EAAE,GAAGF;IACjC,MAAM,EAAEG,SAAS,EAAE,GAAGD;IACtB,MAAM,EAAEE,OAAO,EAAE,GAAGH;IACpB,MAAMI,aAAaD,QAAQ,MAAM,IAAI;IACrC,MAAME,SAASL,cAAc,MAAM,EAAE,CAACE,UAAmB;IAEzD,MAAMI,SAAS;QACb,GAAGR,IAAI;QACP,KAAK;YACH,OAAO;gBACL,QAAQO,QAAQ,mBAAmB;gBACnC,WAAWD,aAAa,IAAI;YAC9B;QACF;IACF;IAEA,IAAKN,KAAuB,WAAW,EACrCQ,OAAO,GAAG,CAAC,KAAK,GAAG;QACjB,OAAO;YACL,aAAeR,AAAgD,MAAhDA,KAAuB,WAAW;QACnD;IACF;IAGF,IAAIO,QAAQ,cACVC,OAAO,GAAG,CAAC,KAAK,CAAE,YAAY,GAAGD,OAAO,YAAY;IAGtD,OAAOC;AACT"}