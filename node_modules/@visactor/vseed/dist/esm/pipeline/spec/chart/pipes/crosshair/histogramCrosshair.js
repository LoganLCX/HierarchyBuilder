import { verticalCrosshairRect } from "./verticalCrosshairRect.js";
import { getDefaultXFormatterOfHistogram } from "../../utils/histogram.js";
import { isArray } from "@visactor/vutils";
const histogramVerticalCrosshairRect = (spec, context)=>{
    const result = verticalCrosshairRect(spec, context);
    if (!result.crosshair) return result;
    const crosshair = result.crosshair;
    if (!crosshair.xField) return result;
    const defaultXFormatter = getDefaultXFormatterOfHistogram(context.advancedVSeed);
    crosshair.xField = {
        ...crosshair.xField || {},
        label: {
            ...crosshair.xField?.label || {},
            formatMethod: (text)=>{
                if (isArray(text)) return text;
                const binRange = `${text}`.split('~');
                const binStart = defaultXFormatter(+binRange[0]);
                const binEnd = defaultXFormatter(+binRange[1]);
                return 1 === binRange.length ? binStart : `[${binStart}, ${binEnd})`;
            }
        }
    };
    return result;
};
export { histogramVerticalCrosshairRect };

//# sourceMappingURL=histogramCrosshair.js.map