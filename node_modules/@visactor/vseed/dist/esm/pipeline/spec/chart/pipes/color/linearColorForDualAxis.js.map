{"version":3,"file":"pipeline/spec/chart/pipes/color/linearColorForDualAxis.js","sources":["../../../../../../../src/pipeline/spec/chart/pipes/color/linearColorForDualAxis.ts"],"sourcesContent":["import type { IBarChartSpec } from '@visactor/vchart'\nimport type { Color, VChartSpecPipe } from 'src/types'\n\nexport const linearColorForDualAxis: VChartSpecPipe = (spec, context) => {\n  const result = { ...spec } as IBarChartSpec\n  const { advancedVSeed } = context\n  const { datasetReshapeInfo, chartType } = advancedVSeed\n  const { unfoldInfo, id } = datasetReshapeInfo[0]\n  const baseConfig = advancedVSeed.config[chartType] as { color: Color }\n\n  if (!baseConfig || !baseConfig.color) {\n    return result\n  }\n\n  const { color } = baseConfig\n  const { colorScheme, linearColorScheme } = color\n\n  result.color = {\n    type: 'linear',\n    range: linearColorScheme || colorScheme || [],\n    domain: [\n      {\n        dataId: `${id}-primary-dataset`,\n        fields: [unfoldInfo.encodingColor],\n      },\n      {\n        dataId: `${id}-secondary-dataset`,\n        fields: [unfoldInfo.encodingColor],\n      },\n    ],\n  }\n\n  return result\n}\n"],"names":["linearColorForDualAxis","spec","context","result","advancedVSeed","datasetReshapeInfo","chartType","unfoldInfo","id","baseConfig","color","colorScheme","linearColorScheme"],"mappings":"AAGO,MAAMA,yBAAyC,CAACC,MAAMC;IAC3D,MAAMC,SAAS;QAAE,GAAGF,IAAI;IAAC;IACzB,MAAM,EAAEG,aAAa,EAAE,GAAGF;IAC1B,MAAM,EAAEG,kBAAkB,EAAEC,SAAS,EAAE,GAAGF;IAC1C,MAAM,EAAEG,UAAU,EAAEC,EAAE,EAAE,GAAGH,kBAAkB,CAAC,EAAE;IAChD,MAAMI,aAAaL,cAAc,MAAM,CAACE,UAAU;IAElD,IAAI,CAACG,cAAc,CAACA,WAAW,KAAK,EAClC,OAAON;IAGT,MAAM,EAAEO,KAAK,EAAE,GAAGD;IAClB,MAAM,EAAEE,WAAW,EAAEC,iBAAiB,EAAE,GAAGF;IAE3CP,OAAO,KAAK,GAAG;QACb,MAAM;QACN,OAAOS,qBAAqBD,eAAe,EAAE;QAC7C,QAAQ;YACN;gBACE,QAAQ,GAAGH,GAAG,gBAAgB,CAAC;gBAC/B,QAAQ;oBAACD,WAAW,aAAa;iBAAC;YACpC;YACA;gBACE,QAAQ,GAAGC,GAAG,kBAAkB,CAAC;gBACjC,QAAQ;oBAACD,WAAW,aAAa;iBAAC;YACpC;SACD;IACH;IAEA,OAAOJ;AACT"}