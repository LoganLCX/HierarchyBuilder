{"version":3,"file":"pipeline/utils/pipeline.js","sources":["../../../../src/pipeline/utils/pipeline.ts"],"sourcesContent":["import type { ExecPipelineType, Pipe } from 'src/types'\n\n/**\n * 执行pipeline, 每个pipe负责构建结果的一部分, 构建完成后得到完整的目标结果\n * @param pipeline pipeline数组, 每个pipe负责构建结果的一部分\n * @param initialValue 初始值\n * @param context 上下文\n * @returns 执行后的结果\n */\nexport const execPipeline: ExecPipelineType = <T, U>(\n  pipeline: Array<Pipe<T, U>>,\n  context: U,\n  initialValue: Partial<T> = {},\n): T => {\n  const result = pipeline.reduce((prev, cur) => {\n    return cur(prev, context)\n  }, initialValue)\n  return result as T\n}\n"],"names":["execPipeline","pipeline","context","initialValue","result","prev","cur"],"mappings":"AASO,MAAMA,eAAiC,CAC5CC,UACAC,SACAC,eAA2B,CAAC,CAAC;IAE7B,MAAMC,SAASH,SAAS,MAAM,CAAC,CAACI,MAAMC,MAC7BA,IAAID,MAAMH,UAChBC;IACH,OAAOC;AACT"}