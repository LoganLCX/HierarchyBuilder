{"version":3,"file":"types/properties/format/numFormat.js","sources":["../../../../../src/types/properties/format/numFormat.ts"],"sourcesContent":["import { z } from 'zod'\n\nexport interface NumFormat {\n  /**\n   * @description 数字格式化类型, 支持数值(十进制)、百分比(%)、千分比(‰)、科学计数法\n   * @default 'number'\n   */\n  type?: 'number' | 'percent' | 'permille' | 'scientific'\n\n  /**\n   * @description 数值格式化比例, 不能为0\n   * @default 1\n   * @example\n   * - 100000 转换为 10万, ratio:10000, symbol:\"万\"\n   * - 100000 转换为 10K, ratio:1000, symbol:\"K\"\n   */\n  ratio?: number\n\n  /**\n   * @description 数值格式化符号, 例如%、‰\n   * @default ''\n   * @example\n   * - 100000 转换为 10万, ratio:10000, symbol:\"万\"\n   * - 100000 转换为 10K, ratio:1000, symbol:\"K\"\n   */\n  symbol?: string\n\n  /**\n   * @description 数值格式化千分位分隔符\n   * @default true\n   */\n  thousandSeparator?: boolean\n\n  /**\n   * @description 数值格式化后缀\n   * @default ''\n   */\n  suffix?: string\n  /**\n   * @description 数值格式化前缀\n   * @default ''\n   */\n  prefix?: string\n\n  /**\n   * @description 数值格式化小数位, 使用浏览器提供的 Intl.NumberFormat 中的 minimumFractionDigits 和 maximumFractionDigits 进行格式化, 优先级低于 significantDigits\n   * @default 2\n   * @example\n   * - 1234.5678 转换为 1235, fractionDigits:0 (roundingMode:halfCeil)\n   * - 1234.5678 转换为 1234.6, fractionDigits:1 (roundingMode:halfCeil)\n   * - 1234.5678 转换为 1234.57, fractionDigits:2 (roundingMode:halfCeil)\n   * - 1234.5678 转换为 1230.568, fractionDigits:3 (roundingMode:halfCeil)\n   * - 1234.5678 转换为 1234.5678, fractionDigits:4 (roundingMode:halfCeil)\n   * - 1234.5678 转换为 1234.56780, fractionDigits:5 (roundingMode:halfCeil)\n   */\n  fractionDigits?: number\n\n  /**\n   * @description 数值格式化有效位, 使用浏览器提供的 Intl.NumberFormat 中的 minimumSignificantDigits 和 maximumSignificantDigits 进行格式化, 优先级高于 fractionDigits\n   * @default undefined\n   * @example\n   * - 1234.5678 转换为 1000, significantDigits:1\n   * - 1234.5678 转换为 1200, significantDigits:2\n   * - 1234.5678 转换为 1230, significantDigits:3\n   * - 1234.5678 转换为 1234, significantDigits:4\n   * - 1234.5678 转换为 1234.6, significantDigits:5 (roundingMode:halfCeil)\n   * - 1234.5678 转换为 1234.57, significantDigits:6 (roundingMode:halfCeil)\n   * - 1234.5678 转换为 1234.568, significantDigits:7 (roundingMode:halfCeil)\n   * - 1234.5678 转换为 1234.5678, significantDigits:8 (roundingMode:halfCeil)\n   */\n  significantDigits?: number\n\n  /**\n   * @description 数值格式化舍入优先级, 处理同时设置了 significantDigits 和 fractionDigits 时的舍入优先级, 使用浏览器提供的 Intl.NumberFormat 进行格式化, 规则同 Intl.NumberFormat 中的 roundingPriority\n   * @default 'morePrecision'\n   * @example\n   * - 1234.5678 转换为 1230, significantDigits:3 (roundingPriority:lessPrecision)\n   * - 1234.5678 转换为 1234.5678, significantDigits:3 (roundingPriority:morePrecision)\n   */\n  roundingPriority?: 'morePrecision' | 'lessPrecision'\n\n  /**\n   * @description 数值格式化舍入模式, 使用浏览器提供的 Intl.NumberFormat 进行格式化, 规则同 Intl.NumberFormat 中的 roundingMode\n   * @default 'halfExpand'\n   * @example\n   */\n  roundingMode?:\n    | 'floor'\n    | 'ceil'\n    | 'expand'\n    | 'trunc'\n    | 'halfCeil'\n    | 'halfFloor'\n    | 'halfExpand'\n    | 'halfTrunc'\n    | 'halfEven'\n}\n\nexport const zNumFormat = z\n  .object({\n    type: z.enum(['number', 'percent', 'permille', 'scientific']).default('number').optional(),\n    ratio: z.number().default(1).optional(),\n    symbol: z.string().default('').optional(),\n    thousandSeparator: z.boolean().default(false).optional(),\n    prefix: z.string().default('').optional(),\n    suffix: z.string().default('').optional(),\n\n    fractionDigits: z.number().default(2).optional(),\n    significantDigits: z.number().default(0).optional(),\n    roundingPriority: z.enum(['morePrecision', 'lessPrecision']).default('morePrecision').optional(),\n    roundingMode: z\n      .enum(['floor', 'ceil', 'halfEven', 'expand', 'trunc', 'halfFloor', 'halfCeil', 'halfExpand', 'halfTrunc'])\n      .default('halfCeil')\n      .optional(),\n  })\n  .optional()\n"],"names":["zNumFormat","z"],"mappings":";AAkGO,MAAMA,aAAaC,EAAAA,MACjB,CAAC;IACN,MAAMA,CAAC,CAADA,OAAM,CAAC;QAAC;QAAU;QAAW;QAAY;KAAa,EAAE,OAAO,CAAC,UAAU,QAAQ;IACxF,OAAOA,EAAE,MAAM,GAAG,OAAO,CAAC,GAAG,QAAQ;IACrC,QAAQA,EAAE,MAAM,GAAG,OAAO,CAAC,IAAI,QAAQ;IACvC,mBAAmBA,EAAE,OAAO,GAAG,OAAO,CAAC,OAAO,QAAQ;IACtD,QAAQA,EAAE,MAAM,GAAG,OAAO,CAAC,IAAI,QAAQ;IACvC,QAAQA,EAAE,MAAM,GAAG,OAAO,CAAC,IAAI,QAAQ;IAEvC,gBAAgBA,EAAE,MAAM,GAAG,OAAO,CAAC,GAAG,QAAQ;IAC9C,mBAAmBA,EAAE,MAAM,GAAG,OAAO,CAAC,GAAG,QAAQ;IACjD,kBAAkBA,CAAC,CAADA,OAAM,CAAC;QAAC;QAAiB;KAAgB,EAAE,OAAO,CAAC,iBAAiB,QAAQ;IAC9F,cAAcA,CAAC,CAADA,OACP,CAAC;QAAC;QAAS;QAAQ;QAAY;QAAU;QAAS;QAAa;QAAY;QAAc;KAAY,EACzG,OAAO,CAAC,YACR,QAAQ;AACb,GACC,QAAQ"}