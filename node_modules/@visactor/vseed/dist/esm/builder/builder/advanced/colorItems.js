import { unique } from "remeda";
import { isPivotTable, isTable } from "../../../pipeline/index.js";
const getColorItems = (builder)=>{
    const advancedVSeed = builder.advancedVSeed;
    if (!advancedVSeed || isTable(builder.vseed) || isPivotTable(builder.vseed)) return [];
    const { datasetReshapeInfo } = advancedVSeed;
    const colorItems = unique(datasetReshapeInfo.flatMap((d)=>d.unfoldInfo.colorItems));
    const colorIdMap = datasetReshapeInfo.reduce((prev, cur)=>({
            ...prev,
            ...cur.unfoldInfo.colorIdMap
        }), {});
    return colorItems.map((d)=>({
            id: d,
            alias: colorIdMap[d]?.alias
        }));
};
const getColorIdMap = (builder)=>{
    const advancedVSeed = builder.advancedVSeed;
    if (!advancedVSeed || isTable(builder.vseed) || isPivotTable(builder.vseed)) return {};
    const { datasetReshapeInfo } = advancedVSeed;
    const colorIdMap = datasetReshapeInfo.reduce((prev, cur)=>({
            ...prev,
            ...cur.unfoldInfo.colorIdMap
        }), {});
    return colorIdMap;
};
export { getColorIdMap, getColorItems };

//# sourceMappingURL=colorItems.js.map