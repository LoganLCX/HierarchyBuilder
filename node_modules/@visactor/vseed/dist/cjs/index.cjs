"use strict";const __rslib_import_meta_url__="undefined"==typeof document?new(require("url".replace("",""))).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("main.js",document.baseURI).href;var __webpack_require__={};__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{donutAdvancedPipeline:()=>donutAdvancedPipeline,scatterAdvancedPipeline:()=>scatterAdvancedPipeline,zLineConfig:()=>zLineConfig,zSelectors:()=>zSelectors,FoldXMeasureValue:()=>FoldXMeasureValue,pivotTableAdvancedPipeline:()=>pivotTableAdvancedPipeline,zAnnotationAreaConfig:()=>zAnnotationAreaConfig,selectByPartial:()=>selectByPartial,zCustomTheme:()=>zCustomTheme,intl:()=>intl,roseParallelSpecPipeline:()=>roseParallelSpecPipeline,UpperWhisker:()=>UpperWhisker,zRoseParallel:()=>zRoseParallel,boxplotAdvancedPipeline:()=>boxplotAdvancedPipeline,registerRadar:()=>registerRadar,isRadar:()=>isRadar,isVTable:()=>isVTable,findAllMeasures:()=>findAllMeasures,zFunnelConfig:()=>zFunnelConfig,zUnfoldInfo:()=>zUnfoldInfo,registerColumnPercent:()=>registerColumnPercent,zPivotTableConfig:()=>zPivotTableConfig,registerRose:()=>registerRose,zDimensions:()=>zDimensions,zPieConfig:()=>zPieConfig,zScatterConfig:()=>zScatterConfig,zYLinearAxis:()=>zYLinearAxis,zLabel:()=>zLabel,registerAreaPercent:()=>registerAreaPercent,zAnnotationArea:()=>zAnnotationArea,zDimension:()=>zDimension,FoldPrimaryMeasureValue:()=>FoldPrimaryMeasureValue,donutSpecPipeline:()=>donutSpecPipeline,zSortLegend:()=>zSortLegend,selectorDatum:()=>selectorDatum,registerTable:()=>registerTable,zCrosshairRect:()=>zCrosshairRect,boxplotSpecPipeline:()=>boxplotSpecPipeline,zAnnotationVerticalLineConfig:()=>zAnnotationVerticalLineConfig,zCustomThemeConfig:()=>zCustomThemeConfig,zMeasureEncoding:()=>zMeasureEncoding,MedianMeasureId:()=>MedianMeasureId,BinPercentageMeasureId:()=>BinPercentageMeasureId,AngleEncoding:()=>AngleEncoding,zCrosshairLine:()=>zCrosshairLine,zEcdfRegressionLine:()=>zEcdfRegressionLine,zLegend:()=>zLegend,zMeasure:()=>zMeasure,zBoxMaxWidth:()=>zBoxMaxWidth,zMeasureGroup:()=>zMeasureGroup,zOutlierStyle:()=>zOutlierStyle,zBarStyle:()=>zBarStyle,lineSpecPipeline:()=>lineSpecPipeline,replaceNullToUndefined:()=>replaceNullToUndefined,zBarParallel:()=>zBarParallel,zBarPercent:()=>zBarPercent,LINEAR_AXIS_INNER_OFFSET_TOP:()=>12,zBarPercentConfig:()=>zBarPercentConfig,zDualAxis:()=>zDualAxis,DetailEncoding:()=>DetailEncoding,dualAxisAdvancedPipeline:()=>dualAxisAdvancedPipeline,FoldSecondaryMeasureValue:()=>FoldSecondaryMeasureValue,zXLinearAxis:()=>zXLinearAxis,zRose:()=>zRose,selectByDmension:()=>selectByDmension,isDimensionGroup:()=>isDimensionGroup,BinEndMeasureId:()=>BinEndMeasureId,zHeatmapConfig:()=>zHeatmapConfig,DATUM_HIDE_KEY:()=>DATUM_HIDE_KEY,isAreaPercent:()=>isAreaPercent,zAdvancedVSeed:()=>zAdvancedVSeed,FoldXMeasureId:()=>FoldXMeasureId,Q3MeasureValue:()=>"__Q3__",zColor:()=>zColor,zFoldInfo:()=>zFoldInfo,isPivotTable:()=>isPivotTable,zHistogram:()=>zHistogram,registerArea:()=>registerArea,AXIS_LABEL_SPACE:()=>8,zRoseConfig:()=>zRoseConfig,areaPercentSpecPipeline:()=>areaPercentSpecPipeline,darkTheme:()=>darkTheme,FoldYMeasureId:()=>FoldYMeasureId,selector:()=>selector_selector,zAnnotationHorizontalLine:()=>zAnnotationHorizontalLine,zDualChartType:()=>zDualChartType,ORIGINAL_DATA:()=>ORIGINAL_DATA,columnAdvancedPipeline:()=>columnAdvancedPipeline,FoldMeasureId:()=>FoldMeasureId,MeasureName:()=>MeasureName,lightTheme:()=>lightTheme,zSort:()=>zSort,hasMultipleMeasureInSingleView:()=>hasMultipleMeasureInSingleView,columnParallelSpecPipeline:()=>columnParallelSpecPipeline,roseSpecPipeline:()=>roseSpecPipeline,columnSpecPipeline:()=>columnSpecPipeline,pivotTableSpecPipeline:()=>pivotTableSpecPipeline,BinCountMeasureId:()=>BinCountMeasureId,zYBandAxis:()=>zYBandAxis,registerRoseParallel:()=>registerRoseParallel,zLocale:()=>zLocale,zHeatmap:()=>zHeatmap,isColumnPercent:()=>isColumnPercent,selectByMeasure:()=>selectByMeasure,autoNumFormatter:()=>autoNumFormatter,zConfig:()=>zConfig,zLinearRegressionLine:()=>zLinearRegressionLine,createNumFormatter:()=>createNumFormatter,DEFAULT_PARENT_ID:()=>DEFAULT_PARENT_ID,isPivotChart:()=>isPivotChart,zPolynomialRegressionLine:()=>zPolynomialRegressionLine,zTableConfig:()=>zTableConfig,findFirstMeasure:()=>findFirstMeasure,isValueSelector:()=>isValueSelector,zFunnel:()=>zFunnel,zChartType:()=>zChartType,registerColumnParallel:()=>registerColumnParallel,isDimensionSelector:()=>isDimensionSelector,BAND_AXIS_INNER_OFFSET_IN_PIVOT:()=>2,isBarPercent:()=>isBarPercent,zBar:()=>zBar,zColorLegend:()=>zColorLegend,zColumnConfig:()=>zColumnConfig,zPie:()=>zPie,isTable:()=>isTable,zDonut:()=>zDonut,registerPie:()=>registerPie,ColorIdEncoding:()=>ColorIdEncoding,zColumnPercentConfig:()=>zColumnPercentConfig,roseParallelAdvancedPipeline:()=>roseParallelAdvancedPipeline,zWhiskersConfig:()=>zWhiskersConfig,zBackgroundColor:()=>zBackgroundColor,EncodingEnum:()=>EncodingEnum,zScatterMeasures:()=>zScatterMeasures,foldMeasures:()=>foldMeasures,DUAL_AXIS_LABEL_Z_INDEX:()=>1002,zAnnotationPoint:()=>zAnnotationPoint,zPivotTable:()=>zPivotTable,OutliersMeasureId:()=>OutliersMeasureId,barParallelSpecPipeline:()=>barParallelSpecPipeline,scatterSpecPipeline:()=>scatterSpecPipeline,Separator:()=>"-",barSpecPipeline:()=>barSpecPipeline,measureDepth:()=>measureDepth,registerBar:()=>registerBar,updateSpec:()=>updateSpec,registerHistogram:()=>registerHistogram,Q1MeasureValue:()=>"__Q1__",lineAdvancedPipeline:()=>lineAdvancedPipeline,zRadarConfig:()=>zRadarConfig,zRoseParallelConfig:()=>zRoseParallelConfig,isMeasureSelector:()=>isMeasureSelector,areaPercentAdvancedPipeline:()=>areaPercentAdvancedPipeline,zAreaStyle:()=>zAreaStyle,zKdeRegressionLine:()=>zKdeRegressionLine,zTooltip:()=>zTooltip,zAreaPercentConfig:()=>zAreaPercentConfig,zPivotChartGridConfig:()=>zPivotChartGridConfig,zMarkStyle:()=>zMarkStyle,zPointStyle:()=>zPointStyle,areaAdvancedPipeline:()=>areaAdvancedPipeline,zBoxPlotStyle:()=>zBoxPlotStyle,DUAL_AXIS_CHART_NON_COLUMN_Z_INDEX:()=>1001,zBarMaxWidth:()=>zBarMaxWidth,zColumnParallelConfig:()=>zColumnParallelConfig,BinStartMeasureId:()=>BinStartMeasureId,MeasureEncodingEnum:()=>MeasureEncodingEnum,ColorEncoding:()=>ColorEncoding,zLowessRegressionLine:()=>zLowessRegressionLine,heatmapAdvancedPipeline:()=>heatmapAdvancedPipeline,tableSpecPipeline:()=>tableSpecPipeline,zEncoding:()=>zEncoding,zAreaConfig:()=>zAreaConfig,registerAll:()=>registerAll,dataReshapeByEncoding:()=>dataReshapeByEncoding,dualAxisSpecPipeline:()=>dualAxisSpecPipeline,unfoldDimensions:()=>unfoldDimensions,zArea:()=>zArea,histogramAdvancedPipeline:()=>histogramAdvancedPipeline,registerDarkTheme:()=>registerDarkTheme,ChartTypeEnum:()=>ChartTypeEnum,zDualMeasures:()=>zDualMeasures,FoldMeasureValue:()=>FoldMeasureValue,isVChart:()=>isVChart,zTheme:()=>zTheme,autoFormatter:()=>autoFormatter,zDatum:()=>zDatum,radarSpecPipeline:()=>radarSpecPipeline,zDimensionTree:()=>zDimensionTree,checkVSeed:()=>checkVSeed,zDimensionEncoding:()=>zDimensionEncoding,zBodyCellStyle:()=>zBodyCellStyle,barAdvancedPipeline:()=>barAdvancedPipeline,DUAL_AXIS_CHART_COLUMN_Z_INDEX:()=>1e3,isCombination:()=>isCombination,areaSpecPipeline:()=>areaSpecPipeline,zAnnotationPointConfig:()=>zAnnotationPointConfig,registerPivotTable:()=>registerPivotTable,execPipeline:()=>execPipeline,XEncoding:()=>XEncoding,zBoxPlot:()=>zBoxPlot,zLineStyle:()=>zLineStyle,zRegressionLine:()=>zRegressionLine,findMeasureById:()=>findMeasureById,tableAdvancedPipeline:()=>tableAdvancedPipeline,zDimensionGroup:()=>zDimensionGroup,Builder:()=>Builder,zScatterMeasure:()=>zScatterMeasure,selectByValue:()=>selectByValue,MeasureId:()=>MeasureId,registerBarParallel:()=>registerBarParallel,zAnnotationVerticalLine:()=>zAnnotationVerticalLine,zMeasureTree:()=>zMeasureTree,registerDonut:()=>registerDonut,findTreeNodesBy:()=>findTreeNodesBy,zRadar:()=>zRadar,registerBoxPlot:()=>registerBoxPlot,zAnnotation:()=>zAnnotation,zTable:()=>zTable,pieAdvancedPipeline:()=>pieAdvancedPipeline,ANNOTATION_Z_INDEX:()=>1e3,zColumnPercent:()=>zColumnPercent,zXBandAxis:()=>zXBandAxis,createFormatter:()=>createFormatter,columnPercentSpecPipeline:()=>columnPercentSpecPipeline,zSelector:()=>zSelector,registerHeatmap:()=>registerHeatmap,zMeasures:()=>zMeasures,zLine:()=>zLine,FoldMeasureName:()=>FoldMeasureName,pieSpecPipeline:()=>pieSpecPipeline,zBarGapInGroup:()=>zBarGapInGroup,barPercentSpecPipeline:()=>barPercentSpecPipeline,zColumnParallel:()=>zColumnParallel,zDatasetReshapeInfo:()=>zDatasetReshapeInfo,zAnalysis:()=>zAnalysis,heatmapSpecPipeline:()=>heatmapSpecPipeline,isPivot:()=>chatType_isPivot,registerColumn:()=>registerColumn,updateAdvanced:()=>updateAdvanced,zDimensionLinkage:()=>zDimensionLinkage,preorderTraverse:()=>preorderTraverse,deleteMeasureTreeByCallback:()=>deleteMeasureTreeByCallback,registerLightTheme:()=>registerLightTheme,isMeasure:()=>isMeasure,FoldYMeasureValue:()=>FoldYMeasureValue,LowerWhisker:()=>LowerWhisker,isMeasureGroup:()=>isMeasureGroup,registerBarPercent:()=>registerBarPercent,funnelSpecPipeline:()=>funnelSpecPipeline,zColumn:()=>zColumn,radarAdvancedPipeline:()=>radarAdvancedPipeline,zBarParallelConfig:()=>zBarParallelConfig,zAnnotationConfig:()=>zAnnotationConfig,registerCustomTheme:()=>registerCustomTheme,zVSeed:()=>zVSeed,registerLine:()=>registerLine,zDualMeasure:()=>zDualMeasure,zLinearColor:()=>zLinearColor,zFunnelTransform:()=>zFunnelTransform,barParallelAdvancedPipeline:()=>barParallelAdvancedPipeline,registerDualAxis:()=>registerDualAxis,zAnnotationHorizontalLineConfig:()=>zAnnotationHorizontalLineConfig,registerFunnel:()=>registerFunnel,histogramSpecPipeline:()=>histogramSpecPipeline,roseAdvancedPipeline:()=>roseAdvancedPipeline,zNumFormat:()=>zNumFormat,zBarConfig:()=>zBarConfig,registerScatter:()=>registerScatter,zAreaPercent:()=>zAreaPercent,isDimension:()=>isDimension,isBarLikeChart:()=>isBarLikeChart,columnParallelAdvancedPipeline:()=>columnParallelAdvancedPipeline,deleteDimensionTreeByCallback:()=>deleteDimensionTreeByCallback,zPieLabel:()=>zPieLabel,zStackCornerRadius:()=>zStackCornerRadius,zDualAxisConfig:()=>zDualAxisConfig,columnPercentAdvancedPipeline:()=>columnPercentAdvancedPipeline,barPercentAdvancedPipeline:()=>barPercentAdvancedPipeline,DimensionEncodingEnum:()=>DimensionEncodingEnum,zDonutConfig:()=>zDonutConfig,funnelAdvancedPipeline:()=>funnelAdvancedPipeline,zDataset:()=>zDataset,zLogisticRegressionLine:()=>zLogisticRegressionLine,createFormatterByMeasure:()=>createFormatterByMeasure,zBoxGapInGroup:()=>zBoxGapInGroup,isPartialDatumSelector:()=>isPartialDatumSelector,isMeasures:()=>isMeasures,YEncoding:()=>YEncoding,zScatter:()=>zScatter});const execPipeline=(e,t,n={})=>e.reduce((e,n)=>n(e,t),n),external_remeda_namespaceObject=require("remeda"),translateMap={指标名称:{"en-US":"MeasureName","zh-CN":"指标名称"},指标Id:{"en-US":"MeasureId","zh-CN":"指标Id"},指标值:{"en-US":"MeasureValue","zh-CN":"指标值"},异常点:{"en-US":"Outlier","zh-CN":"异常点"},上边界:{"en-US":"Upper Whisker","zh-CN":"上边界"},上四分位数:{"en-US":"Q3","zh-CN":"75分位数"},中位数:{"en-US":"Q2","zh-CN":"中位数"},下四分位数:{"en-US":"Q1","zh-CN":"25分位数"},下边界:{"en-US":"Lower Whisker","zh-CN":"下边界"}};class i18n_Intl{static instance;translateMap=translateMap;locale="zh-CN";canTranslate=e=>!!this.translateMap[e];i18n=(e,...t)=>{let n=e.map((e,n)=>e+(t[n]||"")).join(""),a=this.translateMap?.[n]?.[this.locale];return(0,external_remeda_namespaceObject.isNullish)(a)?(console.warn(`i18n ${this.locale} no translate: ${n}`),n):a};setLocale=e=>{this.locale=e};getLocale=()=>this.locale;static getInstance(){return i18n_Intl.instance||(i18n_Intl.instance=new i18n_Intl),i18n_Intl.instance}}const intl=i18n_Intl.getInstance(),buildAdvanced=e=>{let t="undefined"!=typeof performance?performance.now():Date.now(),{chartType:n}=e.vseed;if(!n)throw Error("chartType is nil in buildAdvanced");let a=Builder.getAdvancedPipeline(n);if(!a)throw Error(`please invoke registerAll or register ${n} before build, no advanced pipeline for chartType ${n}`);let i={vseed:e.vseed,customTheme:Builder.getThemeMap()};e.locale&&intl.setLocale(e.locale);try{let t=execPipeline(a,i);return e.advancedVSeed=t,t}catch(e){throw console.error(e),Error(`buildAdvanced error: ${e.message}.
details info in console`)}finally{let n="undefined"!=typeof performance?performance.now():Date.now();e.performance.buildAdvanced=`${(n-t).toFixed(4)}ms`}},buildSpec=(e,t)=>{let n="undefined"!=typeof performance?performance.now():Date.now(),{chartType:a}=e.vseed,i=Builder.getSpecPipeline(a);if(!i)throw Error(`please invoke registerAll or register ${a} before build, no spec pipeline for chartType ${a}`);let o={vseed:e.vseed,advancedVSeed:t};e.locale&&intl.setLocale(e.locale);try{let t=execPipeline(i,o);return e.spec=t,t}catch(e){throw console.error(e),Error(`buildSpec error: ${e.message}.
details info in console`)}finally{let t="undefined"!=typeof performance?performance.now():Date.now();e.performance.buildSpec=`${(t-n).toFixed(4)}ms`}},build=e=>{let t=e.buildAdvanced();if(!t)throw Error("advancedVSeed is null");return e.buildSpec(t)},preorderTraverse=(e,t,n="children")=>{if(!e||0===e.length)return;let a=[...e].reverse();for(;a.length>0;){let e=a.pop();if(!0===t(e))return;let i=e[n];if(Array.isArray(i)&&i.length>0)for(let e=i.length-1;e>=0;e--){let t=i[e];a.push(t)}}},findTreeNodesBy=(e=[],t,n="children")=>{if(!e)return[];let a=[];return preorderTraverse(e,e=>(!(n in e)&&t(e)&&a.push(e),!1)),a},measureDepth=(e=[])=>{if(!e)return 0;let t=1;return preorderTraverse(e,e=>("children"in e&&(t=Math.max(t,1+measureDepth(e.children))),!1)),t},isMeasureTreeWithChildren=e=>!!e&&e.some(e=>"children"in e),isMeasureTreeWithParentId=e=>!!e&&e.some(e=>"parentId"in e),normalizeMeasureTree=e=>{let t=()=>({id:"group",alias:"",children:[]}),n=t(),a=[];for(let i of e)"children"in i?(n.children?.length&&(n.id=[n.id,...n.children.map(e=>e.id)].join("-"),n.alias=n.children.map(e=>e.alias).join("-"),a.push(n),n=t()),a.push(i)):n.children?.push(i);return n.children?.length&&(n.id=[n.id,...n.children.map(e=>e.id)].join("-"),n.alias=n.children.map(e=>e.alias).join("-"),a.push(n),n=t()),a},ANNOTATION_Z_INDEX=1e3,LINEAR_AXIS_INNER_OFFSET_TOP=12,DUAL_AXIS_CHART_COLUMN_Z_INDEX=1e3,DUAL_AXIS_CHART_NON_COLUMN_Z_INDEX=1001,DUAL_AXIS_LABEL_Z_INDEX=1002,DEFAULT_PARENT_ID="__DefaultParentId__",AXIS_LABEL_SPACE=8,BAND_AXIS_INNER_OFFSET_IN_PIVOT=2,ChartTypeEnum={Table:"table",PivotTable:"pivotTable",Line:"line",Column:"column",ColumnPercent:"columnPercent",ColumnParallel:"columnParallel",Bar:"bar",BarPercent:"barPercent",BarParallel:"barParallel",Area:"area",AreaPercent:"areaPercent",DualAxis:"dualAxis",Scatter:"scatter",Rose:"rose",RoseParallel:"roseParallel",Pie:"pie",Donut:"donut",Radar:"radar",Funnel:"funnel",Heatmap:"heatmap",Boxplot:"boxPlot",Histogram:"histogram"},DATUM_HIDE_KEY="__VSEED_HideItem__",isTable=e=>e.chartType===ChartTypeEnum.Table,isPivotTable=e=>e.chartType===ChartTypeEnum.PivotTable,isRadar=e=>e.chartType===ChartTypeEnum.Radar,isAreaPercent=e=>e.chartType===ChartTypeEnum.AreaPercent,isColumnPercent=e=>e.chartType===ChartTypeEnum.ColumnPercent,isBarPercent=e=>e.chartType===ChartTypeEnum.BarPercent,isBarLikeChart=e=>e.chartType===ChartTypeEnum.Bar||e.chartType===ChartTypeEnum.BarPercent||e.chartType===ChartTypeEnum.BarParallel,isVTable=e=>["table","pivotTable"].includes(e.chartType),isVChart=e=>!isVTable(e),isPivotChart=e=>!isVTable(e)&&(!!chatType_isPivot(e)||isCombination(e)),chatType_isPivot=e=>{let{dimensions:t=[]}=e;return t&&t.some(e=>"row"===e.encoding||"column"===e.encoding)},isCombination=e=>{if(isMeasureTreeWithParentId(e.measures)){let t=e.measures?.map(e=>e.parentId||DEFAULT_PARENT_ID);return t&&(0,external_remeda_namespaceObject.unique)(t).length>1}if("dualAxis"===e.chartType||"scatter"===e.chartType){if("scatter"===e.chartType)return isMeasureTreeWithChildren(e.measures)?3===measureDepth(e.measures):!!e.scatterMeasures&&!!(e.scatterMeasures.length>1);if("dualAxis"===e.chartType){if(isMeasureTreeWithChildren(e.measures))return 3===measureDepth(e.measures);if(e.dualMeasures&&e.dualMeasures.length>1)return!0}return!1}let{measures:t=[]}=e;return t&&t.some(e=>e&&e.children)},getColorItems=e=>{let t=e.advancedVSeed;if(!t||isTable(e.vseed)||isPivotTable(e.vseed))return[];let{datasetReshapeInfo:n}=t,a=(0,external_remeda_namespaceObject.unique)(n.flatMap(e=>e.unfoldInfo.colorItems)),i=n.reduce((e,t)=>({...e,...t.unfoldInfo.colorIdMap}),{});return a.map(e=>({id:e,alias:i[e]?.alias}))},getColorIdMap=e=>{let t=e.advancedVSeed;if(!t||isTable(e.vseed)||isPivotTable(e.vseed))return{};let{datasetReshapeInfo:n}=t;return n.reduce((e,t)=>({...e,...t.unfoldInfo.colorIdMap}),{})};class Builder{_vseed;_advancedVSeed=null;_spec=null;_performance={};_locale;constructor(e){this._vseed=e,this._locale=e.locale||intl.getLocale()}get locale(){return this._locale}build=()=>build(this);buildSpec=e=>buildSpec(this,e);buildAdvanced=()=>buildAdvanced(this);getColorItems=()=>getColorItems(this);getColorIdMap=()=>getColorIdMap(this);get vseed(){return this._vseed}set vseed(e){this._vseed=e}get advancedVSeed(){return this._advancedVSeed}set advancedVSeed(e){this._advancedVSeed=e}get spec(){return this._spec}set spec(e){this._spec=e}get performance(){return this._performance}set performance(e){this._performance=e}static getAdvancedPipeline=e=>{let t=Builder._customAdvancedPipe[e],n=Builder._advancedPipelineMap[e];return t&&n.push(t),n};static getSpecPipeline=e=>{let t=Builder._customSpecPipe[e],n=Builder._specPipelineMap[e];return t&&n.push(t),n};static getTheme=e=>Builder._themeMap[e||"light"];static getThemeMap=()=>Builder._themeMap;static from=e=>new Builder(e);static _advancedPipelineMap={};static _specPipelineMap={};static _customAdvancedPipe={};static _customSpecPipe={};static _themeMap={}}const checkVSeed=e=>{let{chartType:t,dataset:n,dimensions:a,measures:i}=e;if(!t)throw Error("chartType is required");if(!n||(0,external_remeda_namespaceObject.isEmpty)(n))throw Error("dataset is required, and must be an array");if(a&&!Array.isArray(a))throw Error("dimensions must be an array");if(i&&!Array.isArray(i))throw Error("measures must be an array")},initAdvancedVSeed=(e,t)=>{let{vseed:n}=t,{chartType:a,locale:i}=n;return checkVSeed(n),{...e,chartType:a,locale:i||"zh-CN"}},isMeasure=e=>!("children"in e),isMeasureGroup=e=>"children"in e,isMeasures=e=>e.every(isMeasure),defaultMeasures_defaultMeasures=(e,t)=>{let{vseed:n}=t,{measures:a,dataset:i}=n;if(a&&a.length>0){let t=(0,external_remeda_namespaceObject.clone)(a);return preorderTraverse(t,e=>(isMeasure(e)&&(e.alias=e.alias||e.id),!1)),{...e,measures:t}}let o=i.slice(0,100),r=Object.keys(o.reduce((e,t)=>({...e,...t}),{})).filter(e=>o.some(t=>"number"==typeof t[e])&&!["",null,void 0].includes(e)).map(e=>({id:e,alias:e}));return{...e,measures:r}},isDimension=e=>!("children"in e),isDimensionGroup=e=>"children"in e,findMeasureById=(e=[],t)=>{let n;if(e)return preorderTraverse(e,e=>!("children"in e)&&e.id===t&&(n=e,!0)),n},findFirstMeasure=(e=[])=>{let t;if(e)return preorderTraverse(e,e=>!("children"in e)&&(t=e,!0)),t},findAllMeasures=(e=[])=>{if(!e)return[];let t=[];return preorderTraverse(e,e=>("children"in e||t.push(e),!1)),t},hasMultipleMeasureInSingleView=(e=[])=>{if(e.every(e=>!("children"in e)))return e.length>1;let t=!1;return preorderTraverse(e,e=>!!e.children&&e.children.length>1&&(t=!0,!0)),t},defaultDimensions=(e,t)=>{let n={...e},{vseed:a}=t,{dimensions:i,dataset:o}=a;if(i&&i.length>0){let t=(0,external_remeda_namespaceObject.clone)(i);return preorderTraverse(t,e=>(isDimension(e)&&(e.alias=e.alias||e.id),!1)),{...e,dimensions:t}}let r=findAllMeasures(e.measures),l=o.slice(0,100),s=Object.keys(l.reduce((e,t)=>({...e,...t}),{})).filter(e=>l.some(t=>"string"==typeof t[e])&&!["",null,void 0].includes(e)&&!r.some(t=>t.id===e)).map(e=>({id:e,alias:e}));return{...n,dimensions:s}},replaceNullToUndefined=e=>{if(null!==e)return Array.isArray(e)?e.map(replaceNullToUndefined):(0,external_remeda_namespaceObject.isPlainObject)(e)?(0,external_remeda_namespaceObject.pipe)(e,(0,external_remeda_namespaceObject.mapValues)(e=>replaceNullToUndefined(e))):e},cellStyle_cellStyle=(e,t)=>{let{vseed:n}=t,a=replaceNullToUndefined((0,external_remeda_namespaceObject.pick)(n,["bodyCellStyle"]));return{...e,cellStyle:a}},records_records=(e,t)=>{let{vseed:n}=t,{dataset:a}=n;return{...e,dataset:a}},tableConfig_tableConfig=(e,t)=>{let{vseed:n}=t,{chartType:a}=n,i={...e},o=(0,external_remeda_namespaceObject.pick)(n,["backgroundColor","bodyFontSize","bodyFontColor","bodyBackgroundColor","headerFontSize","headerFontColor","headerBackgroundColor","hoverHeaderBackgroundColor","hoverHeaderInlineBackgroundColor","selectedBorderColor","selectedBackgroundColor"]);return i.config={...i.config||{},[a]:{...o}},i},theme_theme=(e,t)=>{let{customTheme:n,vseed:a}=t,{theme:i="light",chartType:o}=a,r={...e};if(!n||!n[i])return r;let l=n?.[i].config?.[o];if(l){let e=r.config?.[o]||{},t=(0,external_remeda_namespaceObject.mergeDeep)(l,(0,external_remeda_namespaceObject.clone)(e));for(let e in t)Array.isArray(t[e])&&(t[e]=mergeArray(t[e],l[e]));r.config={[o]:t}}let s=n?.[i]?.config?.[o];return r.customTheme={config:{[o]:s}},r},mergeArray=(e,t)=>(0,external_remeda_namespaceObject.isNullish)(t)||(0,external_remeda_namespaceObject.isString)(t)||(0,external_remeda_namespaceObject.isNumber)(t)||!Array.isArray(e)||e.some(e=>!(0,external_remeda_namespaceObject.isObjectType)(e))?e:e.map(e=>(0,external_remeda_namespaceObject.merge)(t,e)),tableAdvancedPipeline=[initAdvancedVSeed,defaultMeasures_defaultMeasures,defaultDimensions,cellStyle_cellStyle,records_records,tableConfig_tableConfig,theme_theme],initTable=(e,t)=>{let{advancedVSeed:n}=t,{dataset:a}=n,{config:i}=n,{backgroundColor:o="transparent"}=i.table||{};return{...e,records:a,widthMode:"standard",defaultHeaderColWidth:"auto",heightMode:"autoHeight",autoWrapText:!0,columnResizeMode:"all",showHeader:!0,tooltip:{isShowOverflowTextTooltip:!0},animationAppear:{duration:300,delay:250,type:"one-by-one",direction:"row"},hover:{highlightMode:"row"},theme:{cellInnerBorder:!1,underlayBackgroundColor:o}}},dimensionTreeToColumns=(e,t)=>{let{advancedVSeed:n}=t,a=n.dimensions,i={...e},o=treeTreeToColumns(a,e=>isMeasure(e)?{width:"auto"}:{});return{...i,columns:[...i.columns||[],...o]}},treeTreeToColumns=(e,t)=>e.map(e=>{if("children"in e&&Array.isArray(e.children)){let n=e.id,a=e.alias??e.id,i=t?.(e)||{};return{field:n,title:a,columns:treeTreeToColumns(e.children,t),...i}}{let n=e.id;return{field:n,title:e.alias??e.id,...t?.(e)||{}}}})||[],createNumFormatter=(e,t=intl.getLocale())=>{let{type:n="number",ratio:a=1,thousandSeparator:i=!0,prefix:o="",suffix:r="",symbol:l="",fractionDigits:s=2,significantDigits:d,roundingMode:c="halfExpand",roundingPriority:u="auto"}=e||{},p={style:"decimal",notation:"scientific"===n?"scientific":"standard",roundingMode:c,roundingPriority:u};(0,external_remeda_namespaceObject.isNumber)(s)&&s>=0&&(p.minimumFractionDigits=s,p.maximumFractionDigits=s),(0,external_remeda_namespaceObject.isNumber)(d)&&d>0&&d>0&&(p.minimumSignificantDigits=d,p.maximumSignificantDigits=d);let _=new Intl.NumberFormat(t,{...p,useGrouping:i});return e=>{let t=Number(e),s="";if(Number.isNaN(t))return String(e);"percent"===n?(t*=100,s="%"):"permille"===n?(t*=1e3,s="‰"):"number"===n&&(t/=a||1);let d=_.format(t);if(i){let e=d.split(".");e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),d=e.join(".")}return`${o}${d}${s}${l??""}${r}`}},autoNumFormatter=(e,t=intl.getLocale())=>{if(null==e||Number.isNaN(Number(e)))return String(e);let n={style:"decimal",notation:"compact",useGrouping:!0};return n.minimumFractionDigits=0,n.maximumFractionDigits=2,new Intl.NumberFormat(t,{...n}).format(Number(e))},createFormatter=(e,t)=>createNumFormatter(e,t),autoFormatter=(e,t=intl.getLocale())=>autoNumFormatter(e,t),createFormatterByMeasure=e=>{if(!e)return e=>String(e);let{numFormat:t,format:n,autoFormat:a}=e,i=t||n||{};return!0===a||(0,external_remeda_namespaceObject.isNullish)(a)&&(0,external_remeda_namespaceObject.isEmpty)(i)?autoFormatter:(0,external_remeda_namespaceObject.isEmpty)(i)?e=>String(e):createFormatter(i)},measureTreeToColumns=(e,t)=>{let{advancedVSeed:n}=t,a=n.measures,i={...e},o=measuresToColumns_treeTreeToColumns(a,e=>isMeasure(e)?{width:"auto",fieldFormat:fieldFormat(e)}:{});return{...i,columns:[...i.columns||[],...o]}},fieldFormat=e=>{let t=createFormatterByMeasure(e);return n=>{let{id:a}=e;return t(n[a])}},measuresToColumns_treeTreeToColumns=(e,t)=>e.map(e=>{if("children"in e&&Array.isArray(e.children)){let n=e.id,a=e.alias??e.id,i=t?.(e)||{};return{field:n,title:a,columns:measuresToColumns_treeTreeToColumns(e.children,t),...i}}{let n=e.id;return{field:n,title:e.alias??e.id,...t?.(e)||{}}}})||[],bodyStyle=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{chartType:i,config:o}=a,r=o?.[i];if(!n.theme||!r)return n;let l=r.borderColor||"rgb(224, 224, 224)",s=r.bodyBackgroundColor||"#fff",d=r.bodyFontColor||"#1B1F23",c=r.bodyFontSize||12,u=r.hoverBodyBackgroundColor||"#bedaff",p=r.hoverBodyInlineBackgroundColor||"#bedaff";return n.theme||(n.theme={}),n.theme.bodyStyle={borderColor:l,borderLineWidth:1,padding:[8,12,8,12],textAlign:"right",hover:{cellBgColor:u,inlineRowBgColor:p,inlineColumnBgColor:p},color:d,fontSize:c,fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",bgColor:s,lineHeight:1.5*c},n},headerStyle=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{config:i,chartType:o}=a,r=i?.[o];if(!n.theme||!r)return n;let l=r.borderColor||"rgb(224, 224, 224)",s=r.headerBackgroundColor||"#EEF1F5",d=r.headerFontColor||"#1B1F23",c=r.headerFontSize||12,u=r.hoverHeaderBackgroundColor||"#bedaff",p=r.hoverHeaderInlineBackgroundColor||"#bedaff";return n.theme.headerStyle={borderColor:l,borderLineWidth:1,padding:[8,12,8,12],textAlign:"center",hover:{cellBgColor:u,inlineRowBgColor:p,inlineColumnBgColor:p},frameStyle:{borderColor:l,borderLineWidth:[0,0,1,0]},fontSize:c,fontVariant:"normal",fontStyle:"normal",fontWeight:"bold",color:d,bgColor:s,lineHeight:1.5*c},n},frameStyle=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{config:i,chartType:o}=a,r=i?.[o];if(!n.theme||!r)return n;let l=r.borderColor||"rgb(224, 224, 224)";return n.theme.frameStyle={borderColor:l,borderLineWidth:1,cornerRadius:4},n},selectionStyle=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{config:i,chartType:o}=a,r=i?.[o];if(!n.theme||!r)return n;let l=r.selectedBorderColor||"rgb(224, 224, 224)",s=r.selectedBackgroundColor||"rgb(224, 224, 224, 0.5)";return n.theme.selectionStyle={cellBorderColor:l,cellBorderLineWidth:2,cellBgColor:s},n},vutils_namespaceObject=require("@visactor/vutils");function nearlyEqual(e,t,n=1e-8){return!(Number.isNaN(e)||Number.isNaN(t))&&(e===t||Math.abs(e-t)<=n)}const selector_selector=(e,t,n="And")=>{if(!t)return!0;let a=Object.keys(e).filter(e=>e.toLocaleLowerCase().startsWith("__vchart")),i=(0,external_remeda_namespaceObject.omit)(e,a);return(Array.isArray(t)?t:[t])["And"===n?"every":"some"](e=>isValueSelector(e)?selectByValue(e,i):isMeasureSelector(e)?selectByMeasure(e,i):isDimensionSelector(e)?selectByDmension(e,i):!!isPartialDatumSelector(e)&&selectByPartial(e,i))},selectorDatum=(e,t)=>{if(!t)return[];let n=Array.isArray(t)?t:[t],a=[];for(let t of n){let n=[];if(isValueSelector(t)?Object.entries(e).forEach(([e,a])=>{a===t&&n.push({[e]:a})}):isMeasureSelector(t)&&selectByMeasure(t,e)||isDimensionSelector(t)&&selectByDmension(t,e)?n.push({[t.field]:e[t.field]}):isPartialDatumSelector(t)&&selectByPartial(t,e)&&n.push(t),n.length)a=a.length?a.flatMap(e=>n.map(t=>({...e,...t}))):n;else{a=[];break}}return a},isValueSelector=e=>"string"==typeof e||"number"==typeof e,isPartialDatumSelector=e=>"object"==typeof e&&null!==e,isMeasureSelector=e=>"object"==typeof e&&null!==e&&"field"in e&&("operator"in e||"op"in e)&&"value"in e&&(["=","==","!=",">","<",">=","<=","between"].includes(e.operator)||["=","==","!=",">","<",">=","<=","between"].includes(e.op)),isDimensionSelector=e=>"object"==typeof e&&null!==e&&"field"in e&&("operator"in e||"op"in e)&&"value"in e&&(["in","not in"].includes(e.operator)||["in","not in"].includes(e.op)),selectByMeasure=(e,t)=>{let n=e.operator||e.op,a=Array.isArray(e.value)?e.value:[e.value];switch(n){case"=":if(String(t[e.field])===String(a[0])||nearlyEqual(Number(t[e.field]),Number(a[0])))return!0;break;case"==":if(t[e.field]===a[0])return!0;break;case"!=":if(t[e.field]!==a[0])return!0;break;case">":if(t[e.field]>a[0]&&!nearlyEqual(Number(t[e.field]),Number(a[0])))return!0;break;case"<":if(t[e.field]<a[0]&&!nearlyEqual(Number(t[e.field]),Number(a[0])))return!0;break;case">=":if(t[e.field]>=a[0]||nearlyEqual(Number(t[e.field]),Number(a[0])))return!0;break;case"<=":if(t[e.field]<=a[0]||nearlyEqual(Number(t[e.field]),Number(a[0])))return!0;break;case"between":if(Array.isArray(e.value)&&(t[e.field]>=a[0]||nearlyEqual(Number(t[e.field]),Number(a[0])))&&(t[e.field]<=a[1]||nearlyEqual(Number(t[e.field]),Number(a[1]))))return!0}return!1},selectByDmension=(e,t)=>{let n=e.operator||e.op,a=Array.isArray(e.value)?e.value:[e.value];switch(n){case"in":if(a.includes(t[e.field]))return!0;break;case"not in":if(!a.includes(t[e.field]))return!0}return!1},selectByPartial=(e,t)=>Object.keys(e).every(n=>t[n]===e[n]),selectByValue=(e,t)=>Object.values(t).some(t=>t===e),tableStyleMap={backgroundColor:"bgColor",textColor:"color",textFontSize:"fontSize",borderColor:"borderColor",borderLineWidth:"borderLineWidth"},pickBodyCellStyle=e=>Object.keys(tableStyleMap).reduce((t,n)=>(n in e&&(t[tableStyleMap[n]]=e[n]),t),{}),tableBodyCell=(e,t)=>{let{advancedVSeed:n}=t,{cellStyle:a}=n,i=a?.bodyCellStyle;if(!i)return e;let o=(0,vutils_namespaceObject.array)(i);return preorderTraverse(e.columns||[],e=>{let t=e.field,n=o.filter(e=>!!(0,external_remeda_namespaceObject.isNullish)(e.selector)||(0,vutils_namespaceObject.array)(e.selector).some(e=>(0,external_remeda_namespaceObject.isPlainObject)(e)?(0,external_remeda_namespaceObject.isNullish)(e.field)||e.field===t:(0,external_remeda_namespaceObject.isNumber)(e)||(0,external_remeda_namespaceObject.isString)(e)));return!!n.length&&(e.style=e=>{let a={[t]:e.dataValue};return n.reduce((e,t)=>selector_selector(a,t.selector)?{...e,...pickBodyCellStyle(t)}:e,{})},!1)},"columns"),e},tableSpecPipeline=[initTable,dimensionTreeToColumns,measureTreeToColumns,bodyStyle,headerStyle,frameStyle,selectionStyle,tableBodyCell],registerTable=()=>{Builder._advancedPipelineMap.table=tableAdvancedPipeline,Builder._specPipelineMap.table=tableSpecPipeline},ORIGINAL_DATA="__OriginalData__",Separator="-",FoldMeasureName="__MeaName__",FoldMeasureId="__MeaId__",FoldMeasureValue="__MeaValue__",MeasureId=FoldMeasureId,MeasureName=FoldMeasureName,FoldPrimaryMeasureValue="__MeaPrimaryValue__",FoldSecondaryMeasureValue="__MeaSecondaryValue__",FoldXMeasureValue="__MeaXValue__",FoldYMeasureValue="__MeaYValue__",FoldXMeasureId="__MeaXId__",FoldYMeasureId="__MeaYId__",XEncoding="__Dim_X__",YEncoding="__Dim_Y__",AngleEncoding="__Dim_Angle__",DetailEncoding="__Dim_Detail__",ColorEncoding="__Dim_Color__",ColorIdEncoding="__Dim_ColorId__",Q1MeasureValue="__Q1__",Q3MeasureValue="__Q3__",LowerWhisker="__Lower_Whisker__",UpperWhisker="__Upper_Whisker__",OutliersMeasureId="__Outliers__",MedianMeasureId="__Meadian__",BinStartMeasureId="__BinStart__",BinEndMeasureId="__BinEnd__",BinCountMeasureId="__BinCount__",BinPercentageMeasureId="__BinPercentage__",defaultMeasureId=e=>{let t={...e};return findAllMeasures(e.measures).length>1&&!t.dimensions?.some(e=>e.id===MeasureName)&&t.dimensions?.push({id:MeasureId,alias:intl.i18n`指标名称`,encoding:"row"}),t},encodingForPivotTable=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i=n.some(e=>e.encoding),o=a.some(e=>e.encoding),r={};return i?generateDimensionEncoding(n,r):generateDefaultDimensionEncoding(n,r),o?generateMeasureEncoding(a,r):generateDefaultMeasureEncoding(a,r),{...e,encoding:r}},generateDefaultDimensionEncoding=(e,t)=>{let n=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id));t.tooltip=n,t.row=[],t.column=[],n.forEach((e,n)=>{n%2==0?t.column.push(e):t.row.push(e)})},generateDimensionEncoding=(e,t)=>{t.tooltip=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id)),t.row=[],t.column=[],e.forEach((e,n)=>{let a=e.id;"row"===e.encoding?t.row.push(a):"column"===e.encoding||n%2==0?t.column.push(a):t.row.push(a)})},generateDefaultMeasureEncoding=(e,t)=>{t.tooltip=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id)),t.detail=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"detail"===e.encoding||!e.encoding).map(e=>e.id))},generateMeasureEncoding=(e,t)=>{t.tooltip=e.map(e=>e.id),t.detail=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"detail"===e.encoding||!e.encoding).map(e=>e.id))},foldMeasures=(e,t,n)=>{let{measureId:a,measureName:i,measureValue:o,colorMeasureId:r,allowEmptyFold:l=!0,omitIds:s=[]}=n||{},d={measureId:a,measureName:i,measureValue:o,statistics:{max:-1/0,min:1/0,sum:0,count:0,colorMin:1/0,colorMax:-1/0},foldMap:{}};if(!l&&0===t.length)return{dataset:e,foldInfo:d};let c=Array(e.length*t.length),u=0,p=t.map(e=>e.id);for(let n=0;n<e.length;n++)for(let l=0;l<t.length;l++){let _=(0,external_remeda_namespaceObject.omit)({...e[n]},[...p,...s]);_[ORIGINAL_DATA]=e[n];let{id:m,alias:g}=t[l];if(_[m]=e[n][m],_[a]=m,_[i]=g||m,_[o]=e[n][m],r){let e=_[ORIGINAL_DATA][r];_[ColorEncoding]=e,_[ColorIdEncoding]=r;let t=Number(e);d.statistics.colorMin=Math.min(d.statistics.colorMin,t),d.statistics.colorMax=Math.max(d.statistics.colorMax,t)}let b=Number(_[m]);d.statistics.min=Math.min(d.statistics.min,b),d.statistics.max=Math.max(d.statistics.max,b),d.statistics.sum+=b,d.statistics.count++,d.foldMap[m]=g,c[u++]=_}return{dataset:c,foldInfo:d}},reshapePivotTable=(e,t)=>{let n={...e},{vseed:a}=t,{dataset:i,chartType:o}=a,{dimensions:r,measures:l}=e,{dataset:s,foldInfo:d}=foldMeasures(i,findAllMeasures(l),{measureId:FoldMeasureId,measureName:FoldMeasureName,measureValue:FoldMeasureValue,allowEmptyFold:!1}),c=[{id:String(o),index:0,foldInfo:d}];return{...n,dataset:s,datasetReshapeInfo:c,dimensions:r,measures:l}},pivotTableConfig=(e,t)=>{let{vseed:n}=t,{chartType:a}=n,i={...e},o=(0,external_remeda_namespaceObject.pick)(n,["backgroundColor","bodyFontSize","bodyFontColor","bodyBackgroundColor","headerFontSize","headerFontColor","headerBackgroundColor","hoverHeaderBackgroundColor","hoverHeaderInlineBackgroundColor","selectedBorderColor","selectedBackgroundColor"]);return i.config={...i.config||{},[a]:{...o}},i},pivotTableAdvancedPipeline=[initAdvancedVSeed,defaultMeasures_defaultMeasures,defaultDimensions,defaultMeasureId,cellStyle_cellStyle,encodingForPivotTable,reshapePivotTable,pivotTableConfig,theme_theme],initPivotTable=(e,t)=>{let{advancedVSeed:n}=t,{dataset:a}=n,{config:i}=n,{backgroundColor:o="transparent"}=i.pivotTable||{};return{...e,records:a,widthMode:"standard",defaultHeaderColWidth:"auto",heightMode:"autoHeight",autoWrapText:!0,columnResizeMode:"all",columnResizeType:"column",showColumnHeader:!0,showRowHeader:!0,select:{highlightMode:"cell",headerSelectMode:"inline"},hover:{highlightMode:"cross"},tooltip:{isShowOverflowTextTooltip:!0},corner:{titleOnDimension:"all"},widthAdaptiveMode:"all",animationAppear:{duration:300,delay:250,type:"one-by-one",direction:"row"},theme:{cellInnerBorder:!1,underlayBackgroundColor:o}}},pivotColumns=(e,t)=>{let{advancedVSeed:n}=t,{encoding:a}=n,i=n.dimensions.filter(e=>a.column?.includes(e.id));return{...e,columns:i.map(e=>({dimensionKey:e.id,title:e.alias||e.id,width:"auto"}))}},pivotRows=(e,t)=>{let{advancedVSeed:n}=t,a=n.dimensions,{encoding:i,measures:o}=n,r=a.filter(e=>i.row?.includes(e.id)),l=findAllMeasures(o);return{...e,rows:r.map(e=>{let t={dimensionKey:e.id,title:e.alias||e.id,width:"auto"};return e.id===MeasureId&&(t.headerFormat=e=>{let t=l.find(t=>t.id===e);return t?.alias??e}),t})}},titleOnDimension=e=>{let{rows:t=[],columns:n=[]}=e;return{...e,corner:{titleOnDimension:t.length<=1&&n.length>=1?"column":"row"}}},pivotIndicators=(e,t)=>{let{advancedVSeed:n}=t,{measures:a,datasetReshapeInfo:i}=n,{foldInfo:o}=i[0],r=e?.rows?.length>0,l=Object.values(o.foldMap);return{...e,indicatorTitle:intl.i18n`指标名称`,indicatorsAsCol:r,hideIndicatorName:r,indicators:[{cellType:"text",indicatorKey:o.measureValue,title:l.length>1?"":l[0],width:"auto",format:pivotIndicators_fieldFormat(a,o)}]}},pivotIndicators_fieldFormat=(e,t)=>(n,a,i,o)=>{if(!(0,external_remeda_namespaceObject.isNumber)(a)||!(0,external_remeda_namespaceObject.isNumber)(i)||!o)return n;let r=o.getCellOriginRecord(a,i);if(!r[0])return n;let{measureId:l}=t;return createFormatterByMeasure(findMeasureById(e,r[0][l]))(n)},rowHeaderStyle=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{config:i,chartType:o}=a,r=i?.[o];if(!n.theme||!r)return n;let l=r.borderColor||"rgb(224, 224, 224)",s=r.headerBackgroundColor||"#EEF1F5",d=r.headerFontColor||"#1B1F23",c=r.headerFontSize||12,u=r.hoverHeaderBackgroundColor||"#bedaff",p=r.hoverHeaderInlineBackgroundColor||"#bedaff";return n.theme.rowHeaderStyle={borderColor:l,borderLineWidth:1,padding:[8,12,8,12],textAlign:"left",hover:{cellBgColor:u,inlineRowBgColor:p,inlineColumnBgColor:p},frameStyle:{borderColor:l,borderLineWidth:[0,1,0,0]},fontSize:c,fontVariant:"normal",fontStyle:"normal",fontWeight:"bold",color:d,bgColor:s,lineHeight:1.5*c},n},cornerHeaderStyle=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{config:i,chartType:o}=a,r=i?.[o];if(!n.theme||!r)return n;let l=r.borderColor||"rgb(224, 224, 224)",s=r.headerBackgroundColor||"#EEF1F5",d=r.headerFontColor||"#1B1F23",c=r.headerFontSize||12,u=r.hoverHeaderInlineBackgroundColor,p=r.hoverHeaderBackgroundColor;return n.theme.cornerHeaderStyle={borderColor:[l,l],borderLineWidth:1,padding:[8,12,8,12],textAlign:"left",hover:{cellBgColor:p||void 0,inlineRowBgColor:u||void 0,inlineColumnBgColor:u||void 0},frameStyle:{borderColor:l,borderLineWidth:[0,1,1,0]},fontSize:c,fontVariant:"normal",fontStyle:"normal",fontWeight:"bold",color:d,bgColor:s,lineHeight:1.5*c},n},pivotTableBodyCell=(e,t)=>{let{advancedVSeed:n}=t,{cellStyle:a}=n,i=a?.bodyCellStyle;if(!i)return e;let o=(0,vutils_namespaceObject.array)(i),r=(e.indicators||[]).map(e=>{let t=(0,external_remeda_namespaceObject.isString)(e)?{indicatorKey:e}:e,{indicatorKey:n}=t;return t.style=e=>{let{dataValue:t,cellHeaderPaths:a}=e,i=[...a.colHeaderPaths,...a.rowHeaderPaths],r={[n]:t};return i.forEach(e=>{e.dimensionKey&&(r[e.dimensionKey]=e.value)}),(0,external_remeda_namespaceObject.isNullish)(r[MeasureId])||(0,external_remeda_namespaceObject.isNullish)(r[FoldMeasureValue])||(r[r[MeasureId]]=r[FoldMeasureValue]),o.reduce((e,t)=>selector_selector(r,t.selector)?{...e,...pickBodyCellStyle(t)}:e,{})},t});return{...e,indicators:r}},dataConfig=(e,t)=>{let{advancedVSeed:n}=t,a=findAllMeasures(n.measures).map(e=>({field:e.id,aggregationType:"NONE",indicatorKey:e.id}));return{...e,dataConfig:{aggregationRules:a}}},pivotTableSpecPipeline=[initPivotTable,pivotColumns,pivotRows,titleOnDimension,pivotIndicators,bodyStyle,headerStyle,rowHeaderStyle,cornerHeaderStyle,frameStyle,selectionStyle,dataConfig,pivotTableBodyCell],registerPivotTable=()=>{Builder._advancedPipelineMap.pivotTable=pivotTableAdvancedPipeline,Builder._specPipelineMap.pivotTable=pivotTableSpecPipeline},initAdvancedVSeed_initAdvancedVSeed=(e,t)=>{let{vseed:n}=t,{chartType:a,locale:i}=n;return checkVSeed(n),{...e,chartType:a,locale:i||"zh-CN"}},default_defaultMeasures_defaultMeasures=(e,t)=>{let{vseed:n}=t,{measures:a,dataset:i}=n;if(a&&a.length>0){let t=(0,external_remeda_namespaceObject.clone)(a);return preorderTraverse(t,e=>(e.alias=e.alias||e.id,!1)),{...e,measures:t}}let o=i.slice(0,100),r=Object.keys(o.reduce((e,t)=>({...e,...t}),{})).filter(e=>o.some(t=>"number"==typeof t[e])&&!["",null,void 0].includes(e)).map(e=>({id:e,alias:e}));return{...e,measures:r}},defaultDimensions_defaultDimensions=(e,t)=>{let n={...e},{vseed:a}=t,{dimensions:i,dataset:o}=a;if(i&&i.length>0)return{...n,dimensions:(0,external_remeda_namespaceObject.clone)(i.map(e=>({...e,alias:e.alias||e.id})))};let r=findAllMeasures(e.measures),l=o.slice(0,100),s=Object.keys(l.reduce((e,t)=>({...e,...t}),{})).filter(e=>l.some(t=>"string"==typeof t[e])&&!["",null,void 0].includes(e)&&!r.some(t=>t.id===e)).map(e=>({id:e,alias:e}));return{...n,dimensions:s}},defaultMeasureId_defaultMeasureId=e=>{let t={...e},n={id:MeasureId,alias:intl.i18n`指标Id`};return t.dimensions?.some(e=>e.id===MeasureId)||t.dimensions?.push(n),t},encodingAdapter=(e,t)=>(n,a)=>{let{dimensions:i=[],measures:o=[]}=n,r=i.some(e=>e.encoding),l=o.some(e=>e.encoding);return r||l?execPipeline(t,a,n):execPipeline(e,a,n)},addColorToEncoding=(e,t,n)=>{t.color=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"color"===e.encoding).map(e=>e.id));let a=e.find(e=>e.id===MeasureId);n&&a&&!a.encoding&&t.color.push(MeasureId),0===t.color.length&&(t.color=[MeasureId])},defaultEncodingForLine=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i={};return line_generateDefaultDimensionEncoding(n,i),line_generateDefaultMeasureEncoding(a,i),{...e,encoding:i}},encodingForLine=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i=n.some(e=>e.encoding),o=a.some(e=>e.encoding),r={};return i?line_generateDimensionEncoding(n,r,a.length>1):line_generateDefaultDimensionEncoding(n,r),o?line_generateMeasureEncoding(a,r):line_generateDefaultMeasureEncoding(a,r),{...e,encoding:r}},line_generateDefaultDimensionEncoding=(e,t)=>{let n=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id));t.x=n.slice(0,1),t.color=n.slice(1),t.tooltip=n.filter(e=>e!==MeasureId),t.detail=[],t.label=[],t.row=[],t.column=[]},line_generateDimensionEncoding=(e,t,n)=>{t.x=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"xAxis"===e.encoding).map(e=>e.id)),0===t.x.length&&(t.x=[e[0].id]),addColorToEncoding(e,t,n),t.detail=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"detail"===e.encoding).map(e=>e.id)),0===t.detail.length&&(t.detail=[MeasureId]),t.tooltip=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id)),t.tooltip=t.tooltip.filter(e=>e!==MeasureId),t.label=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id)),t.label=t.label.filter(e=>e!==MeasureId)},line_generateDefaultMeasureEncoding=(e,t)=>{t.y=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"yAxis"===e.encoding||!e.encoding).map(e=>e.id))},line_generateMeasureEncoding=(e,t)=>{t.y=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"yAxis"===e.encoding||!e.encoding).map(e=>e.id));let n=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"color"===e.encoding).map(e=>e.id));n.length>0&&(t.color=n);let a=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id));t.label=(0,external_remeda_namespaceObject.unique)([...t.label||[],...a]);let i=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"tooltip"===e.encoding).map(e=>e.id));t.tooltip=(0,external_remeda_namespaceObject.unique)([...t.tooltip||[],...a,...i])},buildMeasures=e=>(isMeasureTreeWithChildren(e.measures)?e.measures=normalizeMeasureTree(e.measures):isMeasureTreeWithParentId(e.measures)?e.measures=generateMeasuresByParentId(e.measures):isPivotChart(e)&&(e.measures=basicMeasuresToMeasureTree(e.measures)),e),generateMeasuresByParentId=e=>{let t=[];return e.forEach(e=>{let n=t.find(t=>t.id===e.parentId);n&&"children"in n?(n.children=n.children||[],n.children.length>0&&(n.alias+=`-${e.alias??e.id}`),n.children.push(e)):(0,vutils_namespaceObject.isValid)(e.parentId)?t.push({id:e.parentId,alias:e.alias??e.id,children:[e]}):t.push({id:DEFAULT_PARENT_ID,alias:e.alias??e.id,children:[e]})}),t},basicMeasuresToMeasureTree=e=>[{id:e.map(e=>e.id).join("-"),alias:e.map(e=>e.alias||e.id).join("-"),children:e}],deleteMeasureTreeByCallback=(e,t)=>{if(!e)return;let n=[...e].reverse(),a=new Map;e.forEach(t=>{a.set(t,e)});let i=[],o=new Set;for(;n.length>0;){let e=n[n.length-1];if(isMeasureGroup(e)&&e.children&&!o.has(e))for(let t of(o.add(e),e.children.slice().reverse()))a.set(t,e.children),n.push(t);else n.pop(),i.push(e)}let r=[];for(let e of i){let n=a.get(e);if(n){let a=n.indexOf(e);isMeasure(e)&&t?.(e,a,n)&&(n.splice(a,1),r.push(e))}}return r},pickMeasuresForReshape=e=>t=>{let n=(0,external_remeda_namespaceObject.clone)(t.measures);return deleteMeasureTreeByCallback(n,t=>e.includes(t.encoding)),{...t,reshapeMeasures:n}},deleteDimensionTreeByCallback=(e,t)=>{if(!e)return e;let n=[...e].reverse(),a=new Map;e.forEach(t=>{a.set(t,e)});let i=[],o=new Set;for(;n.length>0;){let e=n[n.length-1];if(isDimensionGroup(e)&&e.children&&!o.has(e))for(let t of(o.add(e),e.children.slice().reverse()))a.set(t,e.children),n.push(t);else n.pop(),i.push(e)}for(let e of i){let n=a.get(e);if(n){let a=n.indexOf(e);isDimension(e)&&t?.(e,a,n)&&n.splice(a,1)}}return e},pickDimensionsForReshape=e=>{let t=(0,external_remeda_namespaceObject.clone)(e.dimensions);return deleteDimensionTreeByCallback(t,e=>"tooltip"===e.encoding||"label"===e.encoding),{...e,reshapeDimensions:t}},pivotAdapter=(e,t)=>(n,a)=>{let{vseed:i}=a;return isPivotChart(i)?execPipeline(t,a,n):execPipeline(e,a,n)},unfoldDimensions=(e,t,n,a)=>{let{separator:i}=a,o={encodingAngle:AngleEncoding,encodingX:XEncoding,encodingY:YEncoding,encodingDetail:DetailEncoding,encodingColor:ColorEncoding,encodingColorId:ColorIdEncoding,colorItems:[],colorIdMap:{}},{color:r,x:l,y:s,detail:d,angle:c}=n,u=c?t.filter(e=>c.includes(e.id)):[],p=l?t.filter(e=>l.includes(e.id)):[],_=s?t.filter(e=>s.includes(e.id)):[],m=r?t.filter(e=>r.includes(e.id)):[],g=d?t.filter(e=>d.includes(e.id)):[],b=new Set,z={};for(let t=0;t<e.length;t++){let n=e[t];if(applyEncoding(AngleEncoding,u,n,i),applyEncoding(XEncoding,p,n,i),applyEncoding(YEncoding,_,n,i),applyEncoding(ColorEncoding,m,n,i),applyEncoding(DetailEncoding,g,n,i),!m.length||!n[ColorEncoding])continue;let a=String(n[ColorEncoding]??"");n[ColorIdEncoding]=a,z[a]={id:a,alias:getColorAliasItem(ColorEncoding,m,n,i)},b.add(a)}return o.colorItems=Array.from(b),o.colorIdMap=z,{dataset:e,unfoldInfo:o}},applyEncoding=(e,t,n,a)=>{e&&t.length&&(n[e]=t.map(e=>String(n[e.id])).join(a))},getColorAliasItem=(e,t,n,a)=>e&&t.length?t.map(e=>e.id===MeasureId?String(n[MeasureName]):String(n[e.id])).join(a):"",dataReshapeByEncoding=(e,t,n,a,i)=>{let{foldMeasureId:o=FoldMeasureId,foldMeasureName:r=FoldMeasureName,foldMeasureValue:l=FoldMeasureValue,colorItemAsId:s=!1,colorMeasureId:d,omitIds:c}=i||{},{dataset:u,foldInfo:p}=foldMeasures(e,n,{measureId:o,measureName:r,measureValue:l,colorMeasureId:d,omitIds:c}),{dataset:_,unfoldInfo:m}=unfoldDimensions(u,t,a,{foldMeasureId:o,separator:"-",colorItemAsId:s});return{dataset:_,foldInfo:p,unfoldInfo:m}};function colorAdapter(e,t){return(n,a)=>{let{advancedVSeed:i,vseed:o}=a;return isLinearColor(i,o)?t(n,a):e(n,a)}}const isLinearColor=(e,t)=>{let{encoding:n}=e,a=findAllMeasures(t.measures||e.measures).map(e=>e.id),{color:i}=n;return i?.length===1&&a.includes(i[0])},getColorMeasureId=(e,t)=>{if(isLinearColor(e,t)){let{encoding:t}=e,{color:n}=t;return n?.[0]}},reshapeWithEncoding=(e,t)=>{let n={...e},{vseed:a}=t,{dataset:i,chartType:o}=a,{encoding:r}=e,l=getColorMeasureId(e,a),{dataset:s,foldInfo:d,unfoldInfo:c}=dataReshapeByEncoding(i,(0,external_remeda_namespaceObject.uniqueBy)(e.reshapeDimensions??e.dimensions??[],e=>e.id),(0,external_remeda_namespaceObject.uniqueBy)(findAllMeasures(e.reshapeMeasures??e.measures),e=>e.id),r,{colorItemAsId:!1,colorMeasureId:l});return{...n,dataset:s,datasetReshapeInfo:[{id:String(o),index:0,foldInfo:d,unfoldInfo:c}]}},pivotReshapeWithEncoding=(e,t)=>{let n={...e},{vseed:a}=t,{dataset:i}=a,{encoding:o}=e,r=e.reshapeMeasures??e.measures??[],l=e.reshapeDimensions??e.dimensions??[],s=findAllMeasures(r),d=[];r&&r.forEach(e=>{e.children&&e.children.length>0&&d.push(e)});let c=[],u=[];return d.forEach((t,n)=>{let r=t.children;if(!r)return;let d=t.id,{dataset:p,foldInfo:_,unfoldInfo:m}=dataReshapeByEncoding(i,(0,external_remeda_namespaceObject.uniqueBy)(l,e=>e.id),(0,external_remeda_namespaceObject.uniqueBy)(r,e=>e.id),o,{colorItemAsId:!1,foldMeasureValue:`${FoldMeasureValue}${d}`,colorMeasureId:getColorMeasureId(e,a),omitIds:s.map(e=>e.id)}),g={id:`${d}`,index:n,foldInfo:_,unfoldInfo:m};c.push(p),u.push(g)}),{...n,dataset:c,datasetReshapeInfo:u}},calcOrder=(e,t,n)=>{if(e.customOrder)return e.customOrder;let a=e.order||"asc",i=e.orderBy,o=(0,external_remeda_namespaceObject.sort)(n,(e,n)=>{let o=e[i||t],r=n[i||t];return"asc"===a?o<r?-1:+(o>r):o>r?-1:+(o<r)});return(0,external_remeda_namespaceObject.unique)(o.map(e=>e[t]))},sortXBandAxis=(e,t)=>{let n={...e},{vseed:a}=t,{sort:i}=a,{datasetReshapeInfo:o,dataset:r}=e,{unfoldInfo:l}=o[0],s=l.encodingX;if(!i||!s)return e;n.analysis||(n.analysis={}),n.analysis.orderMapping||(n.analysis.orderMapping={});let d=calcOrder(i,s,r.flat(2));return n.analysis.orderMapping[s]=d,n},sortLegend_sortLegend=(e,t)=>{let n={...e},{vseed:a}=t,{sortLegend:i}=a,{datasetReshapeInfo:o,dataset:r}=e,l=o?.[0]?.unfoldInfo?.encodingColorId,s=o?.[0]?.unfoldInfo?.colorIdMap??{},d=o?.[0]?.unfoldInfo?.colorItems;if(!i||!l||!s||!d)return e;if(n.analysis||(n.analysis={}),n.analysis.orderMapping||(n.analysis.orderMapping={}),i.customOrder){let e=Object.keys(s),t=i.customOrder.map(t=>e.find(e=>s[e]?.alias===t||s[e]?.id===t||e===t));return n.analysis.orderMapping[l]=t,n}let c=calcOrder(i,l,r?.flat(2)||[]);return n.analysis.orderMapping[l]=c,n},line_lineConfig=(e,t)=>{let{vseed:n}=t,{chartType:a}=n,i={...e},o=replaceNullToUndefined((0,external_remeda_namespaceObject.pick)(n,["backgroundColor","color","label","legend","tooltip","xAxis","yAxis","crosshairLine","dimensionLinkage"]));return i.config={...i.config||{},[a]:{...o}},i},markStyle_markStyle=(e,t)=>{let{vseed:n}=t,a=replaceNullToUndefined((0,external_remeda_namespaceObject.pick)(n,["barStyle","pointStyle","lineStyle","areaStyle","boxPlotStyle","outlierStyle"]));return{...e,markStyle:a}},annotation_annotation=(e,t)=>{let{vseed:n}=t,a=(0,external_remeda_namespaceObject.pick)(n,["annotationPoint","annotationHorizontalLine","annotationVerticalLine","annotationArea"]);return{...e,annotation:a}},lineAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForLine,buildMeasures],[encodingForLine,buildMeasures,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),sortXBandAxis,sortLegend_sortLegend,line_lineConfig,theme_theme,markStyle_markStyle,annotation_annotation],initLine=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{datasetReshapeInfo:o}=a,{foldInfo:r,unfoldInfo:l}=o[0];return n.type="line",n.direction="vertical",n.xField=l.encodingX,n.yField=r.measureValue,n.seriesField=isLinearColor(a,i)?l.encodingDetail:l.encodingColorId,n.padding=0,n.region=[{clip:!0}],n.animation=!0,n},color_color=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i,chartType:o}=a,{unfoldInfo:r}=i[0],l=a.config[o];if(!l||!l.color)return n;let s=r.colorItems,d=r.colorIdMap,{color:c}=l,{colorScheme:u,colorMapping:p}=c;return n.color={type:"ordinal",domain:s,range:u,specified:createSpecifiedForColorMapping(p,d,s)},n},createSpecifiedForColorMapping=(e,t,n)=>{if(!e||!t||!n)return;let a=[],i=Object.entries(e).sort((e,t)=>t[0].length-e[0].length),o=i.reduce((e,n)=>{let i=n[0],o=n[1];return Object.entries(t).filter(([e,t])=>e===i||t.alias===i||t.id===i).forEach(t=>{e[t[0]]=o,a.push(i)}),e},{});return{...i.reduce((e,n)=>{let i=n[0],o=n[1];return a.includes(i)||Object.entries(t).filter(([e,t])=>e.includes(i)||t.alias.includes(i)||t.id.includes(i)).forEach(t=>{e[t[0]]||(e[t[0]]=o)}),e},{}),...o}},linearColor=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i,chartType:o}=a,{unfoldInfo:r,id:l}=i[0],s=a.config[o];if(!s||!s.color)return n;let{color:d}=s,{colorScheme:c,linearColorScheme:u}=d;return n.color={type:"linear",range:u||c||[],domain:[{dataId:l,fields:[r.encodingColor]}]},n},background_backgroundColor=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{chartType:i}=a,{backgroundColor:o}=a.config[i];return{...n,background:o}},datasetXY=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{analysis:i,datasetReshapeInfo:o}=n,{unfoldInfo:r}=o[0],l=i?.orderMapping||{},s=r.encodingAngle,d=r.encodingX,c=r.encodingColorId,u=o[0].id,p={};if(s&&(p[s]={sortIndex:0}),d){let e=l[d];e?p[d]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:p[d]={sortIndex:0}}if(c){let e=l[c];e?p[c]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:p[c]={sortIndex:0}}return{...e,data:{id:u,values:isPivotChart(a)?void 0:n.dataset,fields:p}}},progressive=e=>{let t={...e};return t.large=!1,t.largeThreshold=1/0,t.progressiveStep=400,t.progressiveThreshold=1/0,t},defaultTitleText=(e,t,n=[])=>{let a=findAllMeasures(e);return n.map(e=>[...a,...t].find(t=>t.id===e)?.alias||"").join(" & ")},xBand=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{chartType:o}=i,{measures:r,dimensions:l,encoding:s,datasetReshapeInfo:d,pivotAllDatasetReshapeInfo:c}=a,u=a.config?.[o]?.xAxis??{};n.axes||(n.axes=[]);let{visible:p=!0,label:_,tick:m,title:g,grid:b,line:z,labelAutoHide:h,labelAutoHideGap:x,labelAutoLimit:f,labelAutoLimitLength:y=80,labelAutoRotate:C,labelAutoRotateAngleRange:A}=u,v=0===(s.x||[]).filter(e=>e!==MeasureId).length,L={visible:p,type:"band",orient:"bottom",maxHeight:y+60,sampling:!(h||C||f),hover:!0,label:{visible:_?.visible,flush:!0,space:8,style:{maxLineWidth:y,fill:_?.labelColor,angle:_?.labelAngle,fontSize:_?.labelFontSize,fontWeight:_?.labelFontWeight},minGap:x,autoHide:h,autoHideMethod:"greedy",autoHideSeparation:x,autoLimit:f,autoRotate:C,autoRotateAngle:A,lastVisible:!0},title:{visible:g?.visible,text:g?.titleText||defaultTitleText(r,l,s.x),style:{fill:g?.titleColor,fontSize:g?.titleFontSize,fontWeight:g?.titleFontWeight}},tick:{visible:m?.visible,tickSize:m?.tickSize,inside:m?.tickInside,style:{stroke:m?.tickColor}},grid:{visible:b?.visible,style:{lineWidth:b?.gridWidth,stroke:b?.gridColor,lineDash:b?.gridLineDash}},domainLine:{visible:z?.visible,style:{lineWidth:z?.lineWidth,stroke:z?.lineColor}},paddingInner:[.15,.1],paddingOuter:[.075,.1]};if(v&&L.label){let e=(c||d).reduce((e,t)=>({...e,...t.unfoldInfo.colorIdMap}),{});L.label.formatMethod=t=>(0,vutils_namespaceObject.isArray)(t)?t:e[String(t)]?.alias??t}return n.axes=[...n.axes,L],n},createLinearFormat=(e,t,n,a)=>(0,external_remeda_namespaceObject.isNullish)(t)&&(0,external_remeda_namespaceObject.isEmpty)(n)||!0===t?autoFormatter(e):(0,external_remeda_namespaceObject.isEmpty)(n)?String(e):a(e),createLinearPercentFormat=(e,t,n,a,i)=>(0,external_remeda_namespaceObject.isNullish)(t)&&(0,external_remeda_namespaceObject.isEmpty)(n)||!0===t?i(e):(0,external_remeda_namespaceObject.isEmpty)(n)?String(e):a(e),yLinear=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{chartType:o}=i,{measures:r,dimensions:l,encoding:s}=a,d=a.config?.[o]?.yAxis??{};n.axes||(n.axes=[]);let c=isPivotChart(i),{visible:u=!0,label:p,tick:_,title:m,grid:g,line:b,zero:z,nice:h,inverse:x,max:f,min:y,log:C,logBase:A=10,autoFormat:v,numFormat:L={}}=d,S=createNumFormatter(L),P=createNumFormatter({type:"percent"}),k={...c?{range:{min:y,max:f}}:{min:y,max:f},visible:u,type:C?"log":"linear",base:A,orient:"left",nice:h,zero:!C&&z,inverse:x,label:{space:8,visible:p?.visible,formatMethod:e=>isBarPercent(i)||isColumnPercent(i)||isAreaPercent(i)?createLinearPercentFormat(e,v,L,S,P):createLinearFormat(e,v,L,S),style:{fill:p?.labelColor,angle:p?.labelAngle,fontSize:p?.labelFontSize,fontWeight:p?.labelFontWeight}},title:{visible:m?.visible,text:m?.titleText||defaultTitleText(r,l,s.y),style:{fill:m?.titleColor,fontSize:m?.titleFontSize,fontWeight:m?.titleFontWeight}},tick:{visible:_?.visible,tickSize:_?.tickSize,inside:_?.tickInside,style:{stroke:_?.tickColor}},grid:{visible:g?.visible,style:{lineWidth:g?.gridWidth,stroke:g?.gridColor,lineDash:g?.gridLineDash}},domainLine:{visible:b?.visible,style:{lineWidth:b?.lineWidth,stroke:b?.lineColor}},innerOffset:{top:12}};return n.axes=[...n.axes,k],n},verticalCrosshairLine=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{chartType:o}=i,r=a.config?.[o]?.crosshairLine;if(!r)return n;n.crosshair||(n.crosshair={});let l=r.visible||!0,s=r.lineColor||void 0,d=r.labelColor||void 0,c=r.labelVisible||void 0,u=r.labelBackgroundColor||void 0,p=n.crosshair;p.xField={visible:l,line:{type:"line",style:{lineWidth:1,opacity:1,stroke:s,lineDash:r.lineDash??[4,2]}},label:{visible:c,labelBackground:{visible:c,style:{fill:u}},style:{fill:d}}};let _=n.axes?.find(e=>"bottom"===e.orient),m=_?.label?.formatMethod;return m&&(p.xField.label.formatMethod=e=>m(e)),n},discreteLegend=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i,chartType:o}=a,{unfoldInfo:r}=i[0],l=a.config[o];if(!l||!l.legend)return n;let{legend:s}=l,{enable:d,position:c="bottom",labelFontColor:u,labelColor:p,labelFontSize:_=12,pagerIconColor:m,pagerIconDisableColor:g,labelFontWeight:b,maxSize:z=1,border:h,shapeType:x="rectRound"}=s||{},f=["bottom","bottomLeft","bottomRight","bl","br"].includes(c)?"bottom":["top","topLeft","topRight","tl","tr"].includes(c)?"top":["left","leftTop","leftBottom","lt","lb"].includes(c)?"left":"right",y=["topLeft","bottomLeft","leftTop","rightTop","lt","rt","tl","bl"].includes(c)?"start":["topRight","bottomRight","leftBottom","rightBottom","lb","rb","rt","br"].includes(c)?"end":"middle",C=p||u;return n.legends={type:"discrete",visible:d,maxCol:Math.max(1,z),maxRow:Math.max(1,z),autoPage:!0,orient:f,position:y,item:{focus:!0,maxWidth:"30%",focusIconStyle:{size:_+2,fill:C,fontWeight:b},shape:{space:h?6:4,style:e=>({symbolType:x,size:h?8:10,fillOpacity:1,opacity:1,stroke:!1,outerBorder:h?{stroke:e.shape.fill,distance:3,lineWidth:1}:null}),state:{unSelected:{opacity:.2,fillOpacity:1}}},label:{formatMethod:e=>r.colorIdMap[String(e)]?.alias??e,style:{fontSize:_,fill:p||u,fontWeight:b},state:{unSelected:{fill:p||u,fillOpacity:.8}}},background:{state:{selectedHover:{fill:p||u,fillOpacity:.05},unSelectedHover:{fill:null}}}},pager:{textStyle:{fill:C},handler:{style:{fill:m},state:{disable:{fill:g}}}},padding:0},n},colorLegend=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i,chartType:o,measures:r=[]}=a,{unfoldInfo:l}=i[0],s=a.config[o];if(!s||!s.legend)return n;let{legend:d}=s,{enable:c,position:u="bottom",labelFontColor:p,labelColor:_,labelFontSize:m=12,labelFontWeight:g}=d||{};n.legends={type:"color",visible:c,orient:["bottom","bottomLeft","bottomRight","bl","br"].includes(u)?"bottom":["top","topLeft","topRight","tl","tr"].includes(u)?"top":["left","leftTop","leftBottom","lt","lb"].includes(u)?"left":"right",position:["topLeft","bottomLeft","leftTop","rightTop","lt","rt","tl","bl"].includes(u)?"start":["topRight","bottomRight","leftBottom","rightBottom","lb","rb","rt","br"].includes(u)?"end":"middle",padding:0,field:l.encodingColor,maxWidth:"30%",handlerText:{visible:!0,style:{fill:_||p,fontSize:m,fontWeight:g}}};let b=findTreeNodesBy(r,e=>"color"===e.encoding)?.[0];if(b){let e=createFormatterByMeasure(b);n.legends.handlerText.formatter=e}return n},colorPointStyleFill=e=>(t,n)=>{let a=e(t,n),{advancedVSeed:i,vseed:o}=n,{datasetReshapeInfo:r}=i,{unfoldInfo:l}=r[0];return isLinearColor(i,o)&&a?.point?.style&&(a.point.style.fill={field:l.encodingColor,scale:"color"}),a},pointStyle_pointStyle=(e,t)=>{let{advancedVSeed:n}=t,{markStyle:a}=n,{pointStyle:i}=a,o={...e,point:{style:{}}};if((0,external_remeda_namespaceObject.isNullish)(i)||(0,external_remeda_namespaceObject.isEmpty)(i))return o;let r=(Array.isArray(i)?i:[i]).reduce((e,t,n)=>{let{pointBorderColor:a,pointBorderStyle:i,pointBorderWidth:o=1,pointColor:r,pointColorOpacity:l,pointSize:s,pointVisible:d=!0}=t;return{...e,[`custom${n+1}`]:{level:n+1,filter:e=>!!selector_selector(e,t.selector),style:{visible:d,size:s,fill:r,fillOpacity:l,innerBorder:{stroke:a,lineWidth:o,distance:(o||0)/2,lineDash:"dashed"===i?[5,2]:"dotted"===i?[2,5]:[0,0]}}}}},{});return{...o,point:{...o.point,state:{...r}}}},pointStateDimensionHover=e=>{let t=e.point||{};return{...e,point:{...t,state:{...t.state||{},dimension_hover:{scaleX:1.4,scaleY:1.4,outerBorder:{lineWidth:4,strokeOpacity:.25,distance:2}}}}}},pointStateHover=(e,t)=>{let n=e.point||{},{advancedVSeed:a}=t,{datasetReshapeInfo:i}=a,{unfoldInfo:o}=i[0];return{...e,point:{...n,state:{...n.state||{},hover:{scaleX:1.4,scaleY:1.4,stroke:(e,t)=>{let n=o.encodingColorId;return t.seriesColor(e[n])},fillOpacity:.6,lineWidth:1}}}}},colorLineStyleFill=e=>(t,n)=>{let a=e(t,n),{advancedVSeed:i,vseed:o}=n,{datasetReshapeInfo:r}=i,{unfoldInfo:l}=r[0];return isLinearColor(i,o)&&a?.line?.style&&(a.line.style.stroke={field:l.encodingColor,scale:"color"}),a},getCurveType=(e,t=!1)=>t?isRadar(e)?"catmullRomClosed":"monotone":"linear",getCurveTension=(e,t=!1)=>t?.4*!!isRadar(e):0,lineStyle_lineStyle=(e,t)=>{let{advancedVSeed:n}=t,{markStyle:a}=n,{lineStyle:i}=a,o={...e,line:{style:{}}};if((0,external_remeda_namespaceObject.isNullish)(i)||(0,external_remeda_namespaceObject.isEmpty)(i))return o;let r=(Array.isArray(i)?i:[i]).reduce((e,n,a)=>{let{lineColor:i,lineColorOpacity:o,lineSmooth:r,lineStyle:l,lineWidth:s=2,lineVisible:d=!0}=n,c=2*s,u=getCurveType(t.vseed,r),p=getCurveTension(t.vseed,r);return{...e,[`custom${a+1}`]:{level:a+1,filter:(e,t)=>{for(let e of t.renderNode.context.data)if(selector_selector(e,n.selector))return!0;return!1},style:{visible:d,curveType:u,curveTension:p,strokeOpacity:o,stroke:i,lineWidth:s,lineDash:"dashed"===l?[c,c]:"dotted"===l?[s/2,2*s]:[0,0]}}}},{});return{...o,line:{...o.line,state:{...r}}}},label_label=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{datasetReshapeInfo:o}=a,{chartType:r,encoding:l}=a,s=a.config[r],d=o[0].foldInfo,{label:c}=s;return n.label=buildLabel(c,i.measures,i.dimensions,a.dimensions,a.measures,l,[d]),n},generateMeasureValue=(e,t,n,a={})=>{let i=(0,external_remeda_namespaceObject.merge)(a,t.numFormat||t.format);return createFormatterByMeasure({...t,numFormat:i,autoFormat:n||t.autoFormat})(e)},generateMeasurePercent=(e,t,n)=>{if(null==e)return String(e);let a=Number(e);return Number.isNaN(a)?String(e):n(a/t)},buildLabel=(e,t=[],n=[],a,i,o,r)=>{let{enable:l,wrap:s,showValue:d,showValuePercent:c,showDimension:u,labelOverlap:p,labelColorSmartInvert:_,labelStroke:m,labelColor:g,labelFontSize:b,labelFontWeight:z,labelBackgroundColor:h,labelPosition:x,autoFormat:f,numFormat:y={}}=e,C=n.some(e=>o.label?.includes(e.id)),A=(0,external_remeda_namespaceObject.uniqueBy)(C?n.filter(e=>o.label?.includes(e.id)):u?a.filter(e=>e.id!==MeasureId):[],e=>e.id),v=(0,external_remeda_namespaceObject.uniqueBy)(t.filter(e=>o.label?.includes(e.id)),e=>e.id),L=createFormatter((0,external_remeda_namespaceObject.merge)(y,{type:"percent"})),S={visible:l,dataFilter:t=>t.filter(t=>t.data?.[DATUM_HIDE_KEY]!==!0&&selector_selector(t.data,e.selector,"Or")),formatMethod:(e,t)=>{let n=[],a=A.map(e=>t[e.id]),o=v.map(e=>generateMeasureValue(t[e.id],e,f,y));return(n.push(...a),r.forEach(e=>{let{measureId:a,measureValue:o,statistics:r}=e,l=findMeasureById(i,t[a]);if(l){let e=generateMeasureValue(t[o],l,f,y),a=(0,external_remeda_namespaceObject.isNumber)(t.__VCHART_ARC_RATIO)?generateMeasurePercent(t.__VCHART_ARC_RATIO,1,L):generateMeasurePercent(t[o],r.sum,L);d&&n.push(e),c&&n.push(a)}}),n.push(...o),s)?n:n.join(" ")},position:x,style:{stroke:m,fill:g,fontSize:b,fontWeight:z,background:h},smartInvert:_};return p&&(S.overlap={hideOnHit:!0,clampForce:!0}),S},getTooltipStyle=e=>({panel:{padding:e.padding,border:{radius:e.borderRadius,width:e.borderWidth,color:e.borderColor},backgroundColor:e.backgroundColor},keyLabel:{lineHeight:e.lineHeight,fontSize:e.fontSize,fontColor:e.keyColor},valueLabel:{lineHeight:e.lineHeight,fontSize:e.fontSize,fontColor:e.valueColor,fontWeight:"medium"},titleLabel:{fontSize:e.fontSize,lineHeight:e.lineHeight,fontColor:e.titleColor,fontWeight:"bold"}}),tooltip_tooltip=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{measures:o,datasetReshapeInfo:r,chartType:l,dimensions:s,encoding:d}=a,{tooltip:c={enable:!0}}=a.config[l],{enable:u=!0}=c,{foldInfo:p,unfoldInfo:_}=r[0];return n.tooltip={style:getTooltipStyle(c),visible:!!u,mark:{title:{visible:!1},content:createMarkContent(d.tooltip||[],s,findAllMeasures(i.measures),p,_)},dimension:{title:{visible:!0},content:createDimensionContent(s,o,p,_)}},n},createDimensionContent=(e,t,n,a)=>{let{measureId:i,measureValue:o,foldMap:r}=n,{encodingColor:l}=a;return[{visible:!0,shapeType:"rectRound",hasShape:!0,key:e.some(e=>"color"===e.encoding)?e=>{let t=e&&e[l]||"";return a.colorIdMap[t].alias??t}:e=>{let t=e&&e[i]||"";return r[t]??t},value:e=>{if(!e)return"";let n=e[o];return createFormatterByMeasure(findMeasureById(t,e[i]))(n)}}]},createMarkContent=(e,t,n,a,i)=>{let o=(0,external_remeda_namespaceObject.pipe)(t.filter(t=>e.includes(t.id)),(0,external_remeda_namespaceObject.uniqueBy)(e=>e.id),(0,external_remeda_namespaceObject.uniqueBy)(e=>e.alias)),r=(0,external_remeda_namespaceObject.pipe)(n.filter(t=>e.includes(t.id)),(0,external_remeda_namespaceObject.uniqueBy)(e=>e.id),(0,external_remeda_namespaceObject.uniqueBy)(e=>e.alias));return[...o.map(e=>({visible:!0,hasShape:!0,shapeType:"rectRound",key:t=>e.alias||e.id?e.alias||e.id:t&&t[e.id],value:t=>t&&t[e.id]})),{visible:!0,hasShape:!0,shapeType:"rectRound",key:e=>{let{measureName:t}=a,{encodingColor:n}=i;return e&&e[t||n]||""},value:e=>{let{measureId:t,measureValue:i}=a;if(!e)return"";let o=e[i],r=findMeasureById(n,e[t]);return r?createFormatterByMeasure(r)(o):String(o)}},...r.map(e=>({visible:!0,hasShape:!0,shapeType:"rectRound",key:e.alias||e.id,value:t=>{if(!t)return"";let a=e.id;if(!t||!t[ORIGINAL_DATA]||!t[ORIGINAL_DATA])return"";let i=t[ORIGINAL_DATA][a];return createFormatterByMeasure(findMeasureById(n,a))(i)}}))]},isSubset=(e,t,n)=>Object.entries(e).every(([e,a])=>!(n&&n.includes(e))&&("string"!=typeof a&&"number"!=typeof a||t[e]===a)),ANNOTATION_AREA_TEXT_STYLE_BY_POSITION={top:{textAlign:"center",textBaseline:"top"},topRight:{textAlign:"right",textBaseline:"top"},topLeft:{textAlign:"left",textBaseline:"top"},bottom:{textAlign:"center",textBaseline:"bottom"},bottomLeft:{textAlign:"left",textBaseline:"bottom"},bottomRight:{textAlign:"right",textBaseline:"bottom"},left:{textAlign:"left",textBaseline:"middle"},right:{textAlign:"right",textBaseline:"middle"}},generateAnnotationPointPipe=e=>{let t=e.findSelectedDatas??((e,t)=>e.filter(e=>selector_selector(e,t))),n=e.generateMarkPoint??(e=>[{coordinate:t=>t.find(t=>isSubset(e,t))}]);return(e,a)=>{let{advancedVSeed:i,vseed:o}=a,{annotation:r,config:l}=i;if(!r||!r.annotationPoint)return e;let s=l?.[o.chartType]?.annotation?.annotationPoint,{annotationPoint:d}=r,c=Array.isArray(d)?d:[d],u=isBarLikeChart(i),p=u?{textAlign:"right",textBaseline:"middle"}:{textAlign:"center",textBaseline:"top"},_=c.flatMap(o=>{let{selector:r,text:l="",textColor:d=s?.textColor??"#ffffff",textFontSize:c=s?.textFontSize??12,textFontWeight:_=s?.textFontWeight??400,textAlign:m=p.textAlign,textBaseline:g=p.textBaseline,textBackgroundBorderColor:b=s?.textBackgroundBorderColor,textBackgroundBorderRadius:z=s?.textBackgroundBorderRadius??4,textBackgroundBorderWidth:h=s?.textBackgroundBorderWidth??1,textBackgroundColor:x=s?.textBackgroundColor??"#212121",textBackgroundPadding:f=s?.textBackgroundPadding??2,textBackgroundVisible:y=s?.textBackgroundVisible??!0,offsetX:C=s?.offsetX??0,offsetY:A=s?.offsetY??0}=o,v=i.dataset.flat(),L=r?t(v,r,e,a):[],S=-10-(u?c:0),P=u?0:c,k={zIndex:1e3,regionRelative:!0,itemLine:{visible:!1},itemContent:{offsetY:A,offsetX:C,confine:!0,text:{text:l,style:{opacity:.95,visible:!0,textAlign:m,textBaseline:g,fill:d,stroke:x,lineWidth:1,fontSize:c,fontWeight:_,dx:S,dy:P},labelBackground:{visible:y,padding:f,style:{opacity:.95,cornerRadius:z??4,fill:x,stroke:b,lineWidth:h,dx:S,dy:P}}}}};return L.reduce((t,i)=>{let o=n(i,e,a);return o&&o.length&&o.forEach(e=>{t.push({...k,...e})}),t},[])});return{...e,markPoint:_}}},annotationPoint_annotationPoint=generateAnnotationPointPipe({}),annotationVerticalLine_annotationVerticalLine=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{annotation:i,datasetReshapeInfo:o,config:r}=n,{unfoldInfo:l,foldInfo:s}=o[0];if(!i||!i.annotationVerticalLine)return e;let d=r?.[a.chartType]?.annotation?.annotationVerticalLine,{annotationVerticalLine:c}=i,u=Array.isArray(c)?c:[c],p={outsideStart:"start",outsideEnd:"end",outsideMiddle:"middle",insideStart:"insideStartTop",insideMiddle:"insideMiddleTop",insideEnd:"insideEndTop"},_=u.flatMap(e=>{let{selector:t,xValue:a,text:i="",textPosition:o="insideEnd",textColor:r=d?.textColor??"#ffffff",textFontSize:c=d?.textFontSize??12,textFontWeight:u=d?.textFontWeight??400,textAlign:_="center",textBaseline:m="top",lineColor:g=d?.lineColor??"#212121",lineStyle:b=d?.lineStyle??"dashed",lineVisible:z=d?.lineStyle??!0,lineWidth:h=d?.lineWidth??1,textBackgroundVisible:x=d?.textBackgroundVisible??!0,textBackgroundColor:f=d?.textBackgroundColor??"#212121",textBackgroundBorderColor:y=d?.textBackgroundBorderColor??"#212121",textBackgroundBorderRadius:C=d?.textBackgroundBorderRadius??4,textBackgroundBorderWidth:A=d?.textBackgroundBorderWidth??1,textBackgroundPadding:v=d?.textBackgroundPadding??2}=e,L=n.dataset.flat(),S=e=>({x:e,autoRange:!0,zIndex:1e3,line:{style:{visible:z,stroke:g,lineStyle:b,lineWidth:h,lineDash:"dashed"===b?[5,2]:"dotted"===b?[2,5]:[0]}},label:{confine:!0,text:i,position:p[o||"insideEnd"],style:{opacity:.95,dx:5,visible:!0,stroke:f,lineWidth:1,textAlign:_,textBaseline:m,fill:r,fontSize:c,fontWeight:u},labelBackground:{visible:x,padding:v,style:{opacity:.95,dx:5,cornerRadius:C,fill:f,fillOpacity:1,stroke:y,lineWidth:A}}},startSymbol:{visible:d?.startSymbolVisible??!0,symbolType:d?.startSymbolType??"triangleDown",size:5+(h||1),style:{dy:-3,fill:g}},endSymbol:{visible:d?.endSymbolVisible??!1,symbolType:d?.endSymbolType??"arrow",size:10+(h||1),style:{dy:4,fill:g}}});return!t&&(0,external_remeda_namespaceObject.isArray)(a)||(0,external_remeda_namespaceObject.isString)(a)||(0,external_remeda_namespaceObject.isNumber)(a)?(Array.isArray(a)?a:[a]).map(S):(t?L.filter(e=>selector_selector(e,t)):[]).map(e=>e[l.encodingX]?S(e[l.encodingX]):e[s.measureValue]?S(e[s.measureValue]):{})}),m=[...e.markLine||[],..._||[]];return{...e,markLine:m}},annotationHorizontalLine_annotationHorizontalLine=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{annotation:i,datasetReshapeInfo:o,config:r}=n,{foldInfo:l,unfoldInfo:s}=o[0];if(!i||!i.annotationHorizontalLine)return e;let d=r?.[a.chartType]?.annotation?.annotationHorizontalLine,{annotationHorizontalLine:c}=i,u=Array.isArray(c)?c:[c],p={outsideStart:"start",outsideEnd:"end",outsideMiddle:"middle",insideStart:"insideStartTop",insideMiddle:"insideMiddleTop",insideEnd:"insideEndTop"},_=u.flatMap(e=>{let{selector:t,yValue:a,text:i="",textPosition:o="insideEnd",textColor:r=d?.textColor??"#ffffff",textFontSize:c=d?.textFontSize??12,textFontWeight:u=d?.textFontWeight??400,textAlign:_="right",textBaseline:m="bottom",lineColor:g=d?.lineColor??"#212121",lineStyle:b=d?.lineStyle??"dashed",lineVisible:z=d?.lineStyle??!0,lineWidth:h=d?.lineWidth??1,textBackgroundVisible:x=d?.textBackgroundVisible??!0,textBackgroundColor:f=d?.textBackgroundColor??"#212121",textBackgroundBorderColor:y=d?.textBackgroundBorderColor??"#212121",textBackgroundBorderRadius:C=d?.textBackgroundBorderRadius??4,textBackgroundBorderWidth:A=d?.textBackgroundBorderWidth??1,textBackgroundPadding:v=d?.textBackgroundPadding??2}=e,L=n.dataset.flat(),S=e=>({y:e,autoRange:!0,zIndex:1e3,line:{style:{visible:z,stroke:g,lineWidth:h,lineDash:"dashed"===b?[5,2]:"dotted"===b?[2,5]:[0]}},label:{confine:!0,text:i,position:p[o||"insideEnd"],style:{opacity:.95,visible:!0,dy:4,stroke:f,lineWidth:1,textAlign:_,textBaseline:m,fill:r,fontSize:c,fontWeight:u},labelBackground:{visible:x,padding:v,style:{opacity:.95,dy:4,cornerRadius:C,fill:f,stroke:y,lineWidth:A,fillOpacity:1}}},startSymbol:{visible:d?.startSymbolVisible??!0,symbolType:d?.startSymbolType??"triangleDown",size:5+(h||1),style:{dx:3,fill:g}},endSymbol:{visible:d?.endSymbolVisible??!1,symbolType:d?.endSymbolType??"arrow",size:10+(h||1),style:{dx:-4,fill:g}}});return!t&&(0,external_remeda_namespaceObject.isArray)(a)||(0,external_remeda_namespaceObject.isString)(a)||(0,external_remeda_namespaceObject.isNumber)(a)?(Array.isArray(a)?a:[a]).map(S):(t?L.filter(e=>selector_selector(e,t)):[]).map(e=>e[s.encodingY]?S(e[s.encodingY]):e[l.measureValue]?S(e[l.measureValue]):{})}),m=[...e.markLine||[],..._||[]];return{...e,markLine:m}},annotationArea_annotationArea=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{annotation:i,config:o}=n;if(!i||!i.annotationArea)return e;let r=o?.[a.chartType]?.annotation?.annotationArea,{annotationArea:l}=i,s=Array.isArray(l)?l:[l],d={top:"insideTop",topRight:"insideTopRight",topLeft:"insideTopLeft",bottom:"insideBottom",bottomLeft:"insideBottomLeft",bottomRight:"insideBottomRight",left:"insideLeft",right:"insideRight"},c=isBarLikeChart(n)?"right":"top",u=s.flatMap(e=>{let{selector:t,text:a="",textColor:i=r?.textColor??"#ffffff",textFontSize:o=r?.textFontSize??12,textFontWeight:l=r?.textFontWeight??400,textBackgroundVisible:s=r?.textBackgroundVisible??!0,textBackgroundColor:u=r?.textBackgroundColor??"#191d24",textBackgroundBorderColor:p=r?.textBackgroundBorderColor??"#191d24",textBackgroundBorderWidth:_=r?.textBackgroundBorderWidth??1,textBackgroundBorderRadius:m=r?.textBackgroundBorderRadius??4,textBackgroundPadding:g=r?.textBackgroundPadding??4,areaColor:b=r?.areaColor??"#888888",areaColorOpacity:z=r?.areaColorOpacity??.15,areaBorderColor:h=r?.areaBorderColor??"#888888",areaBorderRadius:x=r?.areaBorderRadius??4,areaBorderWidth:f=r?.areaBorderWidth??1,areaLineDash:y=r?.areaLineDash,outerPadding:C=r?.outerPadding??4}=e,A=n.dataset.flat(),v=t?A.filter(e=>selector_selector(e,t)):[],L=e.textPosition??c,S=e.textAlign??ANNOTATION_AREA_TEXT_STYLE_BY_POSITION[L].textAlign,P=e.textBaseline??ANNOTATION_AREA_TEXT_STYLE_BY_POSITION[L].textBaseline;return{zIndex:1e3,regionRelative:!0,positions:(e,t)=>{let n=e.filter(e=>v.some(t=>isSubset(t,e))).map(e=>t.dataToPosition(e)),a=t.getYAxisHelper(),i=t.getXAxisHelper();if("function"==typeof i?.getBandwidth){let e=t.getRegion().getLayoutRect(),a=Math.min(...n.map(e=>e.x))-(C||4),i=Math.max(...n.map(e=>e.x))+(C||4),o=e.height;return[{x:a,y:0},{x:i,y:0},{x:i,y:o},{x:a,y:o}]}if("function"==typeof a?.getBandwidth){let e=t.getRegion().getLayoutRect(),a=Math.min(...n.map(e=>e.y))-(C||4),i=Math.max(...n.map(e=>e.y))+(C||4),o=e.width;return[{x:0,y:a},{x:o,y:a},{x:o,y:i},{x:0,y:i}]}return[]},label:{position:d[L],visible:!0,text:a,style:{opacity:.95,textAlign:S,textBaseline:P,fill:i,stroke:u,lineWidth:1,fontSize:o,fontWeight:l},labelBackground:{visible:s,padding:g,style:{opacity:.95,cornerRadius:m??4,fill:u,stroke:p,lineWidth:_,fillOpacity:1}}},area:{style:{visible:!0,fill:b,fillOpacity:z,stroke:h,lineWidth:f,cornerRadius:x,lineDash:y}}}});return{...e,markArea:u}},formatGradientStops=e=>{let t=e.findIndex(e=>e.offset<0||e.offset>1);if(t>=0){if(e[t].offset>1){let n=e.slice(0,t+1);return n[n.length-1].offset=1,n}let n=e.slice(t+1);return n[0].offset=0,n}return e},splitLine=(e,t)=>{let{advancedVSeed:n}=t,{annotation:a,chartType:i,datasetReshapeInfo:o}=n;if(!a||!a.annotationHorizontalLine)return e;let r=n.config[i],l=(0,vutils_namespaceObject.array)(a.annotationHorizontalLine).find(e=>!!e.splitLine),s=+l?.yValue;if(Number.isNaN(s)||!(0,external_remeda_namespaceObject.isNumber)(s))return e;let d={...e},c=r?.color??{},u={positiveColor:c.positiveColor||"red",negativeColor:c.negativeColor||"green",...(0,external_remeda_namespaceObject.isPlainObject)(l?.splitLine)?l?.splitLine:{}};d.customMark||(d.customMark=[]),d.customMark.push({type:"group",name:"annotationHorizontalLine-splitLine",zIndex:300,style:{splitConfig:(e,t)=>{let n=t.vchart.getChart().getAllSeries().find(e=>"line"===e.type||"area"===e.type);if(!n)return;let a=n.getMarkInName("line")??n.getMarkInName("area");if(!a)return;let i=a.getGraphics();if(!i||1!==i.length||!i[0])return;let o=i[0].attribute.points??[];if(i[0].attribute.segments?.length&&i[0].attribute.segments.forEach(e=>{e.points.forEach(e=>{o.push({x:e.x,y:e.y})})}),!o||!o.length)return;let r=n.getYAxisHelper().getScale(0),l=r.scale(s),d=Math.min(...o.map(e=>e.y)),c=(l-d)/(Math.max(...o.map(e=>e.y))-d),p={gradient:"linear",x0:0,x1:0,y0:0,y1:1,stops:formatGradientStops([{color:u.positiveColor,offset:0},{color:u.positiveColor,offset:c},{color:u.negativeColor,offset:c+1e-7},{color:u.negativeColor,offset:1}])},_={gradient:"linear",x0:0,x1:0,y0:0,y1:1,stops:formatGradientStops([{color:u.positiveColor,offset:0},{color:new vutils_namespaceObject.Color(u.positiveColor).setOpacity(0).toRGBA(),offset:c},{offset:c+1e-7,color:new vutils_namespaceObject.Color(u.negativeColor).setOpacity(0).toRGBA()},{color:u.negativeColor,offset:1}])},m={segments:null,points:o};"area"===i[0].type?(m.stroke=p,m.fill=_):m.stroke=p,i[0].setAttributes(m),i[0].setFinalAttributes?.(m);let g=n.getRegion().getLayoutStartPoint(),b=r.range();return{points:o.map(e=>({x:e.x+g.x,y:e.y+g.y})),splitCoordinate:(0,vutils_namespaceObject.clamper)(b[0],b[b.length-1])(l)+g.y,areaFill:_,lineStroke:p}}},children:[{type:"area",interactive:!1,zIndex:500,style:{fillOpacity:.5,points:(e,t,n)=>{let a=n.mark?._product?.parent;if(a?.attribute?.splitConfig){let{points:e,splitCoordinate:t}=a.attribute.splitConfig;return e.map(e=>({...e,y1:t}))}return[]},fill:(e,t,n)=>{let a=n.mark?._product?.parent;if(a?.attribute?.splitConfig){let{areaFill:e}=a.attribute.splitConfig;return e}}}}]});let p="line"===d.type||"area"===d.type?d:d.series?.find(e=>"line"===e.type||"area"===e.type);if(p){p.point||(p.point={}),p.line||(p.line={}),p.point.style||(p.point.style={}),p.line.style||(p.line.style={});let e=o[0].foldInfo.measureValue;p.point.style.fill=t=>t?.[e]<s?u.negativeColor:u.positiveColor,p.line.style.stroke=t=>t?.[e]<s?u.negativeColor:u.positiveColor,p.label&&p.label.visible&&(0,external_remeda_namespaceObject.isNullish)(p.label.style?.fill)&&(p.label.style={...p.label.style,fill:t=>t?.[e]<s?u.negativeColor:u.positiveColor})}return d},initPivot=e=>({...e,animation:!0,rows:[],columns:[],indicators:[],records:[],widthMode:"standard",autoFillWidth:!0,defaultHeaderColWidth:"auto",defaultColWidth:240,heightMode:"standard",autoFillHeight:!0,defaultRowHeight:180,defaultHeaderRowHeight:"auto",indicatorsAsCol:!1,select:{highlightMode:"cell",headerSelectMode:"inline"},hover:{highlightMode:"cross"},tooltip:{isShowOverflowTextTooltip:!0},corner:{titleOnDimension:"row"},animationAppear:{duration:600,type:"all",direction:"row"}}),pivotGridStyle=(e,t)=>{let{vseed:n,advancedVSeed:a}=t,{config:i,chartType:o}=a,r=i?.[o]?.pivotGrid??{},l=!chatType_isPivot(n)&&isCombination(n),s={...e},d="rgba(0,0,0,0)",c=r.borderColor??"#e3e5eb",u=r.bodyFontColor??"#141414",p=r.headerFontColor??"#21252c",_=r.headerBackgroundColor??"rgba(0,0,0,0)",m=l?d:r.hoverHeaderBackgroundColor??"#D9DDE4",g=l?d:r.hoverHeaderInlineBackgroundColor??"#D9DDE455",b=r.outlineBorderLineWidth??0,z=r.frameCornerRadius??0;return(0,external_remeda_namespaceObject.isNullish)(r.minChartWidth)||(s.defaultColWidth=r.minChartWidth),(0,external_remeda_namespaceObject.isNullish)(r.minChartHeight)||(s.defaultRowHeight=r.minChartHeight),{...s,theme:{underlayBackgroundColor:d,bodyStyle:{borderColor:c,color:u,borderLineWidth:e=>{let t="pie"===o||"rose"===o||"donut"===o||"funnel"===o||"radar"===o||"roseParallel"===o;return[0===e.row?b:1,b,0,0===e.col||t&&1===e.col&&e.table.colCount<=2?b:1]},bgColor:d,hover:{cellBgColor:"transparent"}},headerStyle:{borderColor:c,fontSize:12,borderLineWidth:e=>[b,b,1,0===e.col?b:1],color:p,textAlign:"center",bgColor:_,hover:{cellBgColor:m,inlineRowBgColor:g||void 0,inlineColumnBgColor:g||void 0}},rowHeaderStyle:{borderColor:c,fontSize:12,color:p,padding:[0,12,0,4],borderLineWidth:e=>[0===e.row?b:1,1,0,b],bgColor:_,hover:{cellBgColor:m,inlineRowBgColor:g||void 0,inlineColumnBgColor:g||void 0}},cornerHeaderStyle:{borderColor:c,textAlign:"center",fontSize:12,color:p,padding:[0,12,0,4],fontWeight:"bold",borderLineWidth:[b,1,1,b],bgColor:_,frameStyle:{borderColor:c},hover:{cellBgColor:m,inlineRowBgColor:g||void 0,inlineColumnBgColor:g||void 0}},cornerLeftBottomCellStyle:{borderColor:c,borderLineWidth:[b,0,b,b],bgColor:_,frameStyle:{borderColor:c,borderLineWidth:[1,0,b,b]},hover:{cellBgColor:m}},cornerRightTopCellStyle:{borderColor:c,borderLineWidth:[b,b,1,1],frameStyle:{borderColor:c,borderLineWidth:0},bgColor:_,hover:{cellBgColor:m}},rightFrozenStyle:{borderColor:c,bgColor:_,borderLineWidth:e=>[0===e.row?b:1,b,0,1],frameStyle:{borderLineWidth:0},hover:{borderLineWidth:0,cellBgColor:m}},cornerRightBottomCellStyle:{borderColor:c,bgColor:_,borderLineWidth:[1,b,b,1],frameStyle:{borderColor:c,borderLineWidth:[1,b,b,1]},hover:{cellBgColor:m}},bottomFrozenStyle:{borderColor:c,borderLineWidth:[1,b,b,1],bgColor:_,hover:{cellBgColor:m}},selectionStyle:{cellBgColor:"",cellBorderColor:""},frameStyle:{borderColor:c,cornerRadius:z,borderLineWidth:b},axisStyle:{leftAxisStyle:{cellPaddingLeft:10},bottomAxisStyle:{cellPaddingBottom:4},rightAxisStyle:{cellPaddingRight:4}},scrollStyle:{visible:"scrolling",hoverOn:!1}}}},pivotIndicators_pivotIndicators=e=>(t,n)=>{let a={...t},{advancedVSeed:i}=n,{measures:o,datasetReshapeInfo:r,dataset:l,encoding:s}=i,d=(0,external_remeda_namespaceObject.unique)(r.flatMap(e=>e.unfoldInfo.colorItems)),c=(0,external_remeda_namespaceObject.unique)(r.flatMap(e=>Object.keys(e.foldInfo.foldMap||{}))),u=r.map((t,a)=>{let u=o?.find(e=>`${e.id}`===t.id),p=(u?.children||[]).map(e=>e.id),_=c.filter(e=>!p.includes(e)),m=l[a],g=[{...t,unfoldInfo:{...t.unfoldInfo,colorItems:d}}],b=execPipeline(e,{...n,advancedVSeed:{...i,pivotAllDatasetReshapeInfo:r,datasetReshapeInfo:g,encoding:Object.keys(s).reduce((e,t)=>(e[t]=s[t]?.filter(e=>!_.includes(e)),e),{}),dataset:m}},{});return{indicatorKey:`${t.id}`,title:u?.alias,cellType:"chart",chartModule:"vchart",chartSpec:b,style:{padding:[1,1,0,1]}}});return{...a,indicators:u}},pivotIndicatorsAsRow=e=>({...e,indicatorsAsCol:!1}),pivotIndicatorsAsCol=e=>({...e,indicatorsAsCol:!0}),datasetPivot=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{dataset:i,datasetReshapeInfo:o}=a,r=i.reduce((e,t,n)=>(e[o[n].id]=t,e),{});return{...n,records:r}},pivotAxisStyle=e=>(t,n)=>{let a=e(t,n);if(a.axes){let{advancedVSeed:e}=n,{config:t,chartType:i}=e,o=t?.[i]?.pivotGrid??{};a.axes.forEach(e=>{e.domainLine={visible:!1},o.chartGridColor&&e.grid&&e.grid.visible&&e.grid.style&&(e.grid.style.stroke=o.chartGridColor),o.axisLabelColor&&e.label&&e.label.visible&&e.label.style&&(e.label.style.fill=o.axisLabelColor),"band"===e.type?"left"===e.orient||"right"===e.orient?e.innerOffset={top:2,bottom:2}:("top"===e.orient||"bottom"===e.orient)&&(e.innerOffset={left:2,right:2}):"linear"===e.type&&("top"===e.orient||"bottom"===e.orient)&&(e.label.flush=!0)})}return a},pivotRowDimensions=(e,t)=>{let n={...e},{advancedVSeed:a}=t,i=a.dimensions;if(!i)return n;let o=i.filter(e=>"row"===e.encoding).map(e=>({dimensionKey:e.id,title:e.alias||e.id}));return{...n,rows:o}},pivotColumnDimensions=(e,t)=>{let n={...e},{advancedVSeed:a}=t,i=a.dimensions;if(!i)return n;let o=i.filter(e=>"column"===e.encoding).map(e=>({dimensionKey:e.id,title:e.alias||e.id}));return{...n,columns:o}},pivotTitle=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{config:i,chartType:o}=a,r=i?.[o]?.pivotGrid??{};return n.columns&&n.columns.length>0&&(n.title={text:e.columns.map(e=>e.title).join("/"),align:"center",orient:"top",padding:[2,0,0,0],textStyle:{fontSize:r.titleFontSize??12,fill:r.titleFontColor??"#000",fontWeight:r.titleFontWeight??"bold"}}),n},pivotDiscreteLegend=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{chartType:i}=a,o=a.config[i];if(!o||!o.legend)return n;let{datasetReshapeInfo:r}=a,l=(0,external_remeda_namespaceObject.unique)(r.flatMap(e=>e.unfoldInfo.colorItems)),s=r.reduce((e,t)=>({...e,...t.unfoldInfo.colorIdMap}),{}),{legend:d,color:c}=o,{colorScheme:u,colorMapping:p}=c,_=createSpecifiedForColorMapping(p,s,l),{enable:m,position:g="bottom",labelFontColor:b,labelColor:z,labelFontSize:h=12,labelFontWeight:x=400,maxSize:f=1,border:y,shapeType:C="rectRound"}=d||{},A={padding:0,visible:m,type:"discrete",orient:["bottom","bottomLeft","bottomRight","bl","br"].includes(g)?"bottom":["top","topLeft","topRight","tl","tr"].includes(g)?"top":["left","leftTop","leftBottom","lt","lb"].includes(g)?"left":"right",position:["topLeft","bottomLeft","leftTop","rightTop","lt","rt","tl","bl"].includes(g)?"start":["topRight","bottomRight","leftBottom","rightBottom","lb","rb","rt","br"].includes(g)?"end":"middle",maxCol:Math.max(1,f),maxRow:Math.max(1,f),data:l.map((e,t)=>{let n=_?.[e]??u?.[t%u.length];return{label:e,shape:{outerBorder:y?{stroke:n,distance:3,lineWidth:1}:void 0,fill:n}}}),item:{focus:!0,maxWidth:"30%",focusIconStyle:{size:h+2,fill:z||b,fontWeight:x},shape:{space:y?6:4,style:{symbolType:C,size:y?8:10}},label:{formatMethod:e=>s[e]?.alias??e,style:{fontSize:h,fill:z||b,fontWeight:x}},background:{state:{selectedHover:{fill:z||b,fillOpacity:.05}}}}};return{...n,legends:A}},pivotColorLegend=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{chartType:i}=a,o=a.config[i];if(!o||!o.legend)return n;let{datasetReshapeInfo:r}=a,l=Math.max(...r.map(e=>e.foldInfo.statistics.colorMin)),s=Math.min(...r.map(e=>e.foldInfo.statistics.colorMax)),{legend:d,color:c}=o,{colorScheme:u,linearColorScheme:p}=c,{enable:_,position:m="bottom",labelFontColor:g,labelColor:b,labelFontSize:z=12,labelFontWeight:h=400}=d||{},x=["bottom","bottomLeft","bottomRight","bl","br"].includes(m)?"bottom":["top","topLeft","topRight","tl","tr"].includes(m)?"top":["left","leftTop","leftBottom","lt","lb"].includes(m)?"left":"right",f=["topLeft","bottomLeft","leftTop","rightTop","lt","rt","tl","bl"].includes(m)?"start":["topRight","bottomRight","leftBottom","rightBottom","lb","rb","rt","br"].includes(m)?"end":"middle";return{...n,legends:{visible:_,type:"color",orient:x,position:f,colors:p||u||[],value:[s,l],min:s,max:l,maxWidth:"30%",handlerText:{visible:!0,style:{fill:b||g,fontSize:z,fontWeight:h}}}}},dimensionLinkage=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{chartType:i}=a,o=n.config?.[i]?.dimensionLinkage??{};if(!1===o.enable)return e;let r=e.indicators,l={},s=r?.[0]?.chartSpec,d=s?.crosshair;if(d?.xField){let e=d.xField.label?.formatMethod;l.bottom={visible:o.showLabel??d.xField.label?.visible??!0,background:d.xField.label?.labelBackground,textStyle:d.xField.label?.style,formatMethod:e?t=>t||0===t?e(t):null:void 0}}if(d?.yField){let e=d.yField.label?.formatMethod;l.left={visible:o.showLabel??d.yField.label?.visible??!0,background:d.yField.label?.labelBackground,textStyle:d.yField.label?.style,formatMethod:e?t=>t||0===t?e(t):null:void 0}}return r&&r.length&&r.forEach(e=>{let t=e?.chartSpec?.crosshair;t?.xField&&(t.xField.label={visible:!1}),t?.yField&&(t.yField.label={visible:!1})}),e.chartDimensionLinkage={showTooltip:o.showTooltip??s?.tooltip?.dimension?.visible??!0,heightLimitToShowTooltipForLastRow:60,widthLimitToShowTooltipForLastColumn:90,labelHoverOnAxis:l},e},pivotAdapter_pivotAdapter=(e,t)=>(n,a)=>{let{vseed:i}=a;return isPivotChart(i)?execPipeline(t,a,n):execPipeline(e,a,n)},line_line=[initLine,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,xBand,yLinear,verticalCrosshairLine,colorAdapter(discreteLegend,colorLegend),colorPointStyleFill(pointStyle_pointStyle),pointStateDimensionHover,colorLineStyleFill(lineStyle_lineStyle),label_label,tooltip_tooltip,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea,splitLine],pivotLine=[initPivot,pivotGridStyle,pivotIndicatorsAsRow,datasetPivot,pivotIndicators_pivotIndicators([initLine,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,xBand,pivotAxisStyle(yLinear),verticalCrosshairLine,colorPointStyleFill(pointStyle_pointStyle),pointStateDimensionHover,colorLineStyleFill(lineStyle_lineStyle),label_label,tooltip_tooltip,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea,splitLine]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend),dimensionLinkage],lineSpecPipeline=[pivotAdapter_pivotAdapter(line_line,pivotLine)],registerLine=()=>{Builder._advancedPipelineMap.line=lineAdvancedPipeline,Builder._specPipelineMap.line=lineSpecPipeline},defaultEncodingForColumn=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i={};return column_generateDefaultDimensionEncoding(n,i),column_generateDefaultMeasureEncoding(a,i),{...e,encoding:i}},encodingForColumn=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i=n.some(e=>e.encoding),o=a.some(e=>e.encoding),r={};return i?column_generateDimensionEncoding(n,r,a.length>1):column_generateDefaultDimensionEncoding(n,r),o?column_generateMeasureEncoding(a,r):column_generateDefaultMeasureEncoding(a,r),{...e,encoding:r}},column_generateDefaultDimensionEncoding=(e,t)=>{let n=1===e.length&&e.find(e=>e.id===MeasureId),a=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id));t.x=a.slice(0,1),t.color=a.slice(+!n),t.detail=t.color,t.tooltip=a.filter(e=>e!==MeasureId),t.label=[],t.row=[],t.column=[]},column_generateDimensionEncoding=(e,t,n)=>{t.x=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"xAxis"===e.encoding).map(e=>e.id)),0===t.x.length&&(t.x=[e[0].id]),addColorToEncoding(e,t,n),t.detail=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"detail"===e.encoding).map(e=>e.id)),0===t.detail.length&&(t.detail=t.color),t.tooltip=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id)),t.tooltip=t.tooltip.filter(e=>e!==MeasureId),t.label=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id)),t.label=t.label.filter(e=>e!==MeasureId)},column_generateDefaultMeasureEncoding=(e,t)=>{t.y=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"yAxis"===e.encoding||!e.encoding).map(e=>e.id))},column_generateMeasureEncoding=(e,t)=>{t.y=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"yAxis"===e.encoding||!e.encoding).map(e=>e.id));let n=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"color"===e.encoding).map(e=>e.id));n.length>0&&(t.color=n);let a=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id));t.label=(0,external_remeda_namespaceObject.unique)([...t.label||[],...a]);let i=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"tooltip"===e.encoding).map(e=>e.id));t.tooltip=(0,external_remeda_namespaceObject.unique)([...t.tooltip||[],...a,...i])},columnConfig=(e,t)=>{let{vseed:n}=t,{chartType:a}=n,i={...e},o=replaceNullToUndefined((0,external_remeda_namespaceObject.pick)(n,["backgroundColor","color","label","legend","tooltip","xAxis","yAxis","crosshairRect","stackCornerRadius","barMaxWidth","barGapInGroup","dimensionLinkage"]));return i.config={...i.config||{},[a]:{...o}},i},regressionLine_regressionLine=(e,t)=>{let{vseed:n}=t,a=[];if("histogram"===n.chartType?a=["kdeRegressionLine","ecdfRegressionLine"]:"scatter"===n.chartType?a=["linearRegressionLine","lowessRegressionLine","polynomialRegressionLine","logisticRegressionLine"]:"column"===n.chartType&&(a=["polynomialRegressionLine"]),a.length){let t={},i=!1;return a.forEach(e=>{n[e]&&(i=!0,t[e]=n[e])}),i?{...e,regressionLine:t}:e}return e},columnAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForColumn,buildMeasures],[encodingForColumn,buildMeasures,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),sortXBandAxis,sortLegend_sortLegend,columnConfig,theme_theme,markStyle_markStyle,annotation_annotation,regressionLine_regressionLine],initColumn=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i}=a,{unfoldInfo:o,foldInfo:r}=i[0];return n.type="bar",n.direction="vertical",n.xField=o.encodingX,n.yField=r.measureValue,n.seriesField=o.encodingColorId,n.padding=0,n.region=[{clip:!0}],n.animation=!0,n},stackCornerRadius_stackCornerRadius=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{chartType:i}=a,o=n.config?.[i]?.stackCornerRadius;return"dualAxis"===i&&"bar"!==e.type?e:{...e,stackCornerRadius:(e,t)=>t&&t[t[FoldMeasureId]]>0?o:0}},barMaxWidth_barMaxWidth=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{chartType:i}=a,o=n.config?.[i]?.barMaxWidth;return(0,external_remeda_namespaceObject.isNullish)(o)?e:{...e,barMaxWidth:o}},stackInverse=e=>{let t={...e};return t.stackInverse=!0,t},verticalCrosshairRect=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{chartType:o}=i,r=a.config?.[o]?.crosshairRect;if(!r)return n;n.crosshair||(n.crosshair={});let l=r.visible||!0,s=r.rectColor||void 0,d=r.labelColor||void 0,c=r.labelVisible||!1,u=r.labelBackgroundColor||void 0,p=n.crosshair;p.xField={visible:l,line:{type:"rect",style:{lineWidth:0,opacity:.26,fill:s}},label:{visible:c,labelBackground:{visible:c,style:{fill:u}},style:{fill:d}}};let _=n.axes?.find(e=>"bottom"===e.orient),m=_?.label?.formatMethod;return m&&(p.xField.label.formatMethod=e=>m(e)),n},colorBarStyleFill=e=>(t,n)=>{let a=e(t,n),{advancedVSeed:i,vseed:o}=n,{datasetReshapeInfo:r}=i,{unfoldInfo:l}=r[0];return isLinearColor(i,o)&&a?.bar?.style&&(a.bar.style.fill={field:l.encodingColor,scale:"color"}),a},barStyle_barStyle=(e,t)=>{let{advancedVSeed:n}=t,{markStyle:a,dataset:i=[]}=n,{barStyle:o}=a,r=i.length<=100,l={...e,bar:{style:{visible:!0,fillOpacity:1,lineWidth:+!!r},state:{hover:{fillOpacity:.6}}}};if((0,external_remeda_namespaceObject.isNullish)(o)||(0,external_remeda_namespaceObject.isEmpty)(o))return l;let s=(Array.isArray(o)?o:[o]).reduce((e,t,n)=>{let{barBorderColor:a,barBorderStyle:i,barBorderWidth:o=1,barColor:r,barColorOpacity:l,barBorderOpacity:s,barRadius:d,barVisible:c=!0}=t;return{...e,[`custom${n+1}`]:{level:n+1,filter:e=>!!selector_selector(e,t.selector),style:{visible:c,fill:r,fillOpacity:l,cornerRadius:d,lineWidth:o,stroke:a,strokeOpacity:s,lineDash:"dashed"===i?[5,2]:"dotted"===i?[2,5]:[0,0]}}}},{});return l.bar.state={...l.bar.state,...s},l},annotationAreaBand=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{annotation:i,config:o}=n;if(!i||!i.annotationArea)return e;let r=o?.[a.chartType]?.annotation?.annotationArea,{annotationArea:l}=i,s=Array.isArray(l)?l:[l],d={top:"insideTop",topRight:"insideTopRight",topLeft:"insideTopLeft",bottom:"insideBottom",bottomLeft:"insideBottomLeft",bottomRight:"insideBottomRight",left:"insideLeft",right:"insideRight"},c=isBarLikeChart(n)?"right":"top",u=s.flatMap(e=>{let{selector:t,text:a="",textColor:i=r?.textColor??"#ffffff",textFontSize:o=r?.textFontSize??12,textFontWeight:l=r?.textFontWeight??400,textBackgroundVisible:s=r?.textBackgroundVisible??!0,textBackgroundColor:u=r?.textBackgroundColor??"#191d24",textBackgroundBorderColor:p=r?.textBackgroundBorderColor??"#191d24",textBackgroundBorderWidth:_=r?.textBackgroundBorderWidth??1,textBackgroundBorderRadius:m=r?.textBackgroundBorderRadius??4,textBackgroundPadding:g=r?.textBackgroundPadding??4,areaColor:b=r?.areaColor??"#888888",areaColorOpacity:z=r?.areaColorOpacity??.15,areaBorderColor:h=r?.areaBorderColor??"#888888",areaBorderRadius:x=r?.areaBorderRadius??4,areaBorderWidth:f=r?.areaBorderWidth??1,areaLineDash:y=r?.areaLineDash,outerPadding:C=r?.outerPadding??4}=e,A=e.textPosition??c,v=e.textAlign??ANNOTATION_AREA_TEXT_STYLE_BY_POSITION[A].textAlign,L=e.textBaseline??ANNOTATION_AREA_TEXT_STYLE_BY_POSITION[A].textBaseline,S=n.dataset.flat(),P=t?S.filter(e=>selector_selector(e,t)):[];return{zIndex:1e3,regionRelative:!0,positions:(e,t)=>{let n=e.filter(e=>P.some(t=>isSubset(t,e))).map(e=>t.dataToPosition(e)),a=t?._scaleConfig?.bandPosition||0,i=t.getYAxisHelper(),o=t.getXAxisHelper();if("function"==typeof o?.getBandwidth){let e=t.fieldX.length??0,i=o?.getBandwidth?.(e-1),r=t.getRegion().getLayoutRect(),l=Math.min(...n.map(e=>e.x))-(C||4),s=Math.max(...n.map(e=>e.x))+(C||4),d=s-l+i,c=(s+l)/2+i*(.5-a),u=c-d/2,p=c+d/2,_=r.height;return[{x:u,y:0},{x:p,y:0},{x:p,y:_},{x:u,y:_}]}if("function"==typeof i?.getBandwidth){let e=t.fieldY.length??0,o=i?.getBandwidth?.(e-1),r=t.getRegion().getLayoutRect(),l=Math.min(...n.map(e=>e.y))-(C||4),s=Math.max(...n.map(e=>e.y))+(C||4),d=s-l+o,c=(s+l)/2+o*(.5-a),u=c-d/2,p=c+d/2,_=r.width;return[{x:0,y:u},{x:_,y:u},{x:_,y:p},{x:0,y:p}]}return[]},label:{position:d[A],visible:!0,text:a,style:{opacity:.95,textAlign:v,textBaseline:L,stroke:u,lineWidth:1,fill:i,fontSize:o,fontWeight:l},labelBackground:{visible:s,padding:g,style:{opacity:.95,cornerRadius:m??4,fill:u,stroke:p,lineWidth:_,fillOpacity:1}}},area:{style:{visible:!0,fill:b,fillOpacity:z,stroke:h,lineWidth:f,cornerRadius:x,lineDash:y}}}});return{...e,markArea:u}},defaultRegressionLineColor=(e,t,n)=>{let a=n.mark?._product?.parent;if(a?.attribute?.data)return a.attribute.data.color},defaultRegressionLineLabelX=(e,t,n)=>{let a=n.mark?._product?.parent;if(a?.attribute?.data?.linePoints){let e=a.attribute.data.linePoints;return e[e.length-1]?.x}},defaultRegressionLineLabelY=(e,t,n)=>{let a=n.mark?._product?.parent;if(a?.attribute?.data?.linePoints){let e=a.attribute.data.linePoints;return e[e.length-1]?.y}},getAlphaByConfidenceLevel=(e=.95)=>1-Math.max(Math.min(1,e),0),columnPolynomialRegressionLine=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{chartType:i,regressionLine:o}=a,r=a.config[i]?.regressionLine;if(!o||!o.polynomialRegressionLine)return n;let l=(0,vutils_namespaceObject.array)(o.polynomialRegressionLine);return n.extensionMark||(n.extensionMark=[]),l.forEach((t,a)=>{if(!1===t.enable)return;let i=r.linearRegressionLine??{},{color:o,lineWidth:l,lineDash:s,text:d,textColor:c,textFontSize:u,textFontWeight:p,confidenceIntervalOpacity:_,confidenceLevel:m=.95,confidenceIntervalVisible:g=i.confidenceIntervalVisible}=t,b=[];n.extensionMark.push({type:"group",interactive:!1,zIndex:500,name:`polynomialRegressionLine-${a}`,dataId:e.data?.id,style:{data:(e,n)=>{let a=n.vchart.getChart().getAllSeries()[0];if(a){let e=a.getRegion().getLayoutRect();if(0===e.width||0===e.height)return null;let n=(0,vutils_namespaceObject.clamper)(0,0+e.height),i=a.getViewData()?.latestData,o=a.fieldX?.[0],r=a.fieldY?.[0],l=a.getRawDataStatisticsByField(o).values,s=(t.degree??2)+1;if(!o||!r||!i||i.length<s||l.length<s)return null;let{confidenceInterval:d,evaluateGrid:c}=(0,vutils_namespaceObject.regressionPolynomial)(l.map((e,t)=>({x:t,y:Math.max(...i.filter(t=>t[o]===e).map(e=>e[r]))})),void 0,void 0,{degree:t.degree??2,alpha:getAlphaByConfidenceLevel(m)}),u=l.length,p=a.getXAxisHelper(),_=p?p.getBandwidth(0)/2:0,b={linePoints:c(u).map((e,t)=>{let i={[o]:l[t],[r]:e.y};return{x:a.dataToPositionX(i)+_,y:n(a.dataToPositionY(i))}}),color:a.getOption().globalScale.getScale("color")?.scale(a.getSeriesKeys()[0])};return g&&(b.areaPoints=d(u).map((e,t)=>{let i={[o]:l[t],[r]:e.lower};return{x:a.dataToPositionX(i)+_,y:n(a.dataToPositionY(i)),y1:n(a.dataToPositionY({[r]:e.upper}))}})),b}return null}},children:b}),g&&b.push({type:"area",interactive:!1,zIndex:500,dataId:e.data?.id,style:{lineWidth:l??i.lineWidth,lineDash:s??i.lineDash,fillOpacity:_??i.confidenceIntervalOpacity,fill:o??defaultRegressionLineColor,points:(e,t,n)=>{let a=n.mark?._product?.parent;return a?.attribute?.data?a.attribute.data.areaPoints:[]}}}),b.push({type:"line",interactive:!1,zIndex:500,dataId:e.data?.id,style:{lineWidth:l??i.lineWidth,lineDash:s??i.lineDash,stroke:o??defaultRegressionLineColor,points:(e,t,n)=>{let a=n.mark?._product?.parent;return a?.attribute?.data?a.attribute.data.linePoints:[]}}}),(0,external_remeda_namespaceObject.isNullish)(d)||b.push({type:"text",interactive:!1,zIndex:500,dataId:e.data?.id,dataKey:()=>`polynomialRegressionLine-label-${a}`,style:{textAlign:"end",fill:c??i.textColor,fontSize:u??i.textFontSize,fontWeight:p??i.textFontWeight,text:d,x:(e,t,n)=>{let a=n.mark?._product?.parent;if(a?.attribute?.data?.linePoints){let e=a.attribute.data.linePoints;return e[e.length-1]?.x}},y:(e,t,n)=>{let a=n.mark?._product?.parent;if(a?.attribute?.data?.linePoints){let e=a.attribute.data.linePoints;return e[e.length-1]?.y}}}})}),n},column=[initColumn,stackCornerRadius_stackCornerRadius,barMaxWidth_barMaxWidth,stackInverse,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,xBand,yLinear,label_label,tooltip_tooltip,verticalCrosshairRect,colorAdapter(discreteLegend,colorLegend),colorBarStyleFill(barStyle_barStyle),annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand,columnPolynomialRegressionLine],pivotColumn=[initPivot,pivotGridStyle,pivotIndicatorsAsRow,datasetPivot,pivotIndicators_pivotIndicators([initColumn,stackCornerRadius_stackCornerRadius,barMaxWidth_barMaxWidth,stackInverse,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,xBand,pivotAxisStyle(yLinear),label_label,tooltip_tooltip,verticalCrosshairRect,colorBarStyleFill(barStyle_barStyle),annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand,columnPolynomialRegressionLine]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend),dimensionLinkage],columnSpecPipeline=[pivotAdapter_pivotAdapter(column,pivotColumn)],registerColumn=()=>{Builder._advancedPipelineMap.column=columnAdvancedPipeline,Builder._specPipelineMap.column=columnSpecPipeline},pieConfig=(e,t)=>{let{vseed:n}=t,{chartType:a}=n,i={...e},o=replaceNullToUndefined((0,external_remeda_namespaceObject.pick)(n,["backgroundColor","color","label","legend","tooltip"]));return i.config={...i.config||{},[a]:{...o}},i},areaConfig=line_lineConfig,areaPercentConfig=line_lineConfig,barConfig=columnConfig,barParallelConfig=columnConfig,barPercentConfig=columnConfig,columnParallelConfig=columnConfig,columnPercentConfig=columnConfig,donutConfig=pieConfig,roseConfig=pieConfig,roseParallelConfig=pieConfig,radarConfig=pieConfig,funnelConfig=pieConfig,heatmapConfig=pieConfig,columnParallelAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForColumn,buildMeasures],[encodingForColumn,buildMeasures,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),sortXBandAxis,sortLegend_sortLegend,columnConfig,theme_theme,markStyle_markStyle,annotation_annotation],initColumnParallel=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i,encoding:o}=a,{unfoldInfo:r,foldInfo:l}=i[0],s=(0,external_remeda_namespaceObject.isDeepEqual)(o.x,o.color);return n.type="bar",n.direction="vertical",n.xField=[r.encodingX],s||(n.xField.push(r.encodingDetail),o.detail?.[0]===MeasureId&&o.y?.length===1&&n.xField.pop()),n.yField=l.measureValue,n.seriesField=r.encodingColorId,n.padding=0,n.region=[{clip:!0}],n.animation=!0,n},barGapInGroup_barGapInGroup=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{chartType:i}=a,o=n.config?.[i]?.barGapInGroup;return(0,external_remeda_namespaceObject.isNullish)(o)?e:{...e,barGapInGroup:o}},columnParallel=[initColumnParallel,stackCornerRadius_stackCornerRadius,barMaxWidth_barMaxWidth,barGapInGroup_barGapInGroup,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,xBand,yLinear,label_label,tooltip_tooltip,colorAdapter(discreteLegend,colorLegend),verticalCrosshairRect,colorBarStyleFill(barStyle_barStyle),annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand],pivotColumnParallel=[initPivot,pivotGridStyle,pivotIndicatorsAsRow,datasetPivot,pivotIndicators_pivotIndicators([initColumnParallel,stackCornerRadius_stackCornerRadius,barMaxWidth_barMaxWidth,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,xBand,pivotAxisStyle(yLinear),label_label,tooltip_tooltip,verticalCrosshairRect,colorBarStyleFill(barStyle_barStyle),annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend),dimensionLinkage],columnParallelSpecPipeline=[pivotAdapter_pivotAdapter(columnParallel,pivotColumnParallel)],registerColumnParallel=()=>{Builder._advancedPipelineMap.columnParallel=columnParallelAdvancedPipeline,Builder._specPipelineMap.columnParallel=columnParallelSpecPipeline},columnPercentAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForColumn,buildMeasures],[encodingForColumn,buildMeasures,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),sortXBandAxis,sortLegend_sortLegend,columnConfig,theme_theme,markStyle_markStyle,annotation_annotation],percent=e=>{let t={...e};return t.percent=!0,t},columnPercent=[initColumn,stackCornerRadius_stackCornerRadius,stackInverse,barMaxWidth_barMaxWidth,colorAdapter(color_color,linearColor),background_backgroundColor,percent,datasetXY,progressive,xBand,yLinear,label_label,tooltip_tooltip,colorAdapter(discreteLegend,colorLegend),verticalCrosshairRect,colorBarStyleFill(barStyle_barStyle),annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand],pivotColumnPercent=[initPivot,pivotGridStyle,pivotIndicatorsAsRow,datasetPivot,pivotIndicators_pivotIndicators([initColumn,stackCornerRadius_stackCornerRadius,stackInverse,barMaxWidth_barMaxWidth,colorAdapter(color_color,linearColor),percent,background_backgroundColor,datasetXY,progressive,xBand,pivotAxisStyle(yLinear),label_label,tooltip_tooltip,verticalCrosshairRect,colorBarStyleFill(barStyle_barStyle),annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend),dimensionLinkage],columnPercentSpecPipeline=[pivotAdapter_pivotAdapter(columnPercent,pivotColumnPercent)],registerColumnPercent=()=>{Builder._advancedPipelineMap.columnPercent=columnPercentAdvancedPipeline,Builder._specPipelineMap.columnPercent=columnPercentSpecPipeline},defaultEncodingForBar=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i={};return bar_generateDefaultDimensionEncoding(n,i),bar_generateDefaultMeasureEncoding(a,i),{...e,encoding:i}},encodingForBar=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i=n.some(e=>e.encoding),o=a.some(e=>e.encoding),r={};return i?bar_generateDimensionEncoding(n,r,a.length>1):bar_generateDefaultDimensionEncoding(n,r),o?bar_generateMeasureEncoding(a,r):bar_generateDefaultMeasureEncoding(a,r),{...e,encoding:r}},bar_generateDefaultDimensionEncoding=(e,t)=>{let n=1===e.length&&e.find(e=>e.id===MeasureId),a=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id));t.y=a.slice(0,1),t.color=a.slice(+!n),t.detail=t.color,t.tooltip=a.filter(e=>e!==MeasureId),t.label=[],t.row=[],t.column=[]},bar_generateDimensionEncoding=(e,t,n)=>{t.y=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"yAxis"===e.encoding).map(e=>e.id)),0===t.y.length&&(t.y=[e[0].id]),addColorToEncoding(e,t,n),t.detail=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"detail"===e.encoding).map(e=>e.id)),0===t.detail.length&&(t.detail=t.color),t.tooltip=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id)),t.tooltip=t.tooltip.filter(e=>e!==MeasureId),t.label=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id)),t.label=t.label.filter(e=>e!==MeasureId)},bar_generateDefaultMeasureEncoding=(e,t)=>{t.x=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"xAxis"===e.encoding||!e.encoding).map(e=>e.id))},bar_generateMeasureEncoding=(e,t)=>{t.x=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"xAxis"===e.encoding||!e.encoding).map(e=>e.id));let n=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"color"===e.encoding).map(e=>e.id));n.length>0&&(t.color=n);let a=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id));t.label=(0,external_remeda_namespaceObject.unique)([...t.label||[],...a]);let i=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"tooltip"===e.encoding).map(e=>e.id));t.tooltip=(0,external_remeda_namespaceObject.unique)([...t.tooltip||[],...a,...i])},sortYBandAxis=(e,t)=>{let n={...e},{vseed:a}=t,{sort:i}=a,{datasetReshapeInfo:o,dataset:r}=e,{unfoldInfo:l}=o[0],s=l?.encodingY;if(!i||!s)return e;n.analysis||(n.analysis={}),n.analysis.orderMapping||(n.analysis.orderMapping={});let d=calcOrder(i,s,r.flat(2));return n.analysis.orderMapping[s]=d,n},barAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForBar,buildMeasures],[encodingForBar,buildMeasures,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),sortYBandAxis,sortLegend_sortLegend,columnConfig,theme_theme,markStyle_markStyle,annotation_annotation],initBar=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i}=a,{unfoldInfo:o,foldInfo:r}=i[0];return n.type="bar",n.direction="horizontal",n.yField=o.encodingY,n.xField=r.measureValue,n.seriesField=o.encodingColorId,n.padding=0,n.region=[{clip:!0}],n.animation=!0,n},datasetYX=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{analysis:i,datasetReshapeInfo:o}=n,{unfoldInfo:r}=o[0],l=i?.orderMapping||{},s=r.encodingAngle,d=r.encodingY,c=r.encodingColorId,u=o[0].id,p={};if(s&&(p[s]={sortIndex:0}),d){let e=l[d];e?p[d]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:p[d]={sortIndex:0}}if(c){let e=l[c];e?p[c]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:p[c]={sortIndex:0}}return{...e,data:{id:u,values:isPivotChart(a)?void 0:n.dataset,fields:p}}},xLinear=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{encoding:o,dimensions:r,measures:l}=a,{chartType:s}=i,d=a.config?.[s]?.xAxis??{};n.axes||(n.axes=[]);let c=isPivotChart(i),{visible:u=!0,label:p,tick:_,title:m,grid:g,line:b,zero:z,nice:h,inverse:x,max:f,min:y,log:C,logBase:A=10,autoFormat:v,numFormat:L={}}=d,S=createNumFormatter(L),P=createNumFormatter({type:"percent"}),k={...c?{range:{min:y,max:f}}:{min:y,max:f},visible:u,type:C?"log":"linear",base:A,orient:"bottom",nice:h,zero:!C&&z,inverse:x,label:{space:8,visible:p?.visible,formatMethod:e=>isBarPercent(i)||isColumnPercent(i)||isAreaPercent(i)?createLinearPercentFormat(e,v,L,S,P):createLinearFormat(e,v,L,S),style:{fill:p?.labelColor,angle:p?.labelAngle,fontSize:p?.labelFontSize,fontWeight:p?.labelFontWeight}},title:{visible:m?.visible,text:m?.titleText||defaultTitleText(l,r,o.x),style:{fill:m?.titleColor,fontSize:m?.titleFontSize,fontWeight:m?.titleFontWeight}},tick:{visible:_?.visible,tickSize:_?.tickSize,inside:_?.tickInside,style:{stroke:_?.tickColor}},grid:{visible:g?.visible,style:{lineWidth:g?.gridWidth,stroke:g?.gridColor,lineDash:g?.gridLineDash}},domainLine:{visible:b?.visible,style:{lineWidth:b?.lineWidth,stroke:b?.lineColor}},innerOffset:{right:12}};return n.axes=[...n.axes,k],n},yBand=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{chartType:o}=i,{measures:r,dimensions:l,encoding:s,datasetReshapeInfo:d,pivotAllDatasetReshapeInfo:c}=a,u=a.config?.[o]?.yAxis??{};n.axes||(n.axes=[]);let{visible:p=!0,label:_,tick:m,title:g,grid:b,line:z,labelAutoHide:h,labelAutoHideGap:x,labelAutoLimit:f,labelAutoLimitLength:y=80,labelAutoRotate:C,labelAutoRotateAngleRange:A}=u,v=0===(s.y||[]).filter(e=>e!==MeasureId).length,L={visible:p,type:"band",orient:"left",maxWidth:y+60,sampling:!(h||C||f),hover:!0,label:{visible:_?.visible,flush:!0,containerAlign:"right",space:8,style:{maxLineWidth:y,fill:_?.labelColor,angle:_?.labelAngle,fontSize:_?.labelFontSize,fontWeight:_?.labelFontWeight},minGap:x,autoHide:h,autoHideMethod:"greedy",autoHideSeparation:x,autoLimit:f,autoRotate:C,autoRotateAngle:A,lastVisible:!0},title:{visible:g?.visible,text:g?.titleText||defaultTitleText(r,l,s.y),style:{fill:g?.titleColor,fontSize:g?.titleFontSize,fontWeight:g?.titleFontWeight}},tick:{visible:m?.visible,tickSize:m?.tickSize,inside:m?.tickInside,style:{stroke:m?.tickColor}},grid:{visible:b?.visible,style:{lineWidth:b?.gridWidth,stroke:b?.gridColor,lineDash:b?.gridLineDash}},domainLine:{visible:z?.visible,style:{lineWidth:z?.lineWidth,stroke:z?.lineColor}},paddingInner:[.15,.1],paddingOuter:[.075,.1]};if(v&&L.label){let e=(c||d).reduce((e,t)=>({...e,...t.unfoldInfo.colorIdMap}),{});L.label.formatMethod=t=>(0,vutils_namespaceObject.isArray)(t)?t:e[String(t)]?.alias??t}return n.axes=[...n.axes,L],n},horizontalCrosshairRect=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{chartType:o}=i,r=a.config?.[o]?.crosshairRect;if(!r)return n;n.crosshair||(n.crosshair={});let l=r.visible||!0,s=r.rectColor||void 0,d=r.labelColor||void 0,c=r.labelVisible||!1,u=r.labelBackgroundColor||void 0,p=n.crosshair;p.yField={visible:l,line:{type:"rect",style:{lineWidth:0,opacity:.26,fill:s}},label:{visible:c,labelBackground:{visible:c,style:{fill:u}},style:{fill:d}}};let _=n.axes?.find(e=>"left"===e.orient),m=_?.label?.formatMethod;return m&&(p.yField.label.formatMethod=e=>m(e)),n},bar=[initBar,stackCornerRadius_stackCornerRadius,barMaxWidth_barMaxWidth,colorAdapter(color_color,linearColor),background_backgroundColor,datasetYX,progressive,xLinear,yBand,label_label,tooltip_tooltip,colorAdapter(discreteLegend,colorLegend),horizontalCrosshairRect,colorBarStyleFill(barStyle_barStyle),annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand],pivotBar=[initPivot,pivotGridStyle,pivotIndicatorsAsCol,datasetPivot,pivotIndicators_pivotIndicators([initBar,stackCornerRadius_stackCornerRadius,barMaxWidth_barMaxWidth,colorAdapter(color_color,linearColor),background_backgroundColor,datasetYX,progressive,xLinear,pivotAxisStyle(yBand),label_label,tooltip_tooltip,colorBarStyleFill(barStyle_barStyle),horizontalCrosshairRect,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend),dimensionLinkage],barSpecPipeline=[pivotAdapter_pivotAdapter(bar,pivotBar)],registerBar=()=>{Builder._advancedPipelineMap.bar=barAdvancedPipeline,Builder._specPipelineMap.bar=barSpecPipeline},barParallelAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForBar,buildMeasures],[encodingForBar,buildMeasures,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),sortYBandAxis,sortLegend_sortLegend,columnConfig,theme_theme,markStyle_markStyle,annotation_annotation],initBarParallel=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i,encoding:o}=a,{unfoldInfo:r,foldInfo:l}=i[0],s=(0,external_remeda_namespaceObject.isDeepEqual)(o.y,o.color);return n.type="bar",n.direction="horizontal",n.yField=[r.encodingY],s||(n.yField.push(r.encodingDetail),o.detail?.[0]===MeasureId&&o.x?.length===1&&n.yField.pop()),n.xField=l.measureValue,n.seriesField=r.encodingColorId,n.padding=0,n.region=[{clip:!0}],n.animation=!0,n},barParallel=[initBarParallel,stackCornerRadius_stackCornerRadius,barMaxWidth_barMaxWidth,barGapInGroup_barGapInGroup,colorAdapter(color_color,linearColor),background_backgroundColor,datasetYX,progressive,xLinear,yBand,label_label,tooltip_tooltip,colorAdapter(discreteLegend,colorLegend),horizontalCrosshairRect,colorBarStyleFill(barStyle_barStyle),annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand],pivotBarParallel=[initPivot,pivotGridStyle,pivotIndicatorsAsCol,datasetPivot,pivotIndicators_pivotIndicators([initBarParallel,stackCornerRadius_stackCornerRadius,barMaxWidth_barMaxWidth,colorAdapter(color_color,linearColor),background_backgroundColor,datasetYX,xLinear,pivotAxisStyle(yBand),label_label,tooltip_tooltip,colorBarStyleFill(barStyle_barStyle),horizontalCrosshairRect,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend),dimensionLinkage],barParallelSpecPipeline=[pivotAdapter_pivotAdapter(barParallel,pivotBarParallel)],registerBarParallel=()=>{Builder._advancedPipelineMap.barParallel=barParallelAdvancedPipeline,Builder._specPipelineMap.barParallel=barParallelSpecPipeline},barPercentAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForBar,buildMeasures],[encodingForBar,buildMeasures,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),sortYBandAxis,sortLegend_sortLegend,columnConfig,theme_theme,markStyle_markStyle,annotation_annotation],barPercent=[initBar,stackCornerRadius_stackCornerRadius,barMaxWidth_barMaxWidth,colorAdapter(color_color,linearColor),background_backgroundColor,percent,datasetYX,progressive,xLinear,yBand,label_label,tooltip_tooltip,colorAdapter(discreteLegend,colorLegend),horizontalCrosshairRect,colorBarStyleFill(barStyle_barStyle),annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand],pivotBarPercent=[initPivot,pivotGridStyle,pivotIndicatorsAsCol,datasetPivot,pivotIndicators_pivotIndicators([initBar,stackCornerRadius_stackCornerRadius,barMaxWidth_barMaxWidth,colorAdapter(color_color,linearColor),background_backgroundColor,percent,datasetYX,xLinear,pivotAxisStyle(yBand),label_label,tooltip_tooltip,colorBarStyleFill(barStyle_barStyle),horizontalCrosshairRect,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend),dimensionLinkage],barPercentSpecPipeline=[pivotAdapter_pivotAdapter(barPercent,pivotBarPercent)],registerBarPercent=()=>{Builder._advancedPipelineMap.barPercent=barPercentAdvancedPipeline,Builder._specPipelineMap.barPercent=barPercentSpecPipeline},areaAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForLine,buildMeasures],[encodingForLine,buildMeasures,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),sortXBandAxis,sortLegend_sortLegend,line_lineConfig,theme_theme,markStyle_markStyle,annotation_annotation],initArea=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{datasetReshapeInfo:o}=a,{unfoldInfo:r,foldInfo:l}=o[0];return n.type="area",n.direction="vertical",n.yField=l.measureValue,n.xField=r.encodingX,n.seriesField=isLinearColor(a,i)?r.encodingDetail:r.encodingColorId,n.padding=0,n.region=[{clip:!0}],n.animation=!0,n},colorAreaStyleFill=e=>(t,n)=>{let a=e(t,n),{advancedVSeed:i,vseed:o}=n,{datasetReshapeInfo:r}=i,{unfoldInfo:l}=r[0];return isLinearColor(i,o)&&a?.area?.style&&(a.area.style.fill={field:l.encodingColor,scale:"color"}),a},areaStyle_areaStyle=(e,t)=>{let{advancedVSeed:n}=t,{markStyle:a,datasetReshapeInfo:i,dataset:o}=n,{areaStyle:r,lineStyle:l}=a,{unfoldInfo:s}=i[0],d={...e,area:{visible:!0,style:{}}};if((0,external_remeda_namespaceObject.isNullish)(r)||(0,external_remeda_namespaceObject.isEmpty)(r))return d;let c=Array.isArray(r)?r:[r],u=Array.isArray(l)?l:[l],p=s.encodingColorId,_=(0,external_remeda_namespaceObject.groupBy)(o,e=>e[p??""]),m=c.reduce((e,n,a)=>{let{areaColor:i,areaColorOpacity:o,areaVisible:r=!0}=n,l=getCurveType(t.vseed,u[a]?.lineSmooth),s=getCurveTension(t.vseed,u[a]?.lineSmooth);return{...e,[`custom${a+1}`]:{level:a+1,filter:e=>{for(let t of _[e[p??""]])if(selector_selector(t,n.selector))return!0;return!1},style:{curveType:l,curveTension:s,visible:r,fill:i,fillOpacity:o}}}},{});return{...d,area:{...d.area,visible:!0,state:{...m}}}},area_area=[initArea,stackInverse,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,xBand,yLinear,label_label,tooltip_tooltip,colorAdapter(discreteLegend,colorLegend),verticalCrosshairLine,colorPointStyleFill(pointStyle_pointStyle),pointStateDimensionHover,colorLineStyleFill(lineStyle_lineStyle),colorAreaStyleFill(areaStyle_areaStyle),annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea,splitLine],pivotArea=[initPivot,pivotGridStyle,pivotIndicatorsAsRow,datasetPivot,pivotIndicators_pivotIndicators([initArea,colorAdapter(color_color,linearColor),background_backgroundColor,stackInverse,datasetXY,progressive,xBand,pivotAxisStyle(yLinear),label_label,tooltip_tooltip,verticalCrosshairLine,colorPointStyleFill(pointStyle_pointStyle),pointStateDimensionHover,colorLineStyleFill(lineStyle_lineStyle),colorAreaStyleFill(areaStyle_areaStyle),annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea,splitLine]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend),dimensionLinkage],areaSpecPipeline=[pivotAdapter_pivotAdapter(area_area,pivotArea)],registerArea=()=>{Builder._advancedPipelineMap.area=areaAdvancedPipeline,Builder._specPipelineMap.area=areaSpecPipeline},areaPercentAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForLine,buildMeasures],[encodingForLine,buildMeasures,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),sortXBandAxis,sortLegend_sortLegend,line_lineConfig,theme_theme,markStyle_markStyle,annotation_annotation],areaPercent=[initArea,stackInverse,colorAdapter(color_color,linearColor),background_backgroundColor,percent,datasetXY,progressive,xBand,yLinear,label_label,tooltip_tooltip,colorAdapter(discreteLegend,colorLegend),verticalCrosshairLine,colorPointStyleFill(pointStyle_pointStyle),pointStateDimensionHover,colorLineStyleFill(lineStyle_lineStyle),colorAreaStyleFill(areaStyle_areaStyle),annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea],pivotAreaPercent=[initPivot,pivotGridStyle,pivotIndicatorsAsRow,datasetPivot,pivotIndicators_pivotIndicators([initArea,stackInverse,colorAdapter(color_color,linearColor),background_backgroundColor,percent,datasetXY,progressive,xBand,pivotAxisStyle(yLinear),label_label,tooltip_tooltip,verticalCrosshairLine,colorPointStyleFill(pointStyle_pointStyle),pointStateDimensionHover,colorLineStyleFill(lineStyle_lineStyle),colorAreaStyleFill(areaStyle_areaStyle),annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend),dimensionLinkage],areaPercentSpecPipeline=[pivotAdapter_pivotAdapter(areaPercent,pivotAreaPercent)],registerAreaPercent=()=>{Builder._advancedPipelineMap.areaPercent=areaPercentAdvancedPipeline,Builder._specPipelineMap.areaPercent=areaPercentSpecPipeline},defaultEncodingForScatter=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i={};return scatter_generateDefaultDimensionEncoding(n,i),scatter_generateDefaultMeasureEncoding(a,i),{...e,encoding:i}},encodingForScatter=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i=n.some(e=>e.encoding),o=a.some(e=>e.encoding),r={};return i?scatter_generateDimensionEncoding(n,r):scatter_generateDefaultDimensionEncoding(n,r),o?scatter_generateMeasureEncoding(a,r):scatter_generateDefaultMeasureEncoding(a,r),{...e,encoding:r}},scatter_generateDefaultDimensionEncoding=(e,t)=>{let n=e.filter(e=>e.id!==MeasureId),a=(0,external_remeda_namespaceObject.unique)(n.map(e=>e.id));t.detail=t.color,t.tooltip=a.filter(e=>e!==MeasureId),t.label=[],t.row=[],t.column=[]},scatter_generateDimensionEncoding=(e,t)=>{t.color=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"color"===e.encoding).map(e=>e.id)),t.detail=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"detail"===e.encoding).map(e=>e.id)),0===t.detail.length&&(t.detail=[MeasureId]),t.tooltip=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id)),t.tooltip=t.tooltip.filter(e=>e!==MeasureId),t.label=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id)),t.label=t.label.filter(e=>e!==MeasureId)},scatter_generateDefaultMeasureEncoding=(e,t)=>{t.y=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"xAxis"===e.encoding||"yAxis"===e.encoding||!e.encoding).map(e=>e.id))},scatter_generateMeasureEncoding=(e,t)=>{t.y=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"xAxis"===e.encoding||"yAxis"===e.encoding||!e.encoding).map(e=>e.id));let n=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"color"===e.encoding).map(e=>e.id));n.length>0&&(t.color=[n[0]]),t.size=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"size"===e.encoding).map(e=>e.id));let a=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id));t.label=(0,external_remeda_namespaceObject.unique)([...t.label||[],...a]);let i=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"tooltip"===e.encoding).map(e=>e.id));t.tooltip=(0,external_remeda_namespaceObject.unique)([...t.tooltip||[],...a,...i])},buildMeasuresForScatter=(e,t)=>{let{vseed:n}=t;if(isMeasureTreeWithChildren(e.measures))return e;if(isMeasureTreeWithParentId(e.measures))return e.measures=buildMeasuresForScatter_generateMeasuresByParentId(e.measures),e;let a=n.scatterMeasures?(0,external_remeda_namespaceObject.clone)(n.scatterMeasures):basicMeasuresToScatterMeasures(e.measures||[]);return e.measures=scatterMeasuresToMeasureTree(a),e},basicMeasuresToScatterMeasures=e=>{let t=[],n=[];for(let a=0;a<e.length;a++){let i=e[a],o=Array.isArray(i.encoding)?i.encoding:[i.encoding],r=o.includes("yAxis"),l=o.includes("xAxis");r?t.push(i):l?n.push(i):0!==a?t.push(i):n.push(i)}return 0===t.length&&n.length>0&&t.push(n[0]),[{id:"scatterMeasures",xMeasures:n,yMeasures:t}]},scatterMeasuresToMeasureTree=e=>{let t=e.map((e,t)=>{let{id:n,xMeasures:a,yMeasures:i}=e,o=[],r=`${n}-`;if(a){let e=Array.isArray(a)?a:[a];r+=e.map(e=>e.alias||e.id).toString(),o.push({id:`${t}-x`,alias:e.map(e=>e.alias||e.id).toString(),children:e})}if(i){let e=Array.isArray(i)?i:[i];r+=e.map(e=>e.alias||e.id).toString(),o.push({id:`${t}-y`,alias:e.map(e=>e.alias||e.id).toString(),children:e})}return{id:r,alias:r,children:o}});return 1===e.length?t[0].children||[]:t},buildMeasuresForScatter_generateMeasuresByParentId=e=>{let t=[];return e.forEach(e=>{let n=e.parentId||DEFAULT_PARENT_ID;t.find(e=>e.id===n)||t.push({id:n,yMeasures:[],xMeasures:[]});let a=t.find(e=>e.id===n);if(!a||!Array.isArray(a.yMeasures)||!Array.isArray(a.xMeasures))return;let i=Array.isArray(e.encoding)?e.encoding:[e.encoding].filter(Boolean),o=i.includes("xAxis"),r=i.includes("yAxis"),l=!i.length;r?a.yMeasures.push(e):o?a.xMeasures.push(e):l&&(0!==a.yMeasures.length?a.yMeasures.push(e):a.xMeasures.push(e))}),scatterMeasuresToMeasureTree(t)},scatterConfig=(e,t)=>{let{vseed:n}=t,{chartType:a}=n,i={...e},o=replaceNullToUndefined((0,external_remeda_namespaceObject.pick)(n,["backgroundColor","color","label","legend","tooltip","xAxis","yAxis","sizeRange","size","crosshairLine","dimensionLinkage"]));return i.config={...i.config||{},[a]:{...o}},i},reshapeWithScatterEncoding=(e,t)=>{let n={...e},{vseed:a}=t,{dataset:i}=a,{encoding:o,chartType:r}=e,l=e.reshapeMeasures??e.measures??[],s=e.reshapeDimensions??e.dimensions??[];if(l.length>2)throw Error("measures can not be more than 2 groups in scatter");let d=[],c=[],u=[],p=l[0],_=l[1]||p;if(p&&p.children){let{dataset:t,foldInfo:n,unfoldInfo:r}=dataReshapeByEncoding(i,(0,external_remeda_namespaceObject.uniqueBy)(s,e=>e.id),(0,external_remeda_namespaceObject.uniqueBy)(p.children,e=>e.id),o,{foldMeasureValue:FoldXMeasureValue,foldMeasureId:FoldXMeasureId,colorItemAsId:!0,colorMeasureId:getColorMeasureId(e,a)});u.push(t),d.push(n),c.push(r)}if(_&&_.children){let{dataset:t,foldInfo:n,unfoldInfo:i}=dataReshapeByEncoding(u[0],(0,external_remeda_namespaceObject.uniqueBy)(s,e=>e.id),(0,external_remeda_namespaceObject.uniqueBy)(_.children,e=>e.id),o,{foldMeasureValue:FoldYMeasureValue,foldMeasureId:FoldYMeasureId,colorItemAsId:!0,colorMeasureId:getColorMeasureId(e,a)});u[0]=t,d.push(n),c.push(i)}let m={...c[0],colorItems:c.flatMap(e=>e.colorItems),colorIdMap:c.reduce((e,t)=>({...e,...t.colorIdMap}),{})};return{...n,dataset:u[0],datasetReshapeInfo:[{id:String(r),index:0,foldInfo:d[0],foldInfoList:d,unfoldInfo:m}]}},pivotReshapeWithScatterEncoding=(e,t)=>{let n={...e},{vseed:a}=t,{dataset:i}=a,{encoding:o,chartType:r}=e,l=e.reshapeMeasures??e.measures??[],s=e.reshapeDimensions??e.dimensions??[],d=findAllMeasures(l),c=[],u=measureDepth(l);3===u?l.forEach(e=>{c.push(e.children)}):2===u&&c.push(l);let p=[],_=[];return c.forEach((t,n)=>{if(t.length>2)throw Error("measures can not be more than 2 groups in scatter");let l=[],c=[],u=[],m=t[0],g=t[1]||m;if(m&&m.children){let{dataset:t,foldInfo:r,unfoldInfo:p}=dataReshapeByEncoding(i,s,m.children,o,{foldMeasureValue:`${FoldXMeasureValue}${n}`,colorItemAsId:!0,colorMeasureId:getColorMeasureId(e,a),omitIds:d.map(e=>e.id)});u.push(t),l.push(r),c.push(p)}if(g&&g.children){let{dataset:t,foldInfo:r,unfoldInfo:p}=dataReshapeByEncoding(i,s,g.children,o,{foldMeasureValue:`${FoldYMeasureValue}${n}`,colorItemAsId:!0,colorMeasureId:getColorMeasureId(e,a),omitIds:d.map(e=>e.id)});u.push(t),l.push(r),c.push(p)}let b={...c[0],colorItems:c.flatMap(e=>e.colorItems),colorIdMap:c.reduce((e,t)=>({...e,...t.colorIdMap}),{})},z={id:`${r}-${n}`,index:n,foldInfo:l[0],foldInfoList:l,unfoldInfo:b};_.push(z),p.push(u[0].map((e,t)=>({...e,...u[1]?.[t]||{}})))}),{...n,dataset:p,datasetReshapeInfo:_}},scatterAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForScatter,buildMeasuresForScatter],[encodingForScatter,buildMeasuresForScatter,pickMeasuresForReshape(["tooltip","label","size"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithScatterEncoding],[pivotReshapeWithScatterEncoding]),scatterConfig,theme_theme,markStyle_markStyle,annotation_annotation,regressionLine_regressionLine],initScatter=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i}=a,{unfoldInfo:o,foldInfoList:r}=i[0];return n.type="scatter",n.direction="vertical",n.xField=r?.[0].measureValue,r?.[1]&&(n.yField=r[1].measureValue),n.seriesField=o.encodingColorId,n.padding=0,n.region=[{clip:!0}],n.animation=!0,n},datasetScatter=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{datasetReshapeInfo:i}=n,o=i[0].id;return{...e,data:{id:o,values:isPivotChart(a)?void 0:n.dataset.flat(),fields:{}}}},scatterSize=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{chartType:i,encoding:o}=a,r=a.config[i];if(!o?.size?.[0])return n;let l=r.size??r.sizeRange;return n.size={type:"linear",range:Array.isArray(l)?l:[l,l]},n.sizeField=o?.size?.[0]||void 0,n},labelScatter=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{datasetReshapeInfo:o}=a,{chartType:r,encoding:l}=a,s=a.config[r],d=o[0].foldInfoList,{label:c}=s;return n.label=buildLabel(c,i.measures,i.dimensions,a.dimensions,a.measures,l,d),n},tooltipScatter=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{datasetReshapeInfo:o,chartType:r,locale:l,dimensions:s,encoding:d}=a,{tooltip:c={enable:!0}}=a.config[r],{enable:u}=c,{foldInfoList:p}=o[0];return n.tooltip={style:getTooltipStyle(c),visible:u,mark:{title:{visible:!1},content:tooltipScatter_createMarkContent(d.tooltip||[],s,findAllMeasures(i.measures),l,p)},dimension:{visible:!1}},n},tooltipScatter_createMarkContent=(e,t,n,a,i)=>{let o=(0,external_remeda_namespaceObject.uniqueBy)(t.filter(t=>e.includes(t.id)),e=>e.id),r=(0,external_remeda_namespaceObject.uniqueBy)(n.filter(t=>e.includes(t.id)),e=>e.id),l=o.map(e=>({visible:!0,hasShape:!0,shapeType:"rectRound",key:t=>e.alias||e.id?e.alias||e.id:t&&t[e.id],value:t=>t&&t[e.id]})),s=r.map(e=>({visible:!0,hasShape:!0,shapeType:"rectRound",key:e.alias||e.id,value:t=>{if(!t)return"";let a=e.id;if(!t||!t[ORIGINAL_DATA]||!t[ORIGINAL_DATA])return"";let i=t[ORIGINAL_DATA][a];return createFormatterByMeasure(findMeasureById(n,a))(i)}}));return[...l,...i.map(e=>({visible:!0,hasShape:!0,shapeType:"rectRound",key:Object.values(e.foldMap)[0],value:t=>{let{measureId:a,measureValue:i}=e;if(!t)return"";let o=t[i];return createFormatterByMeasure(findMeasureById(n,t[a]))(o)}})),...s]},horizontalCrosshairLine=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{chartType:o}=i,r=a.config?.[o]?.crosshairLine;if(!r)return n;n.crosshair||(n.crosshair={});let l=r.visible||!0,s=r.lineColor||void 0,d=r.labelColor||void 0,c=r.labelVisible||void 0,u=r.labelBackgroundColor||void 0,p=n.crosshair;p.yField={visible:l,line:{type:"line",style:{lineWidth:1,opacity:1,stroke:s,lineDash:r.lineDash??[4,2]}},label:{visible:c,labelBackground:{visible:c,style:{fill:u}},style:{fill:d}}};let _=n.axes?.find(e=>"left"===e.orient),m=_?.label?.formatMethod;return m&&(p.yField.label.formatMethod=e=>m(e)),n},generateRegressionLinePipe=(e,t,n=getDefaultRegressionOptions,a=()=>2)=>(i,o)=>{let r={...i},{advancedVSeed:l}=o,{chartType:s,regressionLine:d}=l,c=l.config[s]?.regressionLine;if(!d||!d[e])return r;let u=(0,vutils_namespaceObject.array)(d[e]);return r.extensionMark||(r.extensionMark=[]),u.forEach((o,l)=>{if(!1===o.enable)return;let s=c.linearRegressionLine??{},{color:d,lineWidth:u,lineDash:p,text:_,textColor:m,textFontSize:g,textFontWeight:b,confidenceIntervalOpacity:z,confidenceIntervalVisible:h=s.confidenceIntervalVisible}=o,x=[];r.extensionMark.push({type:"group",interactive:!1,zIndex:500,name:`${e}-${l}`,layoutType:"region-relative",dataId:i.data?.id,animation:!1,style:{data:(e,i)=>{let r=i.vchart.getChart().getAllSeries()[0];if(r){let e=r.getRegion().getLayoutRect(),i=[];if(0===e.width||0===e.height)return i;let l=(0,vutils_namespaceObject.clamper)(0,e.height),s=r.getColorAttribute(),c=r.getSeriesKeys(),u=r.getViewData()?.latestData,p=r.fieldX?.[0],_=r.fieldY?.[0];return c.length||c.push(void 0),c.forEach(e=>{let c=u.filter(t=>t[s?.field]===e),m=a(o);if(c.length<m)return;let{confidenceInterval:g,evaluateGrid:b}=t(c,e=>e?.[p],e=>e?.[_],n?.(o)),z=Math.max(3,Math.floor(c.length/4)),x=d??s?.scale?.scale(e),f=b(z),y=[];f.forEach((e,t)=>{let n={[p]:e.x,[_]:e.y},a=r.dataToPositionX(n),o=l(r.dataToPositionY(n));i.length&&0===t&&i[i.length-1].linePoints.push({x:a,y:NaN}),y.push({x:a,y:o})});let C={color:x,linePoints:y};if(h){let e=g(z),t=[];e.map((e,n)=>{let a={[p]:e.x,[_]:e.lower},o=r.dataToPositionX(a),s=l(r.dataToPositionY(a)),d=l(r.dataToPositionY({[_]:e.upper}));i.length&&0===n&&i[i.length-1].areaPoints.push({x:o,y:NaN,y1:NaN}),t.push({x:o,y:s,y1:d})}),C.areaPoints=t}i.push(C)}),i}return[]}},children:x}),h&&x.push({type:"area",interactive:!1,zIndex:500,dataId:i.data?.id,style:{stroke:!1,lineWidth:u??s.lineWidth,lineDash:p??s.lineDash,fillOpacity:z??s.confidenceIntervalOpacity,fill:"red",segments:(e,t,n)=>{let a=n.mark?._product?.parent;if(a){let e=a.finalAttribute?.data??a.attribute?.data;if(e?.length)return e.map(e=>({points:e.areaPoints??[],fill:e.color}))}return[]}}}),x.push({type:"line",interactive:!1,zIndex:500,animation:!1,dataId:i.data?.id,style:{lineWidth:u??s.lineWidth,lineDash:p??s.lineDash,stroke:"red",segments:(e,t,n)=>{let a=n.mark?._product?.parent;if(a){let e=a.finalAttribute?.data??a.attribute?.data;if(e?.length)return e.map(e=>({points:e.linePoints,stroke:e.color}))}return[]}}}),(0,external_remeda_namespaceObject.isNullish)(_)||x.push({type:"text",interactive:!1,zIndex:500,animation:!1,dataId:i.data?.id,dataKey:()=>`regressionLine-label-${l}`,style:{textAlign:"end",fill:m??s.textColor,fontSize:g??s.textFontSize,fontWeight:b??s.textFontWeight,text:_,x:(e,t,n)=>{let a=n.mark?._product?.parent;if(a?.attribute?.data?.length){let e=a.attribute.data[a.attribute.data.length-1].linePoints;return e[e.length-1]?.x}},y:(e,t,n)=>{let a=n.mark?._product?.parent;if(a?.attribute?.data?.length){let e=a.attribute.data[a.attribute.data.length-1].linePoints;return e[e.length-1]?.y}}}})}),r},getDefaultRegressionOptions=e=>({alpha:getAlphaByConfidenceLevel(e?.confidenceLevel)}),linearRegressionLine=generateRegressionLinePipe("linearRegressionLine",vutils_namespaceObject.regressionLinear,getDefaultRegressionOptions),lowessRegressionLine=generateRegressionLinePipe("lowessRegressionLine",vutils_namespaceObject.regressionLowess,getDefaultRegressionOptions),polynomialRegressionLine=generateRegressionLinePipe("polynomialRegressionLine",vutils_namespaceObject.regressionPolynomial,e=>({...getDefaultRegressionOptions(e),degree:e.degree??2}),e=>(e.degree??2)+1),logisticRegressionLine=generateRegressionLinePipe("logisticRegressionLine",vutils_namespaceObject.regressionLogistic,getDefaultRegressionOptions),scatter=[initScatter,colorAdapter(color_color,linearColor),background_backgroundColor,datasetScatter,progressive,xLinear,yLinear,scatterSize,labelScatter,tooltipScatter,colorAdapter(discreteLegend,colorLegend),verticalCrosshairLine,horizontalCrosshairLine,colorPointStyleFill(pointStyle_pointStyle),pointStateHover,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea,linearRegressionLine,lowessRegressionLine,polynomialRegressionLine,logisticRegressionLine],pivotScatter=[initPivot,pivotGridStyle,pivotIndicatorsAsRow,datasetPivot,pivotIndicators_pivotIndicators([initScatter,colorAdapter(color_color,linearColor),background_backgroundColor,datasetScatter,progressive,xLinear,pivotAxisStyle(yLinear),scatterSize,labelScatter,tooltipScatter,verticalCrosshairLine,horizontalCrosshairLine,colorPointStyleFill(pointStyle_pointStyle),pointStateHover,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea,linearRegressionLine,lowessRegressionLine,polynomialRegressionLine,logisticRegressionLine]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend),dimensionLinkage],scatterSpecPipeline=[pivotAdapter_pivotAdapter(scatter,pivotScatter)],registerScatter=()=>{Builder._advancedPipelineMap.scatter=scatterAdvancedPipeline,Builder._specPipelineMap.scatter=scatterSpecPipeline},defaultEncodingForDualAxis=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i={};return dualAxis_generateDefaultDimensionEncoding(n,i),dualAxis_generateDefaultMeasureEncoding(a,i),{...e,encoding:i}},encodingForDualAxis=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i=n.some(e=>e.encoding),o=a.some(e=>e.encoding),r={};return i?dualAxis_generateDimensionEncoding(n,r,a.length>1):dualAxis_generateDefaultDimensionEncoding(n,r),o?dualAxis_generateMeasureEncoding(a,r):dualAxis_generateDefaultMeasureEncoding(a,r),{...e,encoding:r}},dualAxis_generateDefaultDimensionEncoding=(e,t)=>{let n=1===e.length&&e.find(e=>e.id===MeasureId),a=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id));t.x=a.slice(0,1),t.color=a.slice(+!n),t.detail=t.color,t.tooltip=a.filter(e=>e!==MeasureId),t.label=[],t.row=[],t.column=[]},dualAxis_generateDimensionEncoding=(e,t,n)=>{t.x=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"xAxis"===e.encoding).map(e=>e.id)),0===t.x.length&&(t.x=[e[0].id]),addColorToEncoding(e,t,n),t.detail=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"detail"===e.encoding).map(e=>e.id)),0===t.detail.length&&(t.detail=t.color),t.tooltip=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id)),t.tooltip=t.tooltip.filter(e=>e!==MeasureId),t.label=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id)),t.label=t.label.filter(e=>e!==MeasureId)},dualAxis_generateDefaultMeasureEncoding=(e,t)=>{t.y=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"primaryYAxis"===e.encoding||"secondaryYAxis"===e.encoding||!e.encoding).map(e=>e.id))},dualAxis_generateMeasureEncoding=(e,t)=>{t.y=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"primaryYAxis"===e.encoding||"secondaryYAxis"===e.encoding||!e.encoding).map(e=>e.id));let n=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"color"===e.encoding).map(e=>e.id));n.length>0&&(t.color=n);let a=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id));t.label=(0,external_remeda_namespaceObject.unique)([...t.label||[],...a]);let i=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"tooltip"===e.encoding).map(e=>e.id));t.tooltip=(0,external_remeda_namespaceObject.unique)([...t.tooltip||[],...a,...i])},buildMeasuresForDualAxis=(e,t)=>{let{vseed:n}=t;if(isMeasureTreeWithChildren(e.measures))return e;if(isMeasureTreeWithParentId(e.measures))return e.measures=buildMeasuresForDualAxis_generateMeasuresByParentId(e.measures),e;let a=n.dualMeasures?(0,external_remeda_namespaceObject.clone)(n.dualMeasures):basicMeasuresToDualMeasures(e.measures||[]);return e.measures=dualMeasuresToMeasureTree(a),e},basicMeasuresToDualMeasures=e=>{let t=[],n=[];for(let a=0;a<e.length;a++){let i=e[a],o=Array.isArray(i.encoding)?i.encoding:[i.encoding],r=o.includes("primaryYAxis"),l=o.includes("secondaryYAxis");r?t.push(i):l?n.push(i):0===a?t.push(i):n.push(i)}return[{id:"dualMeasures",primaryMeasures:t,secondaryMeasures:n}]},dualMeasuresToMeasureTree=e=>{let t=e.map((e,t)=>{let{id:n,primaryMeasures:a,secondaryMeasures:i}=e,o=[],r=`${n}-`;if(a){let e=Array.isArray(a)?a:[a];r+=e.map(e=>e.alias||e.id).toString(),o.push({id:`${t}-primary`,alias:e.map(e=>e.alias||e.id).toString(),children:e})}if(i){let e=Array.isArray(i)?i:[i];r+=e.map(e=>e.alias||e.id).toString(),o.push({id:`${t}-secondary`,alias:e.map(e=>e.alias||e.id).toString(),children:e})}return{id:r,alias:r,children:o}});return 1===e.length?t[0].children||[]:t},buildMeasuresForDualAxis_generateMeasuresByParentId=e=>{let t=[];return e.forEach(e=>{let n=e.parentId||DEFAULT_PARENT_ID;t.find(e=>e.id===n)||t.push({id:n,primaryMeasures:[],secondaryMeasures:[]});let a=t.find(e=>e.id===n);if(!a||!Array.isArray(a.primaryMeasures)||!Array.isArray(a.secondaryMeasures))return;let i=Array.isArray(e.encoding)?e.encoding:[e.encoding].filter(Boolean),o=i.includes("primaryYAxis"),r=i.includes("secondaryYAxis"),l=!e.encoding;o?a.primaryMeasures.push(e):r?a.secondaryMeasures.push(e):l&&(0===a.primaryMeasures.length?a.primaryMeasures.push(e):a.secondaryMeasures.push(e))}),dualMeasuresToMeasureTree(t)},reshapeWithDualEncoding=(e,t)=>{let n={...e},{vseed:a}=t,{dataset:i}=a,{encoding:o,chartType:r}=e,l=e.reshapeMeasures??e.measures??[],s=e.reshapeDimensions??e.dimensions??[];if(l.length>2)throw Error("measures can not be more than 2 groups in dualAxis");let d=[],c=[],u=[],p=l[0],_=l[1]||[];if(p&&p.children){let{dataset:t,foldInfo:n,unfoldInfo:r}=dataReshapeByEncoding(i,(0,external_remeda_namespaceObject.uniqueBy)(s,e=>e.id),(0,external_remeda_namespaceObject.uniqueBy)(p.children,e=>e.id),o,{colorItemAsId:!1,foldMeasureValue:FoldPrimaryMeasureValue,colorMeasureId:getColorMeasureId(e,a)});u.push(t),d.push(n),c.push(r)}if(_&&_.children){let{dataset:t,foldInfo:n,unfoldInfo:r}=dataReshapeByEncoding(i,(0,external_remeda_namespaceObject.uniqueBy)(s,e=>e.id),(0,external_remeda_namespaceObject.uniqueBy)(_.children,e=>e.id),o,{colorItemAsId:!1,foldMeasureValue:FoldSecondaryMeasureValue,colorMeasureId:getColorMeasureId(e,a)});u.push(t),d.push(n),c.push(r)}let m={...c[0],colorItems:c.flatMap(e=>e.colorItems),colorIdMap:c.reduce((e,t)=>({...e,...t.colorIdMap}),{})};return{...n,dataset:u,datasetReshapeInfo:[{id:String(r),index:0,foldInfo:d[0],foldInfoList:d,unfoldInfo:m}]}},pivotReshapeWithDualEncoding=(e,t)=>{let n={...e},{vseed:a}=t,{dataset:i}=a,{encoding:o,chartType:r}=e,l=e.reshapeMeasures??e.measures??[],s=e.reshapeDimensions??e.dimensions??[],d=findAllMeasures(l),c=[],u=[],p=[],_=measureDepth(l);return 3===_?l.forEach(e=>{p.push(e.children)}):2===_&&p.push(l),p.forEach((t,n)=>{if(t.length>2)throw Error("measures can not be more than 2 groups in dualAxis");let l=[],p=[],_=[],m=t[0],g=t[1]||[];if(m&&m.children){let{dataset:t,foldInfo:r,unfoldInfo:c}=dataReshapeByEncoding(i,(0,external_remeda_namespaceObject.uniqueBy)(s,e=>e.id),(0,external_remeda_namespaceObject.uniqueBy)(m.children,e=>e.id),o,{colorItemAsId:!1,foldMeasureValue:`${FoldPrimaryMeasureValue}${n}`,colorMeasureId:getColorMeasureId(e,a),omitIds:d.map(e=>e.id)});_.push(t),l.push(r),p.push(c)}if(g&&g.children){let{dataset:t,foldInfo:r,unfoldInfo:c}=dataReshapeByEncoding(i,(0,external_remeda_namespaceObject.uniqueBy)(s,e=>e.id),(0,external_remeda_namespaceObject.uniqueBy)(g.children,e=>e.id),o,{colorItemAsId:!1,foldMeasureValue:`${FoldSecondaryMeasureValue}${n}`,colorMeasureId:getColorMeasureId(e,a),omitIds:d.map(e=>e.id)});_.push(t),l.push(r),p.push(c)}let b={...p[0],colorItems:p.flatMap(e=>e.colorItems),colorIdMap:p.reduce((e,t)=>({...e,...t.colorIdMap}),{})},z={id:`${r}-${n}`,index:n,foldInfo:l[0],foldInfoList:l,unfoldInfo:b};u.push(z),c.push(_.flat(2))}),{...n,dataset:c,datasetReshapeInfo:u}},dualAxisConfig=(e,t)=>{let{vseed:n}=t,{chartType:a}=n,i={...e},o=replaceNullToUndefined((0,external_remeda_namespaceObject.pick)(n,["backgroundColor","color","label","legend","tooltip","xAxis","dualChartType","alignTicks","primaryYAxis","secondaryYAxis","crosshairLine","crosshairRect","barGapInGroup","barMaxWidth","stackCornerRadius","dimensionLinkage"]));return i.config={...i.config||{},[a]:{...o}},i},dualAxisAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForDualAxis,buildMeasuresForDualAxis],[encodingForDualAxis,buildMeasuresForDualAxis,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithDualEncoding],[pivotReshapeWithDualEncoding]),sortXBandAxis,sortLegend_sortLegend,dualAxisConfig,theme_theme,markStyle_markStyle,annotation_annotation],series_series=(...e)=>{let t={type:"common",padding:0,region:[{clip:!0}]};return(n,a)=>(t.series=e.map(e=>execPipeline(e,a,{})),t)},seriesDualAxis=(...e)=>{let t={type:"common",padding:0,labelLayout:"region",region:[{clip:!0}]};return(n,a)=>(t.series=e.map((e,t)=>execPipeline(e,((e,t)=>{let{advancedVSeed:n}=e,a=n.dataset[t];return{...e,advancedVSeed:{...n,dataset:a}}})(a,t),{})),t)},initDualAxisPrimary=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i}=a,{unfoldInfo:o,foldInfoList:r,id:l}=i[0];return n.id=`${l}-primary-series`,n.type="bar",n.direction="vertical",n.xField=o.encodingX,n.seriesField=o.encodingColorId,n.yField=r?.[0].measureValue,n.animation=!0,n},initDualAxisSecondary=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{datasetReshapeInfo:o}=a,{unfoldInfo:r,foldInfoList:l,id:s}=o[0];return n.id=`${s}-secondary-series`,n.type="line",n.direction="vertical",n.xField=r.encodingX,l?.[1]&&(n.yField=l[1].measureValue),n.seriesField=isLinearColor(a,i)?r.encodingDetail:r.encodingColorId,n.animation=!0,n},dualChartTypePrimary=(e,t)=>{let n={...e,zIndex:1001},{advancedVSeed:a,vseed:i}=t,{chartType:o}=i,{datasetReshapeInfo:r}=a,l=r[0].index,s=a.config?.[o]?.dualChartType||{primary:"column",secondary:"line"},d=Array.isArray(s)?s[l].primary||s[0].primary:s.primary,c=Array.isArray(s)?s[l].secondary||s[0].secondary:s.secondary;switch("column"===d&&"column"===c?"columnParallel":d){case"line":n.type="line";break;case"column":n.type="bar",n.zIndex=1e3;break;case"columnParallel":Array.isArray(n.xField)?n.xField.push(r[0].unfoldInfo.encodingDetail):n.xField&&(n.xField=[n.xField,r[0].unfoldInfo.encodingDetail]),n.type="bar",n.zIndex=1e3;break;case"columnPercent":n.type="bar",n.percent=!0,n.zIndex=1e3;break;case"area":n.type="area";break;case"areaPercent":n.type="area",n.percent=!0;break;case"scatter":n.type="scatter";break;default:n.type=d}return n},dualChartTypeSecondary=(e,t)=>{let n={...e,zIndex:1001},{advancedVSeed:a,vseed:i}=t,{chartType:o}=i,{datasetReshapeInfo:r}=a,l=a.config?.[o]?.dualChartType||{primary:"column",secondary:"line"},s=r[0].index,d=Array.isArray(l)?l[s].primary||l[0].primary:l.primary,c=Array.isArray(l)?l[s].secondary||l[0].secondary:l.secondary;switch("column"===d&&"column"===c?"columnParallel":c){case"line":n.type="line";break;case"column":n.type="bar",n.zIndex=1e3;break;case"columnParallel":Array.isArray(n.xField)?n.xField.push(r[0].unfoldInfo.encodingDetail):n.xField&&(n.xField=[n.xField,r[0].unfoldInfo.encodingDetail]),n.type="bar",n.zIndex=1e3;break;case"columnPercent":n.type="bar",n.percent=!0,n.zIndex=1e3;break;case"area":n.type="area";break;case"areaPercent":n.type="area",n.percent=!0;break;case"scatter":n.type="scatter";break;default:n.type=c}return n},datasetPrimary=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{analysis:i,datasetReshapeInfo:o}=n,r=i?.orderMapping||{},{unfoldInfo:l}=o[0],s=l.encodingX,d=l.encodingColorId,c=o[0].id,u={};if(s){let e=r[s];e?u[s]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:u[s]={sortIndex:0}}if(d){let e=r[d];e?u[d]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:u[d]={sortIndex:0}}return{...e,data:{id:`${c}-primary-dataset`,values:isPivotChart(a)?void 0:n.dataset,fields:u}}},datasetSecondary=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{analysis:i,datasetReshapeInfo:o}=n,r=i?.orderMapping||{},{unfoldInfo:l}=o[0],s=l.encodingX,d=l.encodingColorId,c=o[0].id,u={};if(s){let e=r[s];e?u[s]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:u[s]={sortIndex:0}}if(d){let e=r[d];e?u[d]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:u[d]={sortIndex:0}}return{...e,data:{id:`${c}-secondary-dataset`,values:isPivotChart(a)?void 0:n.dataset,fields:u}}},labelPrimary=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{datasetReshapeInfo:o,encoding:r}=a,{chartType:l}=a,s=a.config[l],d=o[0].foldInfoList;return n.label=buildLabel(s.label,i.measures,i.dimensions,a.dimensions,a.measures,r,[d[0]]),n.label.zIndex=1002,n},labelSecondary=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{datasetReshapeInfo:o,encoding:r}=a,{chartType:l}=a,s=a.config[l],d=o[0].foldInfoList;return n.label=buildLabel(s.label,i.measures,i.dimensions,a.dimensions,a.measures,r,[d[1]]),n.label.zIndex=1002,n},tooltipPrimary=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{measures:o,datasetReshapeInfo:r,chartType:l,dimensions:s,encoding:d}=a,{tooltip:c={enable:!0}}=a.config[l],{enable:u}=c,p=r[0].foldInfoList,_=r[0].unfoldInfo;return n.tooltip={visible:u,mark:{title:{visible:!1},content:createMarkContent(d.tooltip||[],s,findAllMeasures(i.measures),p[0],_)},dimension:{title:{visible:!0},content:createDimensionContent(s,o,p[0],_)}},n},tooltipSecondary=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{measures:o,datasetReshapeInfo:r,chartType:l,dimensions:s,encoding:d}=a,{tooltip:c={enable:!0}}=a.config[l],{enable:u}=c;if((0,external_remeda_namespaceObject.isNullish)(r[0].foldInfoList?.[1]))return n;let p=r[0].foldInfoList,_=r[0].unfoldInfo;return n.tooltip={visible:u,mark:{title:{visible:!1},content:createMarkContent(d.tooltip||[],s,findAllMeasures(i.measures),p[1],_)},dimension:{title:{visible:!0},content:createDimensionContent(s,o,p[1],_)}},n},tooltipDualAxis=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{chartType:i}=a,{tooltip:o={enable:!0}}=a.config[i];return n.tooltip={style:getTooltipStyle(o)},n},barStyleFilter=e=>(t,n)=>"bar"===t.type?e(t,n):t,pointStyleFilter=e=>(t,n)=>"line"===t.type||"area"===t.type?e(t,n):t,lineStyleFilter=e=>(t,n)=>"line"===t.type?e(t,n):t,areaStyleFilter=e=>(t,n)=>"area"===t.type?e(t,n):t,yLinearPrimary=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{chartType:o}=i,{datasetReshapeInfo:r,encoding:l,measures:s,dimensions:d}=a,{index:c,id:u,foldInfoList:p}=r[0],_=a.config?.[o]?.primaryYAxis,m=Array.isArray(_)?_[c]||_[0]:_,g=a.config?.[o]?.alignTicks,b=Array.isArray(g)?g[c]||g[0]:g;if((0,external_remeda_namespaceObject.isNullish)(p?.[0]))return n;let z=(0,external_remeda_namespaceObject.isEmpty)(p?.[0].foldMap),h=`${u}-primary-axis`,x=[`${u}-primary-series`,`${u}-secondary-series`],f=b?x:x[0];n.axes||(n.axes=[]);let{visible:y=!0,label:C,tick:A,title:v,grid:L,line:S,zero:P,nice:k,inverse:O,max:M,min:j,log:B,logBase:D=10,autoFormat:I,numFormat:R={}}=m??{},F=createNumFormatter(R),T={visible:!z&&y,id:h,seriesId:f,type:B?"log":"linear",base:D,orient:"left",nice:k,zero:!B&&P,inverse:O,max:M,min:j,label:{space:8,visible:C?.visible,formatMethod:e=>createLinearFormat(e,I,R,F),style:{fill:C?.labelColor,angle:C?.labelAngle,fontSize:C?.labelFontSize,fontWeight:C?.labelFontWeight}},title:{visible:v?.visible,text:v?.titleText||defaultTitleText(s,d,l.y),style:{fill:v?.titleColor,fontSize:v?.titleFontSize,fontWeight:v?.titleFontWeight}},tick:{visible:A?.visible,tickSize:A?.tickSize,inside:A?.tickInside,style:{stroke:A?.tickColor}},grid:{visible:L?.visible,style:{lineWidth:L?.gridWidth,stroke:L?.gridColor,lineDash:L?.gridLineDash}},domainLine:{visible:S?.visible,style:{lineWidth:S?.lineWidth,stroke:S?.lineColor}},innerOffset:{top:12}};return n.axes=[...n.axes,T],n},yLinearSecondary=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{chartType:o}=i,{datasetReshapeInfo:r,measures:l,dimensions:s,encoding:d}=a,{index:c,id:u,foldInfoList:p}=r[0],_=a.config?.[o]?.secondaryYAxis,m=Array.isArray(_)?_[c]||_[0]:_,g=a.config?.[o]?.alignTicks,b=Array.isArray(g)?g[c]||g[0]:g;if((0,external_remeda_namespaceObject.isNullish)(p?.[1]))return n;let z=(0,external_remeda_namespaceObject.isEmpty)(p?.[1].foldMap),h=(0,external_remeda_namespaceObject.isEmpty)(p?.[0].foldMap)&&!z,x={axisId:`${u}-primary-axis`,zeroAlign:!0},f=`${u}-secondary-axis`,y=[`${u}-primary-series`,`${u}-secondary-series`],C=b?y:y[1];n.axes||(n.axes=[]);let{visible:A=!0,label:v,tick:L,title:S,grid:P,line:k,zero:O,nice:M,inverse:j,max:B,min:D,log:I,logBase:R=10,numFormat:F={},autoFormat:T}=m??{},E=createNumFormatter(F),w={visible:!z&&A,id:f,seriesId:C,sync:x,type:I?"log":"linear",base:R,orient:"right",nice:M,zero:!I&&O,inverse:j,max:B,min:D,label:{space:8,visible:v?.visible,formatMethod:e=>createLinearFormat(e,T,F,E),style:{fill:v?.labelColor,angle:v?.labelAngle,fontSize:v?.labelFontSize,fontWeight:v?.labelFontWeight}},title:{visible:S?.visible,text:S?.titleText||defaultTitleText(l,s,d.y),style:{fill:S?.titleColor,fontSize:S?.titleFontSize,fontWeight:S?.titleFontWeight}},tick:{visible:L?.visible,tickSize:L?.tickSize,inside:L?.tickInside,style:{stroke:L?.tickColor}},grid:{visible:!!h||P?.visible,style:{lineWidth:P?.gridWidth,stroke:P?.gridColor,lineDash:P?.gridLineDash}},domainLine:{visible:k?.visible,style:{lineWidth:k?.lineWidth,stroke:k?.lineColor}},innerOffset:{top:12}};return n.axes=[...n.axes,w],n},linearColorForDualAxis=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i,chartType:o}=a,{unfoldInfo:r,id:l}=i[0],s=a.config[o];if(!s||!s.color)return n;let{color:d}=s,{colorScheme:c,linearColorScheme:u}=d;return n.color={type:"linear",range:u||c||[],domain:[{dataId:`${l}-primary-dataset`,fields:[r.encodingColor]},{dataId:`${l}-secondary-dataset`,fields:[r.encodingColor]}]},n},annotationPointOfDualAxis=generateAnnotationPointPipe({findSelectedDatas:(e,t,n,a)=>e.reduce((e,n)=>{let{advancedVSeed:i}=a,o=findAllMeasures(i.reshapeMeasures??i.measures).map(e=>e.id),r=(0,vutils_namespaceObject.pickWithout)(n,o.filter(e=>e!==n[MeasureId]));return selector_selector(r,t)&&e.push(r),e},[]),generateMarkPoint:(e,t,n)=>{let{advancedVSeed:a}=n,i=findAllMeasures(a.reshapeMeasures??a.measures).map(e=>e.id);return t.series?.map((t,n)=>({relativeSeriesIndex:n,coordinate:t=>t.find(t=>isSubset(e,t,i.filter(e=>e!==t[MeasureId])))}))}}),dualAxis=[seriesDualAxis([initDualAxisPrimary,dualChartTypePrimary,datasetPrimary,labelPrimary,tooltipPrimary,progressive,barMaxWidth_barMaxWidth,barGapInGroup_barGapInGroup,stackCornerRadius_stackCornerRadius,barStyleFilter(colorBarStyleFill(barStyle_barStyle)),pointStyleFilter(colorPointStyleFill(pointStyle_pointStyle)),pointStyleFilter(pointStateDimensionHover),lineStyleFilter(colorLineStyleFill(lineStyle_lineStyle)),areaStyleFilter(colorAreaStyleFill(areaStyle_areaStyle))],[initDualAxisSecondary,dualChartTypeSecondary,datasetSecondary,labelSecondary,tooltipSecondary,progressive,barMaxWidth_barMaxWidth,barGapInGroup_barGapInGroup,stackCornerRadius_stackCornerRadius,barStyleFilter(colorBarStyleFill(barStyle_barStyle)),pointStyleFilter(colorPointStyleFill(pointStyle_pointStyle)),pointStyleFilter(pointStateDimensionHover),lineStyleFilter(colorLineStyleFill(lineStyle_lineStyle)),areaStyleFilter(colorAreaStyleFill(areaStyle_areaStyle))]),xBand,yLinearPrimary,yLinearSecondary,colorAdapter(color_color,linearColorForDualAxis),colorAdapter(discreteLegend,colorLegend),background_backgroundColor,verticalCrosshairRect,annotationPointOfDualAxis,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand,tooltipDualAxis],pivotDualAxis=[initPivot,pivotGridStyle,pivotIndicatorsAsRow,datasetPivot,pivotIndicators_pivotIndicators([series_series([initDualAxisPrimary,dualChartTypePrimary,datasetPrimary,labelPrimary,tooltipPrimary,progressive,stackCornerRadius_stackCornerRadius,barMaxWidth_barMaxWidth,barGapInGroup_barGapInGroup,colorBarStyleFill(barStyle_barStyle),colorPointStyleFill(pointStyle_pointStyle),pointStateDimensionHover,colorLineStyleFill(lineStyle_lineStyle),colorAreaStyleFill(areaStyle_areaStyle)],[initDualAxisSecondary,dualChartTypeSecondary,datasetSecondary,labelSecondary,tooltipSecondary,progressive,stackCornerRadius_stackCornerRadius,barMaxWidth_barMaxWidth,barGapInGroup_barGapInGroup,colorBarStyleFill(barStyle_barStyle),colorPointStyleFill(pointStyle_pointStyle),pointStateDimensionHover,colorLineStyleFill(lineStyle_lineStyle),colorAreaStyleFill(areaStyle_areaStyle)]),xBand,yLinearPrimary,pivotAxisStyle(yLinearSecondary),colorAdapter(color_color,linearColor),background_backgroundColor,verticalCrosshairRect,annotationPointOfDualAxis,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand,tooltipDualAxis]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend),dimensionLinkage],dualAxisSpecPipeline=[pivotAdapter_pivotAdapter(dualAxis,pivotDualAxis)],registerDualAxis=()=>{Builder._advancedPipelineMap.dualAxis=dualAxisAdvancedPipeline,Builder._specPipelineMap.dualAxis=dualAxisSpecPipeline},defaultEncodingForPie=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i={};return pie_generateDefaultDimensionEncoding(n,i,hasMultipleMeasureInSingleView(t)),pie_generateDefaultMeasureEncoding(a,i),{...e,encoding:i}},encodingForPie=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i=n.some(e=>e.encoding),o=a.some(e=>e.encoding),r={},l=hasMultipleMeasureInSingleView(t);return i?pie_generateDimensionEncoding(n,r,l):pie_generateDefaultDimensionEncoding(n,r,l),o?pie_generateMeasureEncoding(a,r):pie_generateDefaultMeasureEncoding(a,r),{...e,encoding:r}},pie_generateDefaultDimensionEncoding=(e,t,n)=>{let a=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id));n?t.color=a.slice(0):t.color=a.filter(e=>e!==MeasureId),t.detail=t.color,t.tooltip=a.filter(e=>e!==MeasureId),t.label=[],t.row=[],t.column=[]},pie_generateDimensionEncoding=(e,t,n)=>{addColorToEncoding(e,t,n),t.detail=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"detail"===e.encoding).map(e=>e.id)),0===t.detail.length&&(t.detail=[MeasureId]),t.tooltip=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id)),t.tooltip=t.tooltip.filter(e=>e!==MeasureId),t.label=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id)),t.label=t.label.filter(e=>e!==MeasureId)},pie_generateDefaultMeasureEncoding=(e,t)=>{t.angle=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"angle"===e.encoding||!e.encoding).map(e=>e.id))},pie_generateMeasureEncoding=(e,t)=>{t.angle=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"angle"===e.encoding||!e.encoding).map(e=>e.id));let n=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"color"===e.encoding).map(e=>e.id));n.length>0&&(t.color=n);let a=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id));t.label=(0,external_remeda_namespaceObject.unique)([...t.label||[],...a]);let i=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"tooltip"===e.encoding).map(e=>e.id));t.tooltip=(0,external_remeda_namespaceObject.unique)([...t.tooltip||[],...a,...i])},pieAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([buildMeasures,defaultEncodingForPie],[buildMeasures,encodingForPie,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),pieConfig,theme_theme,annotation_annotation],initPie=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i}=a,{unfoldInfo:o,foldInfo:r}=i[0];return n.type="pie",n.outerRadius=.8,n.innerRadius=0,n.valueField=r.measureValue,n.categoryField=o.encodingColorId,n.padding=0,n.region=[{clip:!0}],n.animation=!0,n},colorPieStyleFill=e=>(t,n)=>{let a=e(t,n),{advancedVSeed:i,vseed:o}=n,{datasetReshapeInfo:r}=i,{unfoldInfo:l}=r[0];return isLinearColor(i,o)&&a?.pie?.style&&(a.pie.style.fill={field:l.encodingColor,scale:"color"}),a},pieStyle=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{chartType:i}=a,{dataset:o}=n,r=o.length<=30,l=n.config?.[i],s={...e,pie:{style:{stroke:l?.backgroundColor??"#ffffff",lineWidth:+!!r}}};return e.outerRadius&&(s.pie.state={hover:{outerRadius:1.1*e.outerRadius}}),l?.cornerRadius&&(s.pie.style.cornerRadius=l.cornerRadius),s},labelPie=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{datasetReshapeInfo:o}=a,{chartType:r,encoding:l}=a,s=a.config[r],d=o[0].foldInfo,{label:c}=s;return n.label=buildLabel(c,i.measures,i.dimensions,a.dimensions,a.measures,l,[d]),c.labelLayout&&(n.label.layout={align:c.labelLayout}),n},pivotHideIndicatorName=(e,t)=>{let{advancedVSeed:n}=t,{datasetReshapeInfo:a}=n;return{...e,hideIndicatorName:a.length<=1}},addRegionPadding=e=>{let t={...e};return t.region&&t.region.length>0&&(t.region[0].padding=10),t},pie=[initPie,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,colorPieStyleFill(pieStyle),colorAdapter(discreteLegend,colorLegend),labelPie,tooltip_tooltip,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea],pivotPie=[initPivot,pivotGridStyle,pivotIndicatorsAsRow,pivotHideIndicatorName,datasetPivot,pivotIndicators_pivotIndicators([initPie,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,colorPieStyleFill(pieStyle),labelPie,tooltip_tooltip,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea,addRegionPadding]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend)],pieSpecPipeline=[pivotAdapter_pivotAdapter(pie,pivotPie)],registerPie=()=>{Builder._advancedPipelineMap.pie=pieAdvancedPipeline,Builder._specPipelineMap.pie=pieSpecPipeline},donutAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([buildMeasures,defaultEncodingForPie],[buildMeasures,encodingForPie,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),pieConfig,theme_theme,annotation_annotation],initDonut=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i}=a,{foldInfo:o,unfoldInfo:r}=i[0];return n.type="pie",n.outerRadius=.8,n.innerRadius=.8*n.outerRadius,n.valueField=o.measureValue,n.categoryField=r.encodingColorId,n.padding=0,n.region=[{clip:!0}],n.animation=!0,n},donut=[initDonut,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,labelPie,colorPieStyleFill(pieStyle),colorAdapter(discreteLegend,colorLegend),tooltip_tooltip,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea],pivotDonut=[initPivot,pivotGridStyle,pivotIndicatorsAsRow,pivotHideIndicatorName,datasetPivot,pivotIndicators_pivotIndicators([initDonut,addRegionPadding,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,labelPie,colorPieStyleFill(pieStyle),tooltip_tooltip,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend)],donutSpecPipeline=[pivotAdapter_pivotAdapter(donut,pivotDonut)],registerDonut=()=>{Builder._advancedPipelineMap.donut=donutAdvancedPipeline,Builder._specPipelineMap.donut=donutSpecPipeline},defaultEncodingForRose=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i={};return rose_generateDefaultDimensionEncoding(n,i),rose_generateDefaultMeasureEncoding(a,i),{...e,encoding:i}},encodingForRose=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i=n.some(e=>e.encoding),o=a.some(e=>e.encoding),r={};return i?rose_generateDimensionEncoding(n,r,a.length>1):rose_generateDefaultDimensionEncoding(n,r),o?rose_generateMeasureEncoding(a,r):rose_generateDefaultMeasureEncoding(a,r),{...e,encoding:r}},rose_generateDefaultDimensionEncoding=(e,t)=>{let n=1===e.length&&e.find(e=>e.id===MeasureId),a=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id));t.angle=a.slice(0,1),t.color=a.slice(+!n),t.detail=t.color,t.tooltip=a.filter(e=>e!==MeasureId),t.label=[],t.row=[],t.column=[]},rose_generateDimensionEncoding=(e,t,n)=>{t.angle=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"angle"===e.encoding).map(e=>e.id)),0===t.angle.length&&(t.angle=[e[0].id]),addColorToEncoding(e,t,n),t.detail=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"detail"===e.encoding).map(e=>e.id)),0===t.detail.length&&(t.detail=t.color),t.tooltip=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id)),t.tooltip=t.tooltip.filter(e=>e!==MeasureId),t.label=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id)),t.label=t.label.filter(e=>e!==MeasureId)},rose_generateDefaultMeasureEncoding=(e,t)=>{t.radius=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"radius"===e.encoding||!e.encoding).map(e=>e.id))},rose_generateMeasureEncoding=(e,t)=>{t.radius=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"radius"===e.encoding||!e.encoding).map(e=>e.id));let n=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"color"===e.encoding).map(e=>e.id));n.length>0&&(t.color=n);let a=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id));t.label=(0,external_remeda_namespaceObject.unique)([...t.label||[],...a]);let i=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"tooltip"===e.encoding).map(e=>e.id));t.tooltip=(0,external_remeda_namespaceObject.unique)([...t.tooltip||[],...a,...i])},roseAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForRose,buildMeasures],[encodingForRose,buildMeasures,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),pieConfig,theme_theme,markStyle_markStyle,annotation_annotation],initRose=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{dataset:i,datasetReshapeInfo:o}=a,{foldInfo:r,unfoldInfo:l}=o[0];return n.type="rose",n.angleField=l.encodingAngle,n.seriesField=l.encodingColorId,n.valueField=r.measureValue,n.padding=0,n.outerRadius=.9,n.innerRadius=0,i.flat().find(e=>e[r.measureValue]<0)&&(n.innerRadius=.05),n.region=[{clip:!0}],n.animation=!0,n},radiusAxis=e=>{let t={...e};return t.axes||(t.axes=[]),t.axes.push({type:"linear",orient:"radius",visible:!1,zero:!0,nice:!1}),t},colorRoseStyleFill=e=>(t,n)=>{let a=e(t,n),{advancedVSeed:i,vseed:o}=n,{datasetReshapeInfo:r}=i,{unfoldInfo:l}=r[0];return isLinearColor(i,o)&&a?.rose?.style&&(a.rose.style.fill={field:l.encodingColor,scale:"color"}),a},roseStyle=(e,t)=>{let{advancedVSeed:n}=t,{dataset:a}=n,i=a.length<=30;return{...e,rose:{style:{}},rose:{style:{stroke:"#ffffff",lineWidth:+!!i},state:{hover:{lineWidth:1,fillOpacity:.6}}}}},rose=[initRose,stackCornerRadius_stackCornerRadius,stackInverse,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,radiusAxis,verticalCrosshairRect,colorRoseStyleFill(roseStyle),colorAdapter(discreteLegend,colorLegend),labelPie,tooltip_tooltip],pivotRose=[initPivot,pivotGridStyle,pivotIndicatorsAsRow,pivotHideIndicatorName,datasetPivot,pivotIndicators_pivotIndicators([initRose,addRegionPadding,stackCornerRadius_stackCornerRadius,stackInverse,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,radiusAxis,verticalCrosshairRect,colorRoseStyleFill(roseStyle),labelPie,tooltip_tooltip]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend)],roseSpecPipeline=[pivotAdapter_pivotAdapter(rose,pivotRose)],registerRose=()=>{Builder._advancedPipelineMap.rose=roseAdvancedPipeline,Builder._specPipelineMap.rose=roseSpecPipeline},roseParallelAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForRose,buildMeasures],[encodingForRose,buildMeasures,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),pieConfig,theme_theme,markStyle_markStyle,annotation_annotation],initRoseParallel=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i,dataset:o,encoding:r}=a,{unfoldInfo:l,foldInfo:s}=i[0],d=(0,external_remeda_namespaceObject.isDeepEqual)(r.angle,r.color);return n.type="rose",n.angleField=[l.encodingAngle],d||(n.angleField.push(l.encodingDetail),r.detail?.[0]===MeasureId&&r.radius?.length===1&&n.angleField.pop()),n.valueField=s.measureValue,n.seriesField=l.encodingColorId,n.padding=0,n.outerRadius=.9,n.innerRadius=0,o.flat().find(e=>e[s.measureValue]<0)&&(n.innerRadius=.05),n.rose={style:{stroke:"#ffffff",lineWidth:1},state:{hover:{lineWidth:1,fillOpacity:.6}}},n.region=[{clip:!0}],n.animation=!0,n},roseParallel=[initRoseParallel,stackCornerRadius_stackCornerRadius,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,radiusAxis,colorRoseStyleFill(roseStyle),colorAdapter(discreteLegend,colorLegend),labelPie,tooltip_tooltip,verticalCrosshairRect,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand],pivotRoseParallel=[initPivot,pivotGridStyle,pivotIndicatorsAsRow,pivotHideIndicatorName,datasetPivot,pivotIndicators_pivotIndicators([initRoseParallel,addRegionPadding,stackCornerRadius_stackCornerRadius,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,radiusAxis,verticalCrosshairRect,colorRoseStyleFill(roseStyle),labelPie,tooltip_tooltip,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend)],roseParallelSpecPipeline=[pivotAdapter_pivotAdapter(roseParallel,pivotRoseParallel)],registerRoseParallel=()=>{Builder._advancedPipelineMap.roseParallel=roseParallelAdvancedPipeline,Builder._specPipelineMap.roseParallel=roseParallelSpecPipeline},defaultEncodingForRadar=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i={};return radar_generateDefaultDimensionEncoding(n,i),radar_generateDefaultMeasureEncoding(a,i),{...e,encoding:i}},encodingForRadar=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i=n.some(e=>e.encoding),o=a.some(e=>e.encoding),r={};return i?radar_generateDimensionEncoding(n,r,a.length>1):radar_generateDefaultDimensionEncoding(n,r),o?radar_generateMeasureEncoding(a,r):radar_generateDefaultMeasureEncoding(a,r),{...e,encoding:r}},radar_generateDefaultDimensionEncoding=(e,t)=>{let n=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id));t.angle=n.slice(0,1),t.color=n.slice(1),t.tooltip=n.filter(e=>e!==MeasureId),t.detail=[],t.label=[],t.row=[],t.column=[]},radar_generateDimensionEncoding=(e,t,n)=>{t.angle=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"angle"===e.encoding).map(e=>e.id)),0===t.angle.length&&(t.angle=[e[0].id]),addColorToEncoding(e,t,n),t.detail=[],0===t.detail.length&&(t.detail=[MeasureId]),t.tooltip=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id)),t.tooltip=t.tooltip.filter(e=>e!==MeasureId),t.label=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id)),t.label=t.label.filter(e=>e!==MeasureId)},radar_generateDefaultMeasureEncoding=(e,t)=>{t.radius=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"radius"===e.encoding||!e.encoding).map(e=>e.id))},radar_generateMeasureEncoding=(e,t)=>{t.radius=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"radius"===e.encoding||!e.encoding).map(e=>e.id));let n=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"color"===e.encoding).map(e=>e.id));n.length>0&&(t.color=n);let a=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id));t.label=(0,external_remeda_namespaceObject.unique)([...t.label||[],...a]);let i=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"tooltip"===e.encoding).map(e=>e.id));t.tooltip=(0,external_remeda_namespaceObject.unique)([...t.tooltip||[],...a,...i])},radarAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForRadar,buildMeasures],[encodingForRadar,buildMeasures,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),sortLegend_sortLegend,pieConfig,theme_theme,markStyle_markStyle,annotation_annotation],initRadar=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{datasetReshapeInfo:o}=a,{unfoldInfo:r,foldInfo:l}=o[0];return n.type="radar",n.angleField=r.encodingAngle,n.radiusField=l.measureValue,n.seriesField=isLinearColor(a,i)?r.encodingDetail:r.encodingColorId,n.padding=0,n.region=[{clip:!0}],n.animation=!0,n},radarAngleAxis=e=>{let t={...e};return t.axes||(t.axes=[]),t.axes.push({orient:"angle",visible:!0,zero:!0,nice:!0,grid:{visible:!0},domainLine:{visible:!0},tick:{visible:!0}}),t},radarRadiusAxis=e=>{let t={...e};return t.axes||(t.axes=[]),t.axes.push({orient:"radius",visible:!0,zero:!0,nice:!0,grid:{visible:!0},tick:{visible:!0},label:{visible:!0},domainLine:{visible:!0}}),t},radar=[initRadar,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,radarAngleAxis,radarRadiusAxis,label_label,tooltip_tooltip,colorAdapter(discreteLegend,colorLegend),verticalCrosshairLine,colorPointStyleFill(pointStyle_pointStyle),pointStateDimensionHover,colorLineStyleFill(lineStyle_lineStyle),colorAreaStyleFill(areaStyle_areaStyle)],pivotRadar=[initPivot,pivotGridStyle,pivotIndicatorsAsRow,pivotHideIndicatorName,datasetPivot,pivotIndicators_pivotIndicators([initRadar,addRegionPadding,colorAdapter(color_color,linearColor),background_backgroundColor,datasetXY,progressive,radarAngleAxis,radarRadiusAxis,label_label,tooltip_tooltip,verticalCrosshairLine,colorPointStyleFill(pointStyle_pointStyle),pointStateDimensionHover,colorLineStyleFill(lineStyle_lineStyle),colorAreaStyleFill(areaStyle_areaStyle)]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend)],radarSpecPipeline=[pivotAdapter_pivotAdapter(radar,pivotRadar)],registerRadar=()=>{Builder._advancedPipelineMap.radar=radarAdvancedPipeline,Builder._specPipelineMap.radar=radarSpecPipeline},defaultEncodingForFunnel=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i={};return funnel_generateDefaultDimensionEncoding(n,i),funnel_generateDefaultMeasureEncoding(a,i),{...e,encoding:i}},encodingForFunnel=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i=n.some(e=>e.encoding),o=a.some(e=>e.encoding),r={};return i?funnel_generateDimensionEncoding(n,r,a.length>1):funnel_generateDefaultDimensionEncoding(n,r),o?funnel_generateMeasureEncoding(a,r):funnel_generateDefaultMeasureEncoding(a,r),{...e,encoding:r}},funnel_generateDefaultDimensionEncoding=(e,t)=>{let n=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id));t.color=n.slice(0),t.detail=t.color,t.tooltip=n.filter(e=>e!==MeasureId),t.label=[],t.row=[],t.column=[]},funnel_generateDimensionEncoding=(e,t,n)=>{addColorToEncoding(e,t,n),t.detail=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"detail"===e.encoding).map(e=>e.id)),0===t.detail.length&&(t.detail=[MeasureId]),t.tooltip=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id)),t.tooltip=t.tooltip.filter(e=>e!==MeasureId),t.label=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id)),t.label=t.label.filter(e=>e!==MeasureId)},funnel_generateDefaultMeasureEncoding=(e,t)=>{t.size=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"size"===e.encoding||!e.encoding).map(e=>e.id))},funnel_generateMeasureEncoding=(e,t)=>{t.size=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"size"===e.encoding||!e.encoding).map(e=>e.id));let n=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"color"===e.encoding).map(e=>e.id));n.length>0&&(t.color=[n[0]]);let a=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id));t.label=(0,external_remeda_namespaceObject.unique)([...t.label||[],...a]);let i=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"tooltip"===e.encoding).map(e=>e.id));t.tooltip=(0,external_remeda_namespaceObject.unique)([...t.tooltip||[],...a,...i])},funnelAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForFunnel,buildMeasures],[encodingForFunnel,buildMeasures,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),pieConfig,theme_theme,annotation_annotation],initFunnel=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i}=a,{foldInfo:o,unfoldInfo:r}=i[0];return n.type="funnel",n.valueField=o.measureValue,n.categoryField=r.encodingColorId,n.padding=0,n.isTransform=!0,n.shape="rect",n.maxSize="75%",n.minSize="10%",n.region=[{clip:!0}],n.animation=!0,n},colorFunnelStyleFill=e=>(t,n)=>{let a=e(t,n),{advancedVSeed:i,vseed:o}=n,{datasetReshapeInfo:r}=i,{unfoldInfo:l}=r[0];return isLinearColor(i,o)&&a?.funnel?.style&&(a.funnel.style.fill={field:l.encodingColor,scale:"color"}),a},funnelStyle=e=>({...e,funnel:{style:{}},funnel:{style:{cornerRadius:0},state:{hover:{fillOpacity:.6}}}}),funnelTransformStyle=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{chartType:i}=a,o=n.config?.[i]?.transform;return{...e,transform:{style:{fill:o?.backgroundColor}},transformLabel:{visible:!0,style:{fill:o?.textColor}}}},funnel=[initFunnel,background_backgroundColor,datasetXY,colorAdapter(color_color,linearColor),label_label,colorAdapter(discreteLegend,colorLegend),colorFunnelStyleFill(funnelStyle),funnelTransformStyle,tooltip_tooltip,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea],pivotFunnel=[initPivot,pivotGridStyle,pivotIndicatorsAsRow,pivotHideIndicatorName,datasetPivot,pivotIndicators_pivotIndicators([initFunnel,background_backgroundColor,datasetXY,colorAdapter(color_color,linearColor),label_label,tooltip_tooltip,colorFunnelStyleFill(funnelStyle),funnelTransformStyle,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend)],funnelSpecPipeline=[pivotAdapter_pivotAdapter(funnel,pivotFunnel)],registerFunnel=()=>{Builder._advancedPipelineMap.funnel=funnelAdvancedPipeline,Builder._specPipelineMap.funnel=funnelSpecPipeline},defaultEncodingForHeatmap=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i={};return heatmap_generateDefaultDimensionEncoding(n,i),heatmap_generateDefaultMeasureEncoding(a,i),{...e,encoding:i}},encodingForHeatmap=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i=n.some(e=>e.encoding),o=a.some(e=>e.encoding),r={};return i?heatmap_generateDimensionEncoding(n,r,a.length>1):heatmap_generateDefaultDimensionEncoding(n,r),o?heatmap_generateMeasureEncoding(a,r):heatmap_generateDefaultMeasureEncoding(a,r),{...e,encoding:r}},heatmap_generateDefaultDimensionEncoding=(e,t)=>{let n=1===e.length&&e.find(e=>e.id===MeasureId),a=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id));t.x=a.slice(0,1),t.y=a.slice(+!n),t.color=a.slice(+!n),t.detail=t.color,t.tooltip=a.filter(e=>e!==MeasureId),t.label=[],t.row=[],t.column=[]},heatmap_generateDimensionEncoding=(e,t,n)=>{t.x=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"xAxis"===e.encoding).map(e=>e.id)),0===t.x.length&&(t.x=[e[0].id]),t.y=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"yAxis"===e.encoding).map(e=>e.id)),0===t.y.length&&(e.length>1?t.y=e.slice(1).map(e=>e.id):t.y=e.slice(0).map(e=>e.id)),addColorToEncoding(e,t,n),t.detail=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"detail"===e.encoding).map(e=>e.id)),0===t.detail.length&&(t.detail=t.color),t.tooltip=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id)),t.tooltip=t.tooltip.filter(e=>e!==MeasureId),t.label=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id)),t.label=t.label.filter(e=>e!==MeasureId)},heatmap_generateDefaultMeasureEncoding=(e,t)=>{let n=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"color"===e.encoding||!e.encoding).map(e=>e.id));n.length>0&&(t.color=[n[0]])},heatmap_generateMeasureEncoding=(e,t)=>{let n=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"color"===e.encoding).map(e=>e.id));n.length>0&&(t.color=[n[0]]);let a=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id));t.label=(0,external_remeda_namespaceObject.unique)([...t.label||[],...a]);let i=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"tooltip"===e.encoding).map(e=>e.id));t.tooltip=(0,external_remeda_namespaceObject.unique)([...t.tooltip||[],...a,...i])},heatmapAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,encodingAdapter([defaultEncodingForHeatmap,buildMeasures],[encodingForHeatmap,buildMeasures,pickMeasuresForReshape(["tooltip","label"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithEncoding],[pivotReshapeWithEncoding]),sortXBandAxis,pieConfig,theme_theme,markStyle_markStyle,annotation_annotation],heatmapColorLegend=(e,t)=>{let n=colorLegend(e,t);return n.legends&&(n.legends.customFilter=(e,t,n)=>{let a=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return(e??[]).map(e=>{let t=e[n];return e[DATUM_HIDE_KEY]=t-a<-1e-6||t-i>1e-6,e})}),n},colorCellStyleFill=e=>(t,n)=>{let a=e(t,n),{advancedVSeed:i,vseed:o}=n,{datasetReshapeInfo:r}=i,{unfoldInfo:l}=r[0];return isLinearColor(i,o)&&a?.cell?.style&&(a.cell.style.fill={field:l.encodingColor,scale:"color"}),a},markStyle_cellStyle_cellStyle=(e,t)=>{let n={...e,cell:{style:{}}},{advancedVSeed:a,vseed:i}=t,{chartType:o}=i,r=a.config?.[o]?.cell;return{...n,cell:{style:{visible:e=>e?.[DATUM_HIDE_KEY]!==!0,shape:"rect",stroke:r?.stroke,lineWidth:r?.lineWidth??1}}}},tooltipHeatmap=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{datasetReshapeInfo:o,chartType:r,locale:l,dimensions:s,encoding:d}=a,{tooltip:c={enable:!0}}=a.config[r],{enable:u}=c,{foldInfo:p}=o[0];return n.tooltip={style:getTooltipStyle(c),visible:u,mark:{title:{visible:!1},content:tooltipHeatmap_createMarkContent(d.tooltip||[],s,findAllMeasures(i.measures),l,p)},dimension:{visible:!1}},n},tooltipHeatmap_createMarkContent=(e,t,n,a,i)=>{let o=(0,external_remeda_namespaceObject.uniqueBy)(t.filter(t=>e.includes(t.id)),e=>e.id),r=(0,external_remeda_namespaceObject.uniqueBy)(n.filter(t=>e.includes(t.id)),e=>e.id),l=o.map(e=>({visible:!0,hasShape:!0,shapeType:"rectRound",key:t=>e.alias||e.id?e.alias||e.id:t&&t[e.id],value:t=>t&&t[e.id]})),s=r.map(e=>({visible:!0,hasShape:!0,shapeType:"rectRound",key:e.alias||e.id,value:t=>{if(!t)return"";let a=e.id;if(!t||!t[ORIGINAL_DATA]||!t[ORIGINAL_DATA])return"";let i=t[ORIGINAL_DATA][a];return createFormatterByMeasure(findMeasureById(n,a))(i)}}));return[...l,...[i].map(e=>({visible:!0,hasShape:!0,shapeType:"rectRound",key:t=>{let{measureId:n,foldMap:a}=e,i=t[n];return a[i]||i},value:t=>{let{measureId:a,measureValue:i}=e;if(!t)return"";let o=t[i];return createFormatterByMeasure(findMeasureById(n,t[a]))(o)}})),...s]},initHeatmap=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i}=a,{unfoldInfo:o,foldInfo:r}=i[0];return n.type="heatmap",n.direction="vertical",n.xField=o.encodingX,n.yField=o.encodingY,n.seriesField=o.encodingColorId,n.valueField=r.measureValue,n.padding=0,n.axes=[{type:"band",orient:"left",bandPadding:0},{type:"band",orient:"bottom",bandPadding:0}],n.region=[{clip:!0}],n.animation=!0,n},heatmap=[initHeatmap,background_backgroundColor,datasetXY,colorAdapter(color_color,linearColor),label_label,colorAdapter(discreteLegend,heatmapColorLegend),colorCellStyleFill(markStyle_cellStyle_cellStyle),tooltipHeatmap,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea],pivotHeatmap=[initPivot,pivotGridStyle,pivotIndicatorsAsRow,datasetPivot,pivotIndicators_pivotIndicators([pivotAxisStyle(initHeatmap),background_backgroundColor,datasetXY,colorAdapter(color_color,linearColor),label_label,tooltipHeatmap,colorCellStyleFill(markStyle_cellStyle_cellStyle),annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationArea_annotationArea]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend)],heatmapSpecPipeline=[pivotAdapter_pivotAdapter(heatmap,pivotHeatmap)],registerHeatmap=()=>{Builder._advancedPipelineMap.heatmap=heatmapAdvancedPipeline,Builder._specPipelineMap.heatmap=heatmapSpecPipeline},boxplotConfig=(e,t)=>{let{vseed:n}=t,{chartType:a}=n,i={...e},o=replaceNullToUndefined((0,external_remeda_namespaceObject.pick)(n,["backgroundColor","color","label","legend","tooltip","xAxis","yAxis","crosshairRect","whiskers","boxMaxWidth","boxGapInGroup","dimensionLinkage"]));return i.config={...i.config||{},[a]:{...o}},i},defaultEncodingForBoxplot=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i={};return boxplot_generateDefaultDimensionEncoding(n,i),boxplot_generateDefaultMeasureEncoding(a,i),{...e,encoding:i}},encodingForBoxplot=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i=n.some(e=>e.encoding),o=a.some(e=>e.encoding),r={};return i?boxplot_generateDimensionEncoding(n,r,a.length>1):boxplot_generateDefaultDimensionEncoding(n,r),o?boxplot_generateMeasureEncoding(a,r):boxplot_generateDefaultMeasureEncoding(a,r),(!r.value||r.value.length<=1)&&r.color&&r.color.length>1&&(r.color=r.color.filter(e=>e!==MeasureId)),{...e,encoding:r}},boxplot_generateDefaultDimensionEncoding=(e,t)=>{let n=1===e.length&&e.find(e=>e.id===MeasureId),a=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id));t.x=a.slice(0,1),t.color=a.slice(+!n),t.tooltip=a.filter(e=>e!==MeasureId),t.label=[],t.row=[],t.column=[]},boxplot_generateDimensionEncoding=(e,t,n)=>{t.x=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"xAxis"===e.encoding).map(e=>e.id)),0===t.x.length&&(t.x=[e[0].id]),addColorToEncoding(e,t,n),t.tooltip=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id)),t.tooltip=t.tooltip.filter(e=>e!==MeasureId),t.label=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id)),t.label=t.label.filter(e=>e!==MeasureId)},boxplot_generateDefaultMeasureEncoding=(e,t)=>{t.value=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"value"===e.encoding||!e.encoding).map(e=>e.id))},boxplot_generateMeasureEncoding=(e,t)=>{t.value=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"value"===e.encoding||!e.encoding).map(e=>e.id)),t.q1=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"q1"===e.encoding).map(e=>e.id)),t.median=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"median"===e.encoding).map(e=>e.id)),t.q3=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"q3"===e.encoding).map(e=>e.id)),t.min=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"min"===e.encoding).map(e=>e.id)),t.max=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"max"===e.encoding).map(e=>e.id)),t.outliers=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"outliers"===e.encoding).map(e=>e.id));let n=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"color"===e.encoding).map(e=>e.id));n.length>0&&(t.color=n);let a=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id));t.label=(0,external_remeda_namespaceObject.unique)([...t.label||[],...a]);let i=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"tooltip"===e.encoding).map(e=>e.id));t.tooltip=(0,external_remeda_namespaceObject.unique)([...t.tooltip||[],...a,...i])},vdataset_namespaceObject=require("@visactor/vdataset"),reshapeWithBoxplotEncoding=(e,t)=>{let n={...e},{vseed:a}=t,{dataset:i,chartType:o}=a,{encoding:r={},config:l}=e,s=e.reshapeMeasures??e.measures??[],d=e.reshapeDimensions??e.dimensions??[],c=(0,external_remeda_namespaceObject.uniqueBy)(d,e=>e.id),u=l?.[o]?.whiskers,p=[],_={},m={},g=findAllMeasures(s);if(r.value?.length){let e=[];r.value.forEach(t=>{let n=g.find(e=>e.id===t),a=(0,vdataset_namespaceObject.boxplot)(i,{field:t,groupField:[...r.x??[],...r.color??[]],whiskers:u,outputNames:{q1:"__Q1__",q3:"__Q3__",lowerWhisker:LowerWhisker,upperWhisker:UpperWhisker,median:MedianMeasureId,outliers:OutliersMeasureId}});a.forEach(e=>{e[FoldMeasureId]=t,e[FoldMeasureName]=n?.alias??t}),e.push(...a)});let t=unfoldDimensions(e,c,r,{foldMeasureId:FoldMeasureId,separator:"-",colorItemAsId:!1});t.dataset.forEach(e=>{p.push(e)}),m=t.unfoldInfo}else if(r.q1?.length&&r.q3?.length&&r.min?.length&&r.max?.length&&r.median?.length){let e=unfoldDimensions(i,c,r,{foldMeasureId:FoldMeasureId,separator:"-",colorItemAsId:!1});e.dataset.forEach(e=>{e[UpperWhisker]=e[r.max[0]],e[LowerWhisker]=e[r.min[0]],e.__Q1__=e[r.q1[0]],e.__Q3__=e[r.q3[0]],e[MedianMeasureId]=e[r.median[0]]}),p=e.dataset,_={},m=e.unfoldInfo}return{...n,dataset:p,datasetReshapeInfo:[{id:String(o),index:0,foldInfo:_,unfoldInfo:m}],dimensions:d,measures:s}},pivotReshapeWithBoxplotEncoding=(e,t)=>{let n={...e},{vseed:a}=t,{dataset:i,chartType:o}=a,{encoding:r={},config:l}=e,s=e.reshapeMeasures??e.measures??[],d=e.reshapeDimensions??e.dimensions??[],c=(0,external_remeda_namespaceObject.uniqueBy)(d,e=>e.id),u=l?.[o],p=u?.whiskers,_=[];s&&s.forEach(e=>{e.children&&e.children.length>0&&_.push(e)});let m=(0,external_remeda_namespaceObject.uniqueBy)(d.filter(e=>"row"===e.encoding||"column"===e.encoding),e=>e.id),g=[],b=[];return _.forEach((e,t)=>{let n=e.children;if(!n)return;let a=e.id,o=[],l={},s={},d=(r.value||[]).filter(e=>n.find(t=>t.id===e));if(d.length){let e=[];d.forEach(t=>{let a=n.find(e=>e.id===t),o=(0,vdataset_namespaceObject.boxplot)(i,{field:t,groupField:[...r.x??[],...r.color??[],...m.map(e=>e.id)],whiskers:p,outputNames:{q1:"__Q1__",q3:"__Q3__",lowerWhisker:LowerWhisker,upperWhisker:UpperWhisker,median:MedianMeasureId,outliers:OutliersMeasureId}});o.forEach(e=>{e[FoldMeasureId]=t,e[FoldMeasureName]=a?.alias??t}),e.push(...o)});let t=unfoldDimensions(e,c,r,{foldMeasureId:FoldMeasureId,separator:"-",colorItemAsId:!1});t.dataset.forEach(e=>{o.push(e)}),s=t.unfoldInfo}else if(r.q1?.length&&r.q3?.length&&r.min?.length&&r.max?.length&&r.median?.length){let e=unfoldDimensions(i,c,r,{foldMeasureId:FoldMeasureId,separator:"-",colorItemAsId:!1});e.dataset.forEach(e=>{e[UpperWhisker]=e[r.max[0]],e[LowerWhisker]=e[r.min[0]],e.__Q1__=e[r.q1[0]],e.__Q3__=e[r.q3[0]],e[MedianMeasureId]=e[r.median[0]]}),o=e.dataset,l={},s=e.unfoldInfo}let u={id:`${a}`,index:t,foldInfo:l,unfoldInfo:s};g.push(o),b.push(u)}),{...n,dataset:g,datasetReshapeInfo:b}},boxplotAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,defaultMeasureId_defaultMeasureId,boxplotConfig,encodingAdapter([defaultEncodingForBoxplot,buildMeasures],[encodingForBoxplot,buildMeasures,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithBoxplotEncoding],[pivotReshapeWithBoxplotEncoding]),sortLegend_sortLegend,theme_theme,markStyle_markStyle,annotation_annotation],initBoxplot=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{datasetReshapeInfo:i,encoding:o}=a,{unfoldInfo:r}=i[0];return n.type="boxPlot",n.minField=LowerWhisker,n.maxField=UpperWhisker,n.q1Field="__Q1__",n.medianField=MedianMeasureId,n.q3Field="__Q3__",n.outliersField=OutliersMeasureId,n.xField=[r.encodingX],n.seriesField=r.encodingColorId,(0,external_remeda_namespaceObject.isDeepEqual)(o.x,o.color)||(n.xField.push(r.encodingColor),o.color?.[0]===MeasureId&&o.value?.length===1&&n.xField.pop()),n.padding=0,n.region=[{clip:!0}],n.animation=!0,n},boxMaxWidth_boxMaxWidth=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{chartType:i}=a,o=n.config?.[i]?.boxMaxWidth;return(0,external_remeda_namespaceObject.isNullish)(o)?e:{...e,boxMaxWidth:o}},boxGapInGroup_boxGapInGroup=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{chartType:i}=a,o=n.config?.[i]?.boxGapInGroup;return(0,external_remeda_namespaceObject.isNullish)(o)?e:{...e,boxGapInGroup:o}},datasetBoxplot=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{datasetReshapeInfo:i}=n,{id:o}=i[0];return{...e,data:{id:o,values:isPivotChart(a)?void 0:n.dataset.flat(),fields:{}}}},boxPlotMeasureKeys=[UpperWhisker,"__Q3__",MedianMeasureId,"__Q1__",LowerWhisker],VCHART_OUTLIER_KEY="__VCHART_BOX_PLOT_OUTLIER_VALUE",tooltipBoxplot=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{chartType:o,dimensions:r,encoding:l}=a,{tooltip:s={enable:!0}}=a.config[o],{enable:d}=s,c=findAllMeasures(i.measures),u=c.find(e=>"value"===e.encoding||(0,external_remeda_namespaceObject.isNullish)(e.encoding)),p=u?createFormatterByMeasure(u):e=>e,_={[OutliersMeasureId]:intl.i18n`异常点`,[UpperWhisker]:intl.i18n`上边界`,__Q3__:intl.i18n`上四分位数`,[MedianMeasureId]:intl.i18n`中位数`,__Q1__:intl.i18n`下四分位数`,[LowerWhisker]:intl.i18n`下边界`};return n.tooltip={visible:d,style:getTooltipStyle(s),mark:{title:{visible:!1},content:tooltipBoxplot_createMarkContent(l.tooltip||[],r,l),updateContent:(e,t)=>{let n=t?.[0]?.datum?.[0];if(!(0,external_remeda_namespaceObject.isNullish)(n?.[VCHART_OUTLIER_KEY])){let t=(e??[]).filter(e=>!boxPlotMeasureKeys.includes(e.key)),a=c.find(e=>e.id===OutliersMeasureId),i=a?createFormatterByMeasure(a):p;return t.push({...t[0],key:a?.alias??_[OutliersMeasureId],value:i(n?.[VCHART_OUTLIER_KEY])}),t}return(e??[]).map(e=>{if(boxPlotMeasureKeys.includes(e.key)){let t=c.find(t=>t.id===e.key),a=t?createFormatterByMeasure(t):p;return{...e,value:a(n?.[e.key]),key:t?.alias??_[e?.key]??e.key}}return e})}},dimension:{visible:!1}},n},tooltipBoxplot_createMarkContent=(e,t,n)=>[...(0,external_remeda_namespaceObject.pipe)(t.filter(t=>e.includes(t.id)),(0,external_remeda_namespaceObject.uniqueBy)(e=>e.id),(0,external_remeda_namespaceObject.uniqueBy)(e=>e.alias)).map(e=>({visible:!0,hasShape:!0,shapeType:"rectRound",key:e.alias??e.id,value:t=>{if(!(0,external_remeda_namespaceObject.isNullish)(t?.[VCHART_OUTLIER_KEY])){if(n.color?.includes(e.id))return t?.[ColorEncoding];if(n.x?.includes(e.id))return t?.[XEncoding]}return t?.[e.id]}})),boxPlotMeasureKeys.map(e=>({visible:!0,hasShape:!0,shapeType:"rectRound",key:e,value:t=>t?t[e]:""}))],colorBoxPlotStyleFill=e=>(t,n)=>{let a=e(t,n),{advancedVSeed:i,vseed:o}=n,{datasetReshapeInfo:r}=i,{unfoldInfo:l}=r[0];return isLinearColor(i,o)&&a?.boxPlot?.style&&(a.boxPlot.style.fill={field:l.encodingColor,scale:"color"}),a},boxPlotStyle_boxPlotStyle=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{markStyle:i,config:o}=n,{boxPlotStyle:r}=i,l=o?.[a.chartType]?.boxPlotStyle,s={...e,boxPlot:{style:{shaftShape:"filled-line",visible:!0,shaftWidth:"50%",stroke:l?.boxBorderColor}}};if((0,external_remeda_namespaceObject.isNullish)(r)||(0,external_remeda_namespaceObject.isEmpty)(r))return s;let d=(Array.isArray(r)?r:[r]).reduce((e,t,n)=>{let{boxColor:a,boxColorOpacity:i,boxBorderColor:o,boxBorderWidth:r=1,boxVisible:l=!0,boxBorderOpacity:s}=t;return{...e,[`custom${n+1}`]:{level:n+1,filter:e=>!!selector_selector(e,t.selector),style:{visible:l,fill:a,fillOpacity:i,lineWidth:r,stroke:o,strokeOpacity:s}}}},{});return s.boxPlot.state={...s.boxPlot.state,...d},s},outlierStyle_outlierStyle=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{markStyle:i,config:o}=n,{outlierStyle:r}=i,l=o?.[a.chartType]?.outlierStyle,s={...e,outlier:{style:{fill:l?.pointColor}}};if((0,external_remeda_namespaceObject.isNullish)(r)||(0,external_remeda_namespaceObject.isEmpty)(r))return s;let d=(Array.isArray(r)?r:[r]).reduce((e,t,n)=>{let{pointBorderColor:a,pointBorderStyle:i,pointBorderWidth:o=1,pointColor:r,pointColorOpacity:l,pointSize:s,pointVisible:d=!0}=t;return{...e,[`custom${n+1}`]:{level:n+1,filter:e=>!!selector_selector(e,t.selector),style:{visible:d,size:s,fill:r,fillOpacity:l,innerBorder:{stroke:a,lineWidth:o,distance:(o||0)/2,lineDash:"dashed"===i?[5,2]:"dotted"===i?[2,5]:[0,0]}}}}},{});return{...s,outlier:{...s.outlier,state:{...d}}}},boxplot=[initBoxplot,stackCornerRadius_stackCornerRadius,boxMaxWidth_boxMaxWidth,boxGapInGroup_boxGapInGroup,colorAdapter(color_color,linearColor),background_backgroundColor,datasetBoxplot,progressive,xBand,yLinear,label_label,tooltipBoxplot,colorAdapter(discreteLegend,colorLegend),verticalCrosshairRect,colorBoxPlotStyleFill(boxPlotStyle_boxPlotStyle),outlierStyle_outlierStyle,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand],pivotBoxplot=[initPivot,pivotGridStyle,datasetPivot,pivotIndicators_pivotIndicators([initBoxplot,stackCornerRadius_stackCornerRadius,boxMaxWidth_boxMaxWidth,boxGapInGroup_boxGapInGroup,colorAdapter(color_color,linearColor),background_backgroundColor,datasetBoxplot,progressive,xBand,pivotAxisStyle(yLinear),label_label,tooltipBoxplot,colorBoxPlotStyleFill(boxPlotStyle_boxPlotStyle),outlierStyle_outlierStyle,verticalCrosshairRect,annotationPoint_annotationPoint,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend),dimensionLinkage],boxplotSpecPipeline=[pivotAdapter_pivotAdapter(boxplot,pivotBoxplot)],registerBoxPlot=()=>{Builder._advancedPipelineMap.boxPlot=boxplotAdvancedPipeline,Builder._specPipelineMap.boxPlot=boxplotSpecPipeline},histogramConfig=(e,t)=>{let{vseed:n}=t,{chartType:a}=n,i={...e},o=(e?.dimensions||[]).find(e=>e?.encoding==="color"),r=(0,external_remeda_namespaceObject.pick)(n,["backgroundColor","color","label","legend","tooltip","xAxis","yAxis","crosshairRect","binCount","binStep","binValueType","dimensionLinkage"]),l=replaceNullToUndefined(r);return r?.binValueType==="percentage"&&(l=(0,vutils_namespaceObject.merge)({},{yAxis:{autoFomat:!1,numFormat:{type:"percent",fractionDigits:1}},label:{autoFormat:!1,numFormat:{type:"percent",fractionDigits:1}}},l)),o||l?.legend?.enable||(l={...l,legend:{...l?.legend,enable:!1}}),i.config={...i.config||{},[a]:{...l}},i},histogramXAxisConfig=(e,t)=>{let{vseed:n}=t,{chartType:a}=n,i={...e},{dataset:o=[]}=e,r=o.flat(),l=Math.min(...r.map(e=>+e[BinStartMeasureId])),s=Math.max(...r.map(e=>+e[BinEndMeasureId])),d=i.config?.[a];return i.config={...i.config||{},[a]:{...d,xAxis:{min:Number.isNaN(l)?void 0:l,max:Number.isNaN(s)?void 0:s,...d?.xAxis||{}}}},i},defaultEncodingForHistogram=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i={};return histogram_generateDefaultDimensionEncoding(n,i),histogram_generateDefaultMeasureEncoding(a,i),{...e,encoding:i}},encodingForHistogram=e=>{let{measures:t=[],dimensions:n=[]}=e,a=findAllMeasures(t),i=n.some(e=>e.encoding),o=a.some(e=>e.encoding),r={};return i?histogram_generateDimensionEncoding(n,r,!1):histogram_generateDefaultDimensionEncoding(n,r),o?histogram_generateMeasureEncoding(a,r):histogram_generateDefaultMeasureEncoding(a,r),{...e,encoding:r}},histogram_generateDefaultDimensionEncoding=(e,t)=>{let n=e.filter(e=>e.id!==MeasureId),a=(0,external_remeda_namespaceObject.unique)(n.map(e=>e.id));t.detail=t.color,t.tooltip=a.filter(e=>e!==MeasureId),t.label=[],t.row=[],t.column=[]},histogram_generateDimensionEncoding=(e,t,n)=>{addColorToEncoding(e,t,n),t.detail=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"detail"===e.encoding).map(e=>e.id)),t.detail?.length===0&&(t.detail=t.color),t.tooltip=(0,external_remeda_namespaceObject.unique)(e.map(e=>e.id)),t.tooltip=t.tooltip?.filter(e=>e!==MeasureId),t.label=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id)),t.label=t.label?.filter(e=>e!==MeasureId)},histogram_generateDefaultMeasureEncoding=(e,t)=>{t.value=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"value"===e.encoding||!e.encoding).map(e=>e.id)),t.x0=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"x0"===e.encoding).map(e=>e.id)),t.x1=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"x1"===e.encoding).map(e=>e.id)),t.y=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"yAxis"===e.encoding).map(e=>e.id))},histogram_generateMeasureEncoding=(e,t)=>{t.value=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"value"===e.encoding||!e.encoding).map(e=>e.id)),t.x0=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"x0"===e.encoding).map(e=>e.id)),t.x1=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"x1"===e.encoding).map(e=>e.id)),t.y=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"yAxis"===e.encoding).map(e=>e.id));let n=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"color"===e.encoding).map(e=>e.id));n.length>0&&(t.color=[n[0]]);let a=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"label"===e.encoding).map(e=>e.id));t.label=(0,external_remeda_namespaceObject.unique)([...t.label||[],...a]);let i=(0,external_remeda_namespaceObject.unique)(e.filter(e=>"tooltip"===e.encoding).map(e=>e.id));t.tooltip=(0,external_remeda_namespaceObject.unique)([...t.tooltip||[],...a,...i])},reshapeWithHistogramEncoding=(e,t)=>{let n={...e},{vseed:a}=t,{dataset:i,chartType:o}=a,{encoding:r={},config:l}=e,s=e.reshapeMeasures??e.measures??[],d=e.reshapeDimensions??e.dimensions??[],c=(0,external_remeda_namespaceObject.uniqueBy)(d,e=>e.id),u=l?.[o],p=u?.binCount,_=u?.binStep,m=u?.binValueType,g=[],b={foldMap:{},measureId:FoldMeasureId,measureName:FoldMeasureName,measureValue:FoldMeasureValue,statistics:{max:-1/0,min:1/0,sum:0,count:0,colorMin:1/0,colorMax:-1/0}},z={},h=getColorMeasureId(e,a),x=findAllMeasures(s);if(r.value?.length){let e=r.value[0],t=x.find(t=>t.id===e),n=(0,vdataset_namespaceObject.bin)(i,{field:e,groupField:[...r.x??[],...r.color??[]],bins:p,step:_,outputNames:{x0:BinStartMeasureId,x1:BinEndMeasureId,count:BinCountMeasureId,percentage:BinPercentageMeasureId}});n.forEach(n=>{n[FoldMeasureId]=e,n[FoldMeasureName]=t?.alias??e;let a="percentage"===m?+n[BinPercentageMeasureId]:+n[BinCountMeasureId];n[FoldMeasureValue]=a,n[e]=a,b.statistics.min=Math.min(b.statistics.min,a),b.statistics.max=Math.max(b.statistics.max,a),b.statistics.sum+=a,b.statistics.count++}),t?.id&&(b.foldMap[t?.id]=t?.alias);let a=unfoldDimensions(n,c,r,{foldMeasureId:FoldMeasureId,separator:"-",colorItemAsId:!1});a.dataset.forEach(e=>{g.push(e)}),z=a.unfoldInfo}else if(r.x0?.length&&r.x1?.length&&r.y?.length){let e=dataReshapeByEncoding(i,(0,external_remeda_namespaceObject.uniqueBy)(d,e=>e.id),findAllMeasures(s).filter(e=>r.y?.includes(e.id)).slice(0,1),r,{colorItemAsId:!1,colorMeasureId:h});e.dataset.forEach(e=>{e[BinStartMeasureId]=e[r.x0[0]],e[BinEndMeasureId]=e[r.x1[0]]}),g=e.dataset,b=e.foldInfo,z=e.unfoldInfo}return{...n,dataset:g,datasetReshapeInfo:[{id:String(o),index:0,foldInfo:b,unfoldInfo:z}],dimensions:d,measures:s}},pivotReshapeWithHistogramEncoding=(e,t)=>{let n={...e},{vseed:a}=t,{dataset:i,chartType:o}=a,{encoding:r={},config:l}=e,s=e.reshapeMeasures??e.measures??[],d=e.reshapeDimensions??e.dimensions??[],c=getColorMeasureId(e,a),u=(0,external_remeda_namespaceObject.uniqueBy)(d,e=>e.id),p=l?.[o],_=p?.binCount,m=p?.binStep,g=p?.binValueType,b=[];s&&s.forEach(e=>{e.children&&e.children.length>0&&b.push(e)});let z=(0,external_remeda_namespaceObject.uniqueBy)(d.filter(e=>"row"===e.encoding||"column"===e.encoding),e=>e.id),h=[],x=[];return b.forEach((e,t)=>{let n=e.children;if(!n)return;let a=e.id,o=[],l={foldMap:{},measureId:FoldMeasureId,measureName:FoldMeasureName,measureValue:FoldMeasureValue,statistics:{max:-1/0,min:1/0,sum:0,count:0,colorMin:1/0,colorMax:-1/0}},s={};if(r.value?.length){let e=r.value[0],t=n.find(t=>t.id===e),a=(0,vdataset_namespaceObject.bin)(i,{field:e,groupField:[...r.x??[],...r.color??[]],facetField:z.map(e=>e.id),bins:_,step:m,outputNames:{x0:BinStartMeasureId,x1:BinEndMeasureId,count:BinCountMeasureId,percentage:BinPercentageMeasureId}});a.forEach(n=>{n[FoldMeasureId]=e,n[FoldMeasureName]=t?.alias??e;let a="percentage"===g?+n[BinPercentageMeasureId]:+n[BinCountMeasureId];n[FoldMeasureValue]=a,n[e]=a,l.statistics.min=Math.min(l.statistics.min,a),l.statistics.max=Math.max(l.statistics.max,a),l.statistics.sum+=a,l.statistics.count++}),t?.id&&(l.foldMap[t?.id]=t?.alias);let d=unfoldDimensions(a,u,r,{foldMeasureId:FoldMeasureId,separator:"-",colorItemAsId:!1});d.dataset.forEach(e=>{o.push(e)}),s=d.unfoldInfo}else if(r.x0?.length&&r.x1?.length&&r.y?.length){let e=dataReshapeByEncoding(i,(0,external_remeda_namespaceObject.uniqueBy)(d,e=>e.id),n.filter(e=>r.y?.includes(e.id)).slice(0,1),r,{colorItemAsId:!1,colorMeasureId:c});e.dataset.forEach(e=>{e[BinStartMeasureId]=e[r.x0[0]],e[BinEndMeasureId]=e[r.x1[0]],e[FoldMeasureId]=e[r.y[0]]}),o=e.dataset,l=e.foldInfo,s=e.unfoldInfo}let p={id:`${a}`,index:t,foldInfo:l,unfoldInfo:s};h.push(o),x.push(p)}),{...n,dataset:h,datasetReshapeInfo:x}},histogramAdvancedPipeline=[initAdvancedVSeed_initAdvancedVSeed,default_defaultMeasures_defaultMeasures,defaultDimensions_defaultDimensions,histogramConfig,encodingAdapter([defaultEncodingForHistogram,buildMeasures],[encodingForHistogram,buildMeasures,pickMeasuresForReshape(["tooltip","label","color"]),pickDimensionsForReshape]),pivotAdapter([reshapeWithHistogramEncoding],[pivotReshapeWithHistogramEncoding]),histogramXAxisConfig,sortLegend_sortLegend,theme_theme,markStyle_markStyle,annotation_annotation,regressionLine_regressionLine],initHistogram=e=>{let t={...e};return t.type="histogram",t.xField=BinStartMeasureId,t.x2Field=BinEndMeasureId,t.yField=FoldMeasureValue,t.padding=0,t.region=[{clip:!0}],t.legends={visible:!1},t.barGap=2,t.animation=!0,t},datasetHistogram=(e,t)=>{let{advancedVSeed:n,vseed:a}=t,{datasetReshapeInfo:i}=n,{id:o}=i[0];return{...e,data:{id:o,values:isPivotChart(a)?void 0:n.dataset.flat(),fields:{}}}},getDefaultXFormatterOfHistogram=e=>{let{chartType:t,config:n}=e,{autoFormat:a=!0,numFormat:i={}}=n?.[t]?.xAxis,o=createNumFormatter(i);return e=>createLinearFormat(e,a,i,o)},getDefaultValueFormatterOfHistogram=(e="count")=>"percentage"===e?createNumFormatter({type:"percent",fractionDigits:1}):e=>autoFormatter(e),tooltipHistogram_VCHART_OUTLIER_KEY="__VCHART_BOX_PLOT_OUTLIER_VALUE",tooltipHistogram=(e,t)=>{let n={...e},{advancedVSeed:a}=t,{chartType:i,dimensions:o,encoding:r}=a,{binValueType:l,tooltip:s={enable:!0}}=a.config[i],{enable:d}=s,c=getDefaultXFormatterOfHistogram(a),u=getDefaultValueFormatterOfHistogram(l);return n.tooltip={style:getTooltipStyle(s),visible:d,mark:{title:{visible:!1},content:tooltipHistogram_createMarkContent(r.tooltip||[],o,r,c,u)},dimension:{title:{visible:!1},content:tooltipHistogram_createMarkContent(r.tooltip||[],o,r,c,u)}},n},tooltipHistogram_createMarkContent=(e,t,n,a,i)=>[...(0,external_remeda_namespaceObject.pipe)(t.filter(t=>e.includes(t.id)),(0,external_remeda_namespaceObject.uniqueBy)(e=>e.id),(0,external_remeda_namespaceObject.uniqueBy)(e=>e.alias)).map(e=>({visible:!0,hasShape:!0,shapeType:"rectRound",key:e.alias??e.id,value:t=>{if(!(0,external_remeda_namespaceObject.isNullish)(t?.__VCHART_BOX_PLOT_OUTLIER_VALUE)){if(n.color?.includes(e.id))return t?.[ColorEncoding];if(n.x?.includes(e.id))return t?.[XEncoding]}return i(t?.[e.id])}})),[{visible:!0,hasShape:!0,shapeType:"rectRound",key:e=>e?`[${a(+e[BinStartMeasureId])}, ${a(+e[BinEndMeasureId])})`:"",value:e=>e?i(e[FoldMeasureValue]):""}]],histogramVerticalCrosshairRect=(e,t)=>{let n=verticalCrosshairRect(e,t);if(!n.crosshair)return n;let a=n.crosshair;if(!a.xField)return n;let i=getDefaultXFormatterOfHistogram(t.advancedVSeed);return a.xField={...a.xField||{},label:{...a.xField?.label||{},formatMethod:e=>{if((0,vutils_namespaceObject.isArray)(e))return e;let t=`${e}`.split("~"),n=i(+t[0]),a=i(+t[1]);return 1===t.length?n:`[${n}, ${a})`}}},n},annotationPointOfHistogram=generateAnnotationPointPipe({generateMarkPoint:(e,t)=>{let n=t.xField,a=t.x2Field;return[{coordinate:t=>{let i=t.find(t=>isSubset(e,t));return i?{...i,[n]:(i[n]+i[a])/2}:void 0}}]}}),kdeRegressionLine=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{chartType:o,encoding:r={},dimensions:l,regressionLine:s}=a,{dataset:d}=i,c=a.config[o]?.regressionLine,u=a.config[o]?.binValueType;if(!s||!s.kdeRegressionLine)return n;let p=(0,external_remeda_namespaceObject.uniqueBy)(l.filter(e=>"row"===e.encoding||"column"===e.encoding),e=>e.id),_=(0,vutils_namespaceObject.array)(s.kdeRegressionLine).filter(e=>!1!==e.enable);return n.extensionMark||(n.extensionMark=[]),_.forEach((t,a)=>{if(!1===t.enable)return;let i=c.kdeRegressionLine??{},{color:o,lineWidth:l,lineDash:s,text:_,textColor:m,textFontSize:g,textFontWeight:b}=t,z=[];n.extensionMark.push({type:"group",interactive:!1,zIndex:500,name:`kdeRegressionLine-${a}`,dataId:e.data?.id,style:{data:(e,t)=>{let n=t.vchart.getChart().getAllSeries().filter(e=>"bar"===e.type);if(n&&n.length){let e=n[0],t=e.fieldX?.[0],a=e.getYAxisHelper().getScale?.(0),i=e.getViewData()?.latestData;if(!d||!d.length||!i||!i.length||!a)return null;let l=d.filter(e=>!p.length||p.every(t=>e[t.id]===i[0][t.id])).map(e=>+e[r.value?.[0]]),s=(0,vutils_namespaceObject.kde)(l,{bandwidth:Math.abs(i[0][BinEndMeasureId]-i[0][BinStartMeasureId])}),c=Math.max(3,Math.floor(l.length/4));return{linePoints:s.evaluateGrid(c).map(n=>{var i;let o={[t]:n.x};return{x:e.dataToPositionX(o),y:(i=n.y,"percentage"===u?a.scale(i*s.bandwidth):a.scale(i*l.length*s.bandwidth))}}),color:o??e.getOption().globalScale.getScale("color")?.scale(e.getSeriesKeys()[0])}}return null}},children:z}),z.push({type:"line",interactive:!1,zIndex:500,dataId:e.data?.id,style:{lineWidth:l??i.lineWidth,lineDash:s??i.lineDash,stroke:o??defaultRegressionLineColor,points:(e,t,n)=>{let a=n.mark?._product?.parent;return a?.attribute?.data?a.attribute.data.linePoints:[]}}}),(0,external_remeda_namespaceObject.isNullish)(_)||z.push({type:"text",interactive:!1,zIndex:500,dataId:e.data?.id,dataKey:()=>`kdeRegressionLine-label-${a}`,style:{textAlign:"end",fill:m??i.textColor,fontSize:g??i.textFontSize,fontWeight:b??i.textFontWeight,text:_,x:defaultRegressionLineLabelX,y:defaultRegressionLineLabelY}})}),n},ecdfRegressionLine=(e,t)=>{let n={...e},{advancedVSeed:a,vseed:i}=t,{chartType:o,encoding:r={},dimensions:l,regressionLine:s}=a,{dataset:d}=i,c=a.config[o]?.regressionLine;if(!s||!s.ecdfRegressionLine)return n;let u=(0,external_remeda_namespaceObject.uniqueBy)(l.filter(e=>"row"===e.encoding||"column"===e.encoding),e=>e.id),p=(0,vutils_namespaceObject.array)(s.ecdfRegressionLine).filter(e=>!1!==e.enable);n.extensionMark||(n.extensionMark=[]),p.forEach((t,a)=>{if(!1===t.enable)return;let i=c?.ecdfRegressionLine??{},{color:o,lineWidth:l,lineDash:s,text:p,textColor:_,textFontSize:m,textFontWeight:g}=t,b=[];n.extensionMark.push({type:"group",interactive:!1,zIndex:500,name:`ecdfRegressionLine-${a}`,dataId:e.data?.id,style:{data:(e,t)=>{let n=t.vchart.getChart().getAllSeries().filter(e=>"bar"===e.type);if(n&&n.length){let e=n[0],t=e.fieldX?.[0],a=e.getYAxisHelper().getScale?.(0),i=e.getViewData()?.latestData;if(!d||!d.length||!i||!i.length||!a)return null;let l=d.filter(e=>!u.length||u.every(t=>e[t.id]===i[0][t.id])).map(e=>+e[r.value?.[0]]),s=(0,vutils_namespaceObject.ecdf)(l),c=Math.max(3,Math.floor(l.length/4)),p=s.evaluateGrid(c),_=a.range(),m=_[0],g=_[_.length-1];return{linePoints:p.map(n=>{let a={[t]:n.x};return{x:e.dataToPositionX(a),y:m+(g-m)*n.y}}),color:o??e.getOption().globalScale.getScale("color")?.scale(e.getSeriesKeys()[0])}}return null}},children:b}),b.push({type:"line",interactive:!1,zIndex:500,dataId:e.data?.id,style:{lineWidth:l??i.lineWidth,lineDash:s??i.lineDash,stroke:o??defaultRegressionLineColor,points:(e,t,n)=>{let a=n.mark?._product?.parent;return a?.attribute?.data?a.attribute.data.linePoints:[]}}}),(0,external_remeda_namespaceObject.isNullish)(p)||b.push({type:"text",interactive:!1,zIndex:500,dataId:e.data?.id,dataKey:()=>`ecdfRegressionLine-label-${a}`,style:{textAlign:"end",fill:_??i.textColor,fontSize:m??i.textFontSize,fontWeight:g??i.textFontWeight,text:p,x:defaultRegressionLineLabelX,y:defaultRegressionLineLabelY}})});let _=n.axes?.find(e=>"left"===e.orient);return _&&p.length&&n.axes?.push({visible:!0,orient:"right",type:"linear",base:10,min:0,max:1,domainLine:{..._.domainLine},grid:{visible:!1},tick:{..._.tick},title:{..._.title,visible:!1},label:{..._.label,visible:!0,formatMethod:e=>{let t=(0,vutils_namespaceObject.isArray)(e)?e[0]:e;return`${(100*t).toFixed(1)}%`}}}),n},histogram=[initHistogram,colorAdapter(color_color,linearColor),background_backgroundColor,datasetHistogram,progressive,xLinear,yLinear,label_label,tooltipHistogram,colorAdapter(discreteLegend,colorLegend),histogramVerticalCrosshairRect,colorBarStyleFill(barStyle_barStyle),annotationPointOfHistogram,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand,kdeRegressionLine,ecdfRegressionLine],pivotHistogram=[initPivot,pivotGridStyle,datasetPivot,pivotIndicators_pivotIndicators([initHistogram,colorAdapter(color_color,linearColor),background_backgroundColor,datasetHistogram,progressive,xLinear,pivotAxisStyle(yLinear),label_label,tooltipHistogram,colorBarStyleFill(barStyle_barStyle),histogramVerticalCrosshairRect,annotationPointOfHistogram,annotationVerticalLine_annotationVerticalLine,annotationHorizontalLine_annotationHorizontalLine,annotationAreaBand,kdeRegressionLine,ecdfRegressionLine]),pivotRowDimensions,pivotColumnDimensions,pivotTitle,colorAdapter(pivotDiscreteLegend,pivotColorLegend),dimensionLinkage],histogramSpecPipeline=[pivotAdapter_pivotAdapter(histogram,pivotHistogram)],registerHistogram=()=>{Builder._advancedPipelineMap.histogram=histogramAdvancedPipeline,Builder._specPipelineMap.histogram=histogramSpecPipeline},getDarkCrosshairLine=()=>({visible:!0,labelVisible:!0,labelColor:"#ffffff",labelBackgroundColor:"#404349",lineColor:"#55595F"}),getDarkCrosshairRect=()=>({visible:!0,labelVisible:!0,labelColor:"#ffffff",labelBackgroundColor:"#404349",rectColor:"#4B4F54"}),getLightCrosshairLine=()=>({visible:!0,labelVisible:!0,labelColor:"#ffffff",labelBackgroundColor:"#21252C",lineColor:"#21252C"}),getLightCrosshairRect=()=>({visible:!0,labelVisible:!0,labelColor:"#ffffff",labelBackgroundColor:"#364159",rectColor:"#D9DDE4"}),getLightColorScheme=()=>["#8D72F6","#5766EC","#66A3FE","#51D5E6","#4EC0B3","#F9DF90","#F9AD71","#ED8888","#E9A0C3","#D77DD3"],getDarkColorScheme=()=>["#2E62F1","#4DC36A","#FF8406","#FFCC00","#4F44CF","#5AC8FA","#003A8C","#B08AE2","#FF6341","#98DD62"],getLightLinearColorScheme=()=>["#C2CEFF","#5766EC"],getDarkLinearColorScheme=()=>["#A0CEFF","#2E62F1"],getLightColor=()=>({linearColorScheme:getLightLinearColorScheme(),colorScheme:getLightColorScheme(),positiveColor:"#7E5DFF",negativeColor:"#EB3373"}),getDarkColor=()=>({linearColorScheme:getDarkLinearColorScheme(),colorScheme:getDarkColorScheme(),positiveColor:"#7E5DFF",negativeColor:"#EB3373"}),getDefaultLabel=()=>({enable:!0,wrap:!0,showValue:!0,showValuePercent:!1,labelColorSmartInvert:!1,labelOverlap:!0}),getDarkLabel=()=>({...getDefaultLabel(),labelStroke:"#21252C"}),getLightLabel=()=>({...getDefaultLabel(),labelStroke:"#fff"}),getDefaultLegend=()=>({enable:!0,border:!0,maxSize:1,shapeType:"rectRound",position:"rt",labelFontSize:12,labelFontWeight:400}),getDarkLegend=()=>({...getDefaultLegend(),labelColor:"#BBBDC3",pagerIconColor:"#89909D",pagerIconDisableColor:"#2A2D33"}),getLightLegend=()=>({...getDefaultLegend(),labelColor:"#606773",pagerIconColor:"#89909D",pagerIconDisableColor:"#F1F2F5"}),getDefaultTableConfig=()=>({bodyFontSize:12,bodyBackgroundColor:"transparent",headerFontSize:12}),getLightTableConfig=()=>({...getDefaultTableConfig(),borderColor:"#e3e5eb",bodyFontColor:"#141414",headerFontColor:"#21252c",headerBackgroundColor:"#f6f7f9",hoverBodyBackgroundColor:"#bedaff",hoverBodyInlineBackgroundColor:"#bedaff33",hoverHeaderBackgroundColor:"#D9DDE4",hoverHeaderInlineBackgroundColor:"#D9DDE455",selectedBorderColor:"#4080ff",selectedBackgroundColor:"#bedaff33",backgroundColor:"transparent"}),getDarkTableConfig=()=>({...getDefaultTableConfig(),borderColor:"#4b4e53",bodyFontColor:"#fdfdfd",headerFontColor:"#fdfdfd",headerBackgroundColor:"#36393e",hoverBodyBackgroundColor:"#4284ff66",hoverBodyInlineBackgroundColor:"#4284ff10",hoverHeaderBackgroundColor:"#6f7984cc",hoverHeaderInlineBackgroundColor:"#4b4f54",selectedBorderColor:"#3073f2",selectedBackgroundColor:"#4284ff33"}),pickPivotChartGridConfig=e=>({outlineBorderLineWidth:0,frameCornerRadius:0,borderColor:e.borderColor,bodyFontColor:e.bodyFontColor,headerFontColor:e.headerFontColor,headerBackgroundColor:"transparent",hoverHeaderBackgroundColor:e.hoverHeaderBackgroundColor,hoverHeaderInlineBackgroundColor:e.hoverHeaderInlineBackgroundColor,titleFontColor:e.headerFontColor,titleFontSize:e.headerFontSize,titleFontWeight:"bold"}),getLightPivotChartGridConfig=()=>{let e=pickPivotChartGridConfig(getLightTableConfig());return e.hoverHeaderInlineBackgroundColor="#D9DDE446",e.chartGridColor="#F0F1F6",e.axisLabelColor="#BCC1CB",e},getDarkPivotChartGridConfig=()=>{let e=pickPivotChartGridConfig(getDarkTableConfig());return e.hoverHeaderInlineBackgroundColor="#4b4f5446",e},getDefaultTooltip=()=>({enable:!0,borderRadius:12,borderWidth:1,padding:7,lineHeight:12,fontSize:12,lineSpace:6}),getLightTooltip=()=>({...getDefaultTooltip(),borderColor:"#e3e5e8",backgroundColor:"#fff",keyColor:"#606773",valueColor:"#21252c",titleColor:"#21252c"}),getDarkTooltip=()=>({...getDefaultTooltip(),borderColor:"#3c3f44",backgroundColor:"#2b2d30",keyColor:"#89909D",valueColor:"#E2E3E6",titleColor:"#E2E3E6"}),getLightLinearAxis=()=>({nice:!0,zero:!0,inverse:!1,label:{visible:!0,labelAngle:0,labelColor:"#8F959E",labelFontSize:12,labelFontWeight:400},title:{visible:!1,titleText:"",titleColor:"#606773",titleFontSize:12,titleFontWeight:400},grid:{visible:!0,gridColor:"#E3E5EB",gridWidth:.5,gridLineDash:[4,2]},tick:{visible:!1,tickInside:!1,tickSize:4,tickColor:"#E3E5EB"},line:{visible:!1,lineColor:"#E3E5EB",lineWidth:1}}),getLightBandAxis=()=>({labelAutoHide:!0,labelAutoHideGap:4,labelAutoLimit:!0,labelAutoLimitLength:80,labelAutoRotate:!1,labelAutoRotateAngleRange:[0,-45,-90],label:{visible:!0,labelAngle:0,labelColor:"#8F959E",labelFontSize:12,labelFontWeight:400},title:{visible:!1,titleText:"",titleColor:"#606773",titleFontSize:12,titleFontWeight:400},grid:{visible:!1,gridColor:"#E3E5EB",gridWidth:.5,gridLineDash:[4,2]},tick:{visible:!1,tickInside:!1,tickSize:4,tickColor:"#E3E5EB"},line:{visible:!0,lineColor:"#E3E5EB",lineWidth:1}}),getDarkLinearAxis=()=>({nice:!0,zero:!0,label:{visible:!0,labelAngle:0,labelColor:"#888C93",labelFontSize:12,labelFontWeight:400},title:{visible:!1,titleText:"",titleColor:"#BBBDC3",titleFontSize:12,titleFontWeight:400},grid:{visible:!0,gridColor:"#303339",gridWidth:.5,gridLineDash:[4,2]},tick:{visible:!1,tickInside:!1,tickSize:4,tickColor:"#303339"},line:{visible:!1,lineColor:"#303339",lineWidth:1}}),getDarkBandAxis=()=>({labelAutoHide:!0,labelAutoHideGap:4,labelAutoLimit:!0,labelAutoLimitLength:80,labelAutoRotate:!1,labelAutoRotateAngleRange:[0,-45,-90],label:{visible:!0,labelAngle:0,labelColor:"#888C93",labelFontSize:12,labelFontWeight:400},title:{visible:!1,titleText:"",titleColor:"#BBBDC3",titleFontSize:12,titleFontWeight:400},grid:{visible:!1,gridColor:"#303339",gridWidth:.5,gridLineDash:[4,2]},tick:{visible:!1,tickInside:!1,tickSize:4,tickColor:"#303339"},line:{visible:!0,lineColor:"#303339",lineWidth:1}}),getDefaultAnnotationPoint=()=>({textBackgroundVisible:!0,textFontSize:12,textFontWeight:400,textBackgroundBorderRadius:0,textBackgroundBorderWidth:1,textBackgroundPadding:2}),getLightAnnotationPoint=()=>({...getDefaultAnnotationPoint(),textColor:"#ffffff",textBackgroundColor:"#BCC1CB",textBackgroundBorderColor:"#BCC1CB"}),getDefaultAnnotationLine=()=>({lineVisible:!0,lineWidth:1,lineStyle:"solid",textFontSize:12,textFontWeight:400,startSymbolVisible:!0,endSymbolVisible:!1,textBackgroundVisible:!0,textBackgroundBorderWidth:1,textBackgroundBorderRadius:0,textBackgroundPadding:2}),getLightAnnotationHorizontalLine=()=>({...getDefaultAnnotationLine(),lineColor:"#BCC1CB",textColor:"#ffffff",textBackgroundColor:"#BCC1CB",textBackgroundBorderColor:"#BCC1CB"}),getLightAnnotationVerticalLine=()=>getLightAnnotationHorizontalLine(),getDefaultAnnotationArea=()=>({textFontSize:12,textFontWeight:400,textBackgroundVisible:!0,textBackgroundBorderWidth:1,textBackgroundBorderRadius:0,textBackgroundPadding:2,areaBorderWidth:0,areaBorderRadius:0,areaLineDash:[2,2],outerPadding:4}),getLightAnnotationArea=()=>({...getDefaultAnnotationArea(),textColor:"#ffffff",textBackgroundColor:"#BCC1CB",textBackgroundBorderColor:"#BCC1CB",areaColor:"#BCC1CB",areaColorOpacity:.12,areaBorderColor:"#BCC1CB"}),getLightAnnotation=()=>({annotationPoint:getLightAnnotationPoint(),annotationHorizontalLine:getLightAnnotationHorizontalLine(),annotationVerticalLine:getLightAnnotationHorizontalLine(),annotationArea:getLightAnnotationArea()}),getDarkAnnotationPoint=()=>({...getDefaultAnnotationPoint(),textColor:"#E2E3E6",textBackgroundColor:"#55595F",textBackgroundBorderColor:"#55595F"}),getDarkAnnotationHorizontalLine=()=>({...getDefaultAnnotationLine(),lineColor:"#55595F",textColor:"#E2E3E6",textBackgroundColor:"#55595F",textBackgroundBorderColor:"#55595F"}),getDarkAnnotationVerticalLine=()=>getDarkAnnotationHorizontalLine(),getDarkAnnotationArea=()=>({...getDefaultAnnotationArea(),textColor:"#E2E3E6",textBackgroundColor:"#55595F",textBackgroundBorderColor:"#55595F",areaColor:"#E2E3E6",areaColorOpacity:.15,areaBorderColor:"#E2E3E6"}),getDarkAnnotation=()=>({annotationPoint:getDarkAnnotationPoint(),annotationHorizontalLine:getDarkAnnotationHorizontalLine(),annotationVerticalLine:getDarkAnnotationHorizontalLine(),annotationArea:getDarkAnnotationArea()}),annotaion=null,getLightFunnelTransformTheme=()=>({backgroundColor:"#F6F7F9",textColor:"#737880"}),getDarkFunnelTransformTheme=()=>({backgroundColor:"#2A2D33",textColor:"#888C93"}),getLightHeatmapCellTheme=()=>({stroke:"#fff"}),getDarkHeatmapCellTheme=()=>({stroke:"#404349"}),getDefaultRegressionLine=()=>({lineWidth:2,textFontSize:12,textFontWeight:400}),getLightRegressionLine=()=>({kdeRegressionLine:{...getDefaultRegressionLine(),textColor:"#364159"},ecdfRegressionLine:{...getDefaultRegressionLine(),textColor:"#364159"},linearRegressionLine:{...getDefaultRegressionLine(),textColor:"#364159",confidenceIntervalOpacity:.2},lowessRegressionLine:{...getDefaultRegressionLine(),textColor:"#364159",confidenceIntervalOpacity:.2},polynomialRegressionLine:{...getDefaultRegressionLine(),textColor:"#364159",confidenceIntervalOpacity:.2},logisticRegressionLine:{...getDefaultRegressionLine(),textColor:"#364159",confidenceIntervalOpacity:.2}}),getDarkRegressionLine=()=>({kdeRegressionLine:{...getDefaultRegressionLine(),textColor:"#FFFFFF"},ecdfRegressionLine:{...getDefaultRegressionLine(),textColor:"#FFFFFF"},linearRegressionLine:{...getDefaultRegressionLine(),textColor:"#FFFFFF",confidenceIntervalOpacity:.2},lowessRegressionLine:{...getDefaultRegressionLine(),textColor:"#FFFFFF",confidenceIntervalOpacity:.2},polynomialRegressionLine:{...getDefaultRegressionLine(),textColor:"#FFFFFF",confidenceIntervalOpacity:.2},logisticRegressionLine:{...getDefaultRegressionLine(),textColor:"#FFFFFF",confidenceIntervalOpacity:.2}}),getLightBoxPlotStyle=()=>({boxBorderColor:"#e3e5eb"}),getDarkBoxPlotStyle=()=>({boxBorderColor:"#4b4e53"}),getLightOutlierStyle=()=>({pointColor:"#8F959E"}),getDarkOutlierStyle=()=>({pointColor:"#36393e"}),lightTheme=()=>{let e=getLightLinearAxis(),t=getLightBandAxis(),n={...t,labelAutoHide:!1,labelAutoHideGap:1,labelAutoLimit:!1,labelAutoLimitLength:void 0,labelAutoRotate:!1,labelAutoRotateAngleRange:[0,-45,-90]},a=getLightCrosshairLine(),i=getLightCrosshairRect(),o={backgroundColor:"transparent",color:getLightColor(),label:getLightLabel(),legend:getLightLegend(),tooltip:getLightTooltip()},r=getLightTableConfig();return{config:{table:r,pivotTable:r,line:{...o,xAxis:t,yAxis:e,crosshairLine:a,pivotGrid:getLightPivotChartGridConfig(),annotation:getLightAnnotation()},column:{...o,xAxis:t,yAxis:e,crosshairRect:i,stackCornerRadius:[4,4,0,0],pivotGrid:getLightPivotChartGridConfig(),annotation:getLightAnnotation(),regressionLine:getLightRegressionLine()},columnParallel:{...o,xAxis:t,yAxis:e,crosshairRect:i,stackCornerRadius:[4,4,0,0],pivotGrid:getLightPivotChartGridConfig(),annotation:getLightAnnotation()},columnPercent:{...o,xAxis:t,yAxis:{...e},crosshairRect:i,stackCornerRadius:[4,4,0,0],pivotGrid:getLightPivotChartGridConfig(),annotation:getLightAnnotation()},bar:{...o,xAxis:e,yAxis:n,crosshairRect:i,stackCornerRadius:[0,4,4,0],pivotGrid:getLightPivotChartGridConfig(),annotation:getLightAnnotation()},barParallel:{...o,xAxis:e,yAxis:n,crosshairRect:i,stackCornerRadius:[0,4,4,0],pivotGrid:getLightPivotChartGridConfig(),annotation:getLightAnnotation()},barPercent:{...o,xAxis:{...e},yAxis:n,crosshairRect:i,stackCornerRadius:[0,4,4,0],pivotGrid:getLightPivotChartGridConfig(),annotation:getLightAnnotation()},area:{...o,xAxis:t,yAxis:e,crosshairLine:a,pivotGrid:getLightPivotChartGridConfig(),annotation:getLightAnnotation()},areaPercent:{...o,xAxis:t,yAxis:{...e},crosshairLine:a,pivotGrid:getLightPivotChartGridConfig(),annotation:getLightAnnotation()},scatter:{...o,crosshairLine:a,sizeRange:[8,24],xAxis:{...e,line:{...e.line,visible:!0}},yAxis:{...e,line:{...e.line,visible:!0}},label:{...o.label,showValue:!1,showValuePercent:!1},pivotGrid:getLightPivotChartGridConfig(),annotation:getLightAnnotation(),regressionLine:getLightRegressionLine()},dualAxis:{...o,xAxis:t,primaryYAxis:e,secondaryYAxis:{...e,grid:{visible:!1}},dualChartType:{primary:"column",secondary:"line"},crosshairRect:i,pivotGrid:getLightPivotChartGridConfig(),annotation:getLightAnnotation()},pie:{...o,label:{...o.label,showValuePercent:!0,labelLayout:"arc",showDimension:!0},pivotGrid:getLightPivotChartGridConfig()},donut:{...o,label:{...o.label,showValuePercent:!0,labelLayout:"arc",showDimension:!0},pivotGrid:getLightPivotChartGridConfig()},radar:{...o,pivotGrid:getLightPivotChartGridConfig()},rose:{...o,label:{...o.label,showValuePercent:!0,showDimension:!0},pivotGrid:getLightPivotChartGridConfig()},roseParallel:{...o,label:{...o.label,showValuePercent:!0,showDimension:!0},pivotGrid:getLightPivotChartGridConfig()},funnel:{...o,transform:getLightFunnelTransformTheme(),pivotGrid:getLightPivotChartGridConfig()},heatmap:{...o,label:{...o.label,labelColorSmartInvert:!0},cell:getLightHeatmapCellTheme(),pivotGrid:getLightPivotChartGridConfig()},histogram:{...o,xAxis:e,yAxis:e,crosshairRect:i,pivotGrid:getLightPivotChartGridConfig(),annotation:getLightAnnotation(),regressionLine:getLightRegressionLine()},boxPlot:{...o,xAxis:e,yAxis:e,crosshairRect:i,pivotGrid:getLightPivotChartGridConfig(),annotation:getLightAnnotation(),boxPlotStyle:getLightBoxPlotStyle(),outlierStyle:getLightOutlierStyle()}}}},darkTheme=()=>{let e=getDarkLinearAxis(),t=getDarkBandAxis(),n={...t,labelAutoHide:!1,labelAutoHideGap:1,labelAutoLimit:!1,labelAutoLimitLength:void 0,labelAutoRotate:!1,labelAutoRotateAngleRange:[0,-45,-90]},a=getDarkCrosshairLine(),i=getDarkCrosshairRect(),o={backgroundColor:"transparent",color:getDarkColor(),label:getDarkLabel(),legend:getDarkLegend(),tooltip:getDarkTooltip()},r=getDarkTableConfig();return{config:{table:r,pivotTable:r,line:{...o,xAxis:t,yAxis:e,crosshairLine:a,pivotGrid:getDarkPivotChartGridConfig(),annotation:getDarkAnnotation()},column:{...o,xAxis:t,yAxis:e,crosshairRect:i,stackCornerRadius:[4,4,0,0],pivotGrid:getDarkPivotChartGridConfig(),annotation:getDarkAnnotation(),regressionLine:getDarkRegressionLine()},columnParallel:{...o,xAxis:t,yAxis:e,crosshairRect:i,stackCornerRadius:[4,4,0,0],pivotGrid:getDarkPivotChartGridConfig(),annotation:getDarkAnnotation()},columnPercent:{...o,xAxis:t,yAxis:e,crosshairRect:i,stackCornerRadius:[4,4,0,0],pivotGrid:getDarkPivotChartGridConfig(),annotation:getDarkAnnotation()},bar:{...o,xAxis:e,yAxis:n,crosshairRect:i,stackCornerRadius:[0,4,4,0],pivotGrid:getDarkPivotChartGridConfig(),annotation:getDarkAnnotation()},barParallel:{...o,xAxis:e,yAxis:n,crosshairRect:i,stackCornerRadius:[0,4,4,0],pivotGrid:getDarkPivotChartGridConfig(),annotation:getDarkAnnotation()},barPercent:{...o,xAxis:e,yAxis:n,crosshairRect:i,stackCornerRadius:[0,4,4,0],pivotGrid:getDarkPivotChartGridConfig(),annotation:getDarkAnnotation()},area:{...o,xAxis:t,yAxis:e,crosshairLine:a,pivotGrid:getDarkPivotChartGridConfig(),annotation:getDarkAnnotation()},areaPercent:{...o,xAxis:t,yAxis:e,crosshairLine:a,pivotGrid:getDarkPivotChartGridConfig(),annotation:getDarkAnnotation()},scatter:{...o,crosshairLine:a,sizeRange:[8,24],xAxis:{...e,line:{...e.line,visible:!0}},yAxis:{...e,line:{...e.line,visible:!0}},label:{...o.label,showValue:!1,showValuePercent:!1},pivotGrid:getDarkPivotChartGridConfig(),annotation:getDarkAnnotation(),regressionLine:getDarkRegressionLine()},dualAxis:{...o,xAxis:t,primaryYAxis:e,secondaryYAxis:{...e,grid:{visible:!1}},dualChartType:{primary:"column",secondary:"line"},crosshairRect:i,pivotGrid:getDarkPivotChartGridConfig(),annotation:getDarkAnnotation()},pie:{...o,label:{...o.label,showValuePercent:!0,labelLayout:"arc",showDimension:!0},pivotGrid:getDarkPivotChartGridConfig()},donut:{...o,label:{...o.label,showValuePercent:!0,labelLayout:"arc",showDimension:!0},pivotGrid:getDarkPivotChartGridConfig()},radar:{...o,pivotGrid:getDarkPivotChartGridConfig()},rose:{...o,label:{...o.label,showValuePercent:!0,showDimension:!0},pivotGrid:getDarkPivotChartGridConfig()},roseParallel:{...o,label:{...o.label,showValuePercent:!0,showDimension:!0},pivotGrid:getDarkPivotChartGridConfig()},funnel:{...o,transform:getDarkFunnelTransformTheme(),pivotGrid:getDarkPivotChartGridConfig()},heatmap:{...o,label:{...o.label,labelColorSmartInvert:!0},cell:getDarkHeatmapCellTheme(),pivotGrid:getDarkPivotChartGridConfig()},histogram:{...o,xAxis:e,yAxis:e,crosshairRect:i,pivotGrid:getDarkPivotChartGridConfig(),annotation:getDarkAnnotation(),regressionLine:getDarkRegressionLine()},boxPlot:{...o,xAxis:t,yAxis:e,crosshairRect:i,pivotGrid:getDarkPivotChartGridConfig(),annotation:getDarkAnnotation(),boxPlotStyle:getDarkBoxPlotStyle(),outlierStyle:getDarkOutlierStyle()}}}},registerCustomTheme=(e,t)=>{let n="function"==typeof t?t({lightTheme:lightTheme(),darkTheme:darkTheme()}):t;Builder._themeMap[e]=n},registerLightTheme=()=>{registerCustomTheme("light",lightTheme())},registerDarkTheme=()=>{registerCustomTheme("dark",darkTheme())},registerAll=()=>{registerTable(),registerPivotTable(),registerLine(),registerColumn(),registerColumnParallel(),registerColumnPercent(),registerBar(),registerBarParallel(),registerBarPercent(),registerArea(),registerAreaPercent(),registerScatter(),registerDualAxis(),registerPie(),registerDonut(),registerRose(),registerRoseParallel(),registerRadar(),registerFunnel(),registerHeatmap(),registerBoxPlot(),registerHistogram(),registerLightTheme(),registerDarkTheme()},updateAdvanced=(e,t)=>{Builder._customAdvancedPipe[e]=t},updateSpec=(e,t)=>{Builder._customSpecPipe[e]=t},external_zod_namespaceObject=require("zod"),zChartType=external_zod_namespaceObject.z.enum(["table","pivotTable","line","column","columnPercent","columnParallel","bar","barPercent","barParallel","area","areaPercent","scatter","dualAxis","rose","roseParallel","pie","donut","radar","funnel","heatmap","boxPlot","histogram"]),zDualChartType=external_zod_namespaceObject.z.object({primary:external_zod_namespaceObject.z.enum(["line","column","columnParallel","area","scatter"]).default("column"),secondary:external_zod_namespaceObject.z.enum(["line","column","columnParallel","area","scatter"]).default("line")}),zDatum=external_zod_namespaceObject.z.record(external_zod_namespaceObject.z.string().or(external_zod_namespaceObject.z.number()),external_zod_namespaceObject.z.any()),zDataset=external_zod_namespaceObject.z.array(zDatum),zDimension=external_zod_namespaceObject.z.object({id:external_zod_namespaceObject.z.string(),alias:external_zod_namespaceObject.z.string().optional(),encoding:external_zod_namespaceObject.z.enum(["xAxis","yAxis","angle","color","detail","tooltip","label","row","column"]).optional()}),zDimensionGroup=external_zod_namespaceObject.z.object({id:external_zod_namespaceObject.z.string(),alias:external_zod_namespaceObject.z.string().optional(),get children(){return external_zod_namespaceObject.z.array(zDimensionGroup.or(zDimension)).optional()}}),zDimensions=external_zod_namespaceObject.z.array(zDimension),zDimensionTree=external_zod_namespaceObject.z.array(zDimensionGroup.or(zDimension)),zNumFormat=external_zod_namespaceObject.z.object({type:external_zod_namespaceObject.z.enum(["number","percent","permille","scientific"]).default("number").optional(),ratio:external_zod_namespaceObject.z.number().default(1).optional(),symbol:external_zod_namespaceObject.z.string().default("").optional(),thousandSeparator:external_zod_namespaceObject.z.boolean().default(!1).optional(),prefix:external_zod_namespaceObject.z.string().default("").optional(),suffix:external_zod_namespaceObject.z.string().default("").optional(),fractionDigits:external_zod_namespaceObject.z.number().default(2).optional(),significantDigits:external_zod_namespaceObject.z.number().default(0).optional(),roundingPriority:external_zod_namespaceObject.z.enum(["morePrecision","lessPrecision"]).default("morePrecision").optional(),roundingMode:external_zod_namespaceObject.z.enum(["floor","ceil","halfEven","expand","trunc","halfFloor","halfCeil","halfExpand","halfTrunc"]).default("halfCeil").optional()}).optional(),zMeasure=external_zod_namespaceObject.z.object({id:external_zod_namespaceObject.z.string(),alias:external_zod_namespaceObject.z.string().optional(),autoFormat:external_zod_namespaceObject.z.boolean().optional(),numFormat:zNumFormat.optional(),format:zNumFormat.optional(),encoding:external_zod_namespaceObject.z.enum(["primaryYAxis","secondaryYAxis","xAxis","yAxis","angle","radius","size","color","label","tooltip","detail","column","value","q1","q3","min","max","median","outliers","x0","x1"]).optional(),parentId:external_zod_namespaceObject.z.string().optional()}),zMeasureGroup=external_zod_namespaceObject.z.object({id:external_zod_namespaceObject.z.string(),alias:external_zod_namespaceObject.z.string().optional(),get children(){return external_zod_namespaceObject.z.array(zMeasureGroup.or(zMeasure)).optional()}}),zMeasures=external_zod_namespaceObject.z.array(zMeasure),zMeasureTree=external_zod_namespaceObject.z.array(zMeasureGroup.or(zMeasure)),zDualMeasure=external_zod_namespaceObject.z.object({id:external_zod_namespaceObject.z.string(),primaryMeasures:external_zod_namespaceObject.z.array(zMeasure.omit({encoding:!0,parentId:!0})).or(zMeasure.omit({parentId:!0,encoding:!0})).optional(),secondaryMeasures:external_zod_namespaceObject.z.array(zMeasure).or(zMeasure).optional()}),zDualMeasures=external_zod_namespaceObject.z.array(zDualMeasure),zScatterMeasure=external_zod_namespaceObject.z.object({id:external_zod_namespaceObject.z.string(),xMeasures:external_zod_namespaceObject.z.array(zMeasure.omit({parentId:!0,encoding:!0})).or(zMeasure).optional(),yMeasures:external_zod_namespaceObject.z.array(zMeasure.omit({parentId:!0,encoding:!0})).or(zMeasure).optional()}),zScatterMeasures=external_zod_namespaceObject.z.array(zScatterMeasure),zFoldInfo=external_zod_namespaceObject.z.object({foldMap:external_zod_namespaceObject.z.record(external_zod_namespaceObject.z.string(),external_zod_namespaceObject.z.string().or(external_zod_namespaceObject.z.undefined())),statistics:external_zod_namespaceObject.z.object({min:external_zod_namespaceObject.z.number(),max:external_zod_namespaceObject.z.number(),sum:external_zod_namespaceObject.z.number(),count:external_zod_namespaceObject.z.number(),colorMin:external_zod_namespaceObject.z.number(),colorMax:external_zod_namespaceObject.z.number()}),measureId:external_zod_namespaceObject.z.string(),measureName:external_zod_namespaceObject.z.string(),measureValue:external_zod_namespaceObject.z.string()}),zUnfoldInfo=external_zod_namespaceObject.z.object({encodingX:external_zod_namespaceObject.z.string(),encodingY:external_zod_namespaceObject.z.string(),encodingColor:external_zod_namespaceObject.z.string(),encodingColorId:external_zod_namespaceObject.z.string(),encodingDetail:external_zod_namespaceObject.z.string(),encodingAngle:external_zod_namespaceObject.z.string(),colorItems:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()),colorIdMap:external_zod_namespaceObject.z.record(external_zod_namespaceObject.z.string(),external_zod_namespaceObject.z.object({id:external_zod_namespaceObject.z.string(),alias:external_zod_namespaceObject.z.string()}))}),zDatasetReshapeInfo=external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.object({id:external_zod_namespaceObject.z.string(),index:external_zod_namespaceObject.z.number(),foldInfo:zFoldInfo,foldInfoList:external_zod_namespaceObject.z.array(zFoldInfo).nullish(),unfoldInfo:zUnfoldInfo})),zEncoding=external_zod_namespaceObject.z.object({x:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),y:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),angle:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),radius:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),detail:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),color:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),size:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),tooltip:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),label:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),row:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),column:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),group:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish().describe("已弃用, 请使用颜色替代"),value:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),q1:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),q3:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),median:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),min:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),max:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),outliers:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),x0:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),x1:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish()}),EncodingEnum={x:"x",y:"y",angle:"angle",radius:"radius",detail:"detail",color:"color",size:"size",tooltip:"tooltip",label:"label",row:"row",column:"column",group:"group"},zDimensionEncoding=external_zod_namespaceObject.z.enum(["xAxis","yAxis","angle","color","detail","tooltip","label","row","column"]),DimensionEncodingEnum={xAxis:"xAxis",yAxis:"yAxis",angle:"angle",color:"color",detail:"detail",tooltip:"tooltip",label:"label",row:"row",column:"column"},zMeasureEncoding=external_zod_namespaceObject.z.enum(["primaryYAxis","secondaryYAxis","xAxis","yAxis","angle","radius","size","color","detail","column","label","tooltip"]),MeasureEncodingEnum={primaryYAxis:"primaryYAxis",secondaryYAxis:"secondaryYAxis",xAxis:"xAxis",yAxis:"yAxis",angle:"angle",radius:"radius",size:"size",color:"color",detail:"detail",column:"column",label:"label",tooltip:"tooltip"},zBackgroundColor=external_zod_namespaceObject.z.string().default("transparent").nullish(),zTableConfig=external_zod_namespaceObject.z.object({backgroundColor:zBackgroundColor.nullish(),borderColor:external_zod_namespaceObject.z.string().nullish(),bodyFontSize:external_zod_namespaceObject.z.number().nullish(),bodyFontColor:external_zod_namespaceObject.z.string().nullish(),bodyBackgroundColor:external_zod_namespaceObject.z.string().nullish(),hoverBodyBackgroundColor:external_zod_namespaceObject.z.string().nullish(),hoverBodyInlineBackgroundColor:external_zod_namespaceObject.z.string().nullish(),headerFontSize:external_zod_namespaceObject.z.number().nullish(),headerFontColor:external_zod_namespaceObject.z.string().nullish(),headerBackgroundColor:external_zod_namespaceObject.z.string().nullish(),hoverHeaderBackgroundColor:external_zod_namespaceObject.z.string().nullish(),hoverHeaderInlineBackgroundColor:external_zod_namespaceObject.z.string().nullish(),selectedBorderColor:external_zod_namespaceObject.z.string().nullish(),selectedBackgroundColor:external_zod_namespaceObject.z.string().nullish()}),zXBandAxis=external_zod_namespaceObject.z.object({visible:external_zod_namespaceObject.z.boolean().default(!0).nullish(),labelAutoHide:external_zod_namespaceObject.z.boolean().default(!0).nullish(),labelAutoHideGap:external_zod_namespaceObject.z.number().default(0).nullish(),labelAutoRotate:external_zod_namespaceObject.z.boolean().default(!0).nullish(),labelAutoRotateAngleRange:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.number()).default([0,-45,-90]).nullish(),labelAutoLimit:external_zod_namespaceObject.z.boolean().default(!0).nullish(),labelAutoLimitLength:external_zod_namespaceObject.z.number().default(100).nullish(),label:external_zod_namespaceObject.z.object({visible:external_zod_namespaceObject.z.boolean().default(!0).nullish(),labelColor:external_zod_namespaceObject.z.string().default("#797B85").nullish(),labelFontSize:external_zod_namespaceObject.z.number().default(12).nullish(),labelFontWeight:external_zod_namespaceObject.z.number().default(400).nullish(),labelAngle:external_zod_namespaceObject.z.number().default(0).nullish()}).nullish(),line:external_zod_namespaceObject.z.object({visible:external_zod_namespaceObject.z.boolean().default(!0).nullish(),lineColor:external_zod_namespaceObject.z.string().default("rgba(54, 65, 89, 0.30)").nullish(),lineWidth:external_zod_namespaceObject.z.number().default(1).nullish()}).nullish(),tick:external_zod_namespaceObject.z.object({visible:external_zod_namespaceObject.z.boolean().default(!0).nullish(),tickInside:external_zod_namespaceObject.z.boolean().default(!1).nullish(),tickColor:external_zod_namespaceObject.z.string().default("rgba(54, 65, 89, 0.30)").nullish(),tickSize:external_zod_namespaceObject.z.number().default(4).nullish()}).nullish(),title:external_zod_namespaceObject.z.object({visible:external_zod_namespaceObject.z.boolean().default(!1).nullish(),titleText:external_zod_namespaceObject.z.string().default("").nullish(),titleColor:external_zod_namespaceObject.z.string().default("#646A73").nullish(),titleFontSize:external_zod_namespaceObject.z.number().default(12).nullish(),titleFontWeight:external_zod_namespaceObject.z.number().default(400).nullish()}).nullish(),grid:external_zod_namespaceObject.z.object({visible:external_zod_namespaceObject.z.boolean().default(!1).nullish(),gridColor:external_zod_namespaceObject.z.string().default("rgba(54, 65, 89, 0.15)").nullish(),gridWidth:external_zod_namespaceObject.z.number().default(.5).nullish(),gridLineDash:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.number()).nullish()}).nullish()}),zYBandAxis=zXBandAxis,zXLinearAxis=external_zod_namespaceObject.z.object({visible:external_zod_namespaceObject.z.boolean().default(!0).nullish(),min:external_zod_namespaceObject.z.number().nullish(),max:external_zod_namespaceObject.z.number().nullish(),nice:external_zod_namespaceObject.z.boolean().default(!0).nullish(),zero:external_zod_namespaceObject.z.boolean().default(!0).nullish(),log:external_zod_namespaceObject.z.boolean().default(!1).nullish(),logBase:external_zod_namespaceObject.z.number().default(10).nullish(),inverse:external_zod_namespaceObject.z.boolean().default(!1).nullish(),numFormat:zNumFormat.nullish(),label:external_zod_namespaceObject.z.object({visible:external_zod_namespaceObject.z.boolean().default(!0).nullish(),labelColor:external_zod_namespaceObject.z.string().default("#797B85").nullish(),labelFontSize:external_zod_namespaceObject.z.number().default(12).nullish(),labelFontWeight:external_zod_namespaceObject.z.number().default(400).nullish(),labelAngle:external_zod_namespaceObject.z.number().default(0).nullish()}).nullish(),line:external_zod_namespaceObject.z.object({visible:external_zod_namespaceObject.z.boolean().default(!0).nullish(),lineColor:external_zod_namespaceObject.z.string().default("rgba(54, 65, 89, 0.30)").nullish(),lineWidth:external_zod_namespaceObject.z.number().default(1).nullish()}).nullish(),tick:external_zod_namespaceObject.z.object({visible:external_zod_namespaceObject.z.boolean().default(!0).nullish(),tickInside:external_zod_namespaceObject.z.boolean().default(!1).nullish(),tickColor:external_zod_namespaceObject.z.string().default("rgba(54, 65, 89, 0.30)").nullish(),tickSize:external_zod_namespaceObject.z.number().default(4).nullish()}).nullish(),title:external_zod_namespaceObject.z.object({visible:external_zod_namespaceObject.z.boolean().default(!1).nullish(),titleText:external_zod_namespaceObject.z.string().default("").nullish(),titleColor:external_zod_namespaceObject.z.string().default("#646A73").nullish(),titleFontSize:external_zod_namespaceObject.z.number().default(12).nullish(),titleFontWeight:external_zod_namespaceObject.z.number().default(400).nullish()}).nullish(),grid:external_zod_namespaceObject.z.object({visible:external_zod_namespaceObject.z.boolean().default(!1).nullish(),gridColor:external_zod_namespaceObject.z.string().default("rgba(54, 65, 89, 0.15)").nullish(),gridWidth:external_zod_namespaceObject.z.number().default(.5).nullish(),gridLineDash:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.number()).nullish()}).nullish()}),zYLinearAxis=zXLinearAxis,zCrosshairLine=external_zod_namespaceObject.z.object({visible:external_zod_namespaceObject.z.boolean().nullish(),lineColor:external_zod_namespaceObject.z.string().nullish(),labelColor:external_zod_namespaceObject.z.string().nullish(),labelVisible:external_zod_namespaceObject.z.boolean().nullish(),labelBackgroundColor:external_zod_namespaceObject.z.string().nullish(),lineDash:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.number()).nullish()}),zCrosshairRect=external_zod_namespaceObject.z.object({visible:external_zod_namespaceObject.z.boolean().nullish(),rectColor:external_zod_namespaceObject.z.string().nullish(),labelColor:external_zod_namespaceObject.z.string().nullish(),labelVisible:external_zod_namespaceObject.z.boolean().nullish(),labelBackgroundColor:external_zod_namespaceObject.z.string().nullish()}),zColor=external_zod_namespaceObject.z.object({colorScheme:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),linearColorScheme:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish(),colorMapping:external_zod_namespaceObject.z.record(external_zod_namespaceObject.z.string(),external_zod_namespaceObject.z.string()).nullish()}),zLinearColor=external_zod_namespaceObject.z.object({linearColorScheme:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string()).nullish()}),zSelector=external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.string(),external_zod_namespaceObject.z.number(),external_zod_namespaceObject.z.object({field:external_zod_namespaceObject.z.string(),operator:external_zod_namespaceObject.z.enum(["=","==","!=",">","<",">=","<=","between"]).nullish(),op:external_zod_namespaceObject.z.enum(["=","==","!=",">","<",">=","<=","between"]).nullish(),value:external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.string(),external_zod_namespaceObject.z.number(),external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.string(),external_zod_namespaceObject.z.number()]))])}),external_zod_namespaceObject.z.object({field:external_zod_namespaceObject.z.string(),operator:external_zod_namespaceObject.z.enum(["in","not in"]).nullish(),op:external_zod_namespaceObject.z.enum(["in","not in"]).nullish(),value:external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.string(),external_zod_namespaceObject.z.number(),external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.string(),external_zod_namespaceObject.z.number()]))])})]),zSelectors=external_zod_namespaceObject.z.array(zSelector),zLabel=external_zod_namespaceObject.z.object({enable:external_zod_namespaceObject.z.boolean().nullish(),wrap:external_zod_namespaceObject.z.boolean().nullish(),showValue:external_zod_namespaceObject.z.boolean().nullish(),showValuePercent:external_zod_namespaceObject.z.boolean().nullish(),showDimension:external_zod_namespaceObject.z.boolean().nullish(),autoFormat:external_zod_namespaceObject.z.boolean().nullish(),numFormat:zNumFormat.nullish(),labelFontSize:external_zod_namespaceObject.z.number().nullish(),labelFontWeight:external_zod_namespaceObject.z.number().or(external_zod_namespaceObject.z.string()).nullish(),labelBackgroundColor:external_zod_namespaceObject.z.string().nullish(),labelColor:external_zod_namespaceObject.z.string().nullish(),labelColorSmartInvert:external_zod_namespaceObject.z.boolean().nullish(),labelPosition:external_zod_namespaceObject.z.string().nullish(),labelOverlap:external_zod_namespaceObject.z.boolean().nullish(),selector:external_zod_namespaceObject.z.union([zSelector,zSelectors]).nullish()}),zLegend=external_zod_namespaceObject.z.object({enable:external_zod_namespaceObject.z.boolean().default(!0).nullish(),border:external_zod_namespaceObject.z.boolean().default(!0).nullish(),maxSize:external_zod_namespaceObject.z.number().default(1).nullish(),shapeType:external_zod_namespaceObject.z.enum(["circle","cross","diamond","square","arrow","arrow2Left","arrow2Right","wedge","thinTriangle","triangle","triangleUp","triangleDown","triangleRight","triangleLeft","stroke","star","wye","rect","arrowLeft","arrowRight","rectRound","roundLine"]).default("rectRound").nullish(),position:external_zod_namespaceObject.z.enum(["left","leftTop","leftBottom","lt","lb","top","topLeft","topRight","tl","tr","right","rightTop","rightBottom","rt","rb","bottom","bottomLeft","bottomRight","bl","br"]).default("bottom").nullish(),labelColor:external_zod_namespaceObject.z.string().default("#fff").nullish(),pagerIconColor:external_zod_namespaceObject.z.string().nullish(),pagerIconDisableColor:external_zod_namespaceObject.z.string().nullish(),labelFontSize:external_zod_namespaceObject.z.number().default(12).nullish(),labelFontWeight:external_zod_namespaceObject.z.number().or(external_zod_namespaceObject.z.string()).default(400).nullish()}),zColorLegend=external_zod_namespaceObject.z.object({position:external_zod_namespaceObject.z.enum(["left","leftTop","leftBottom","lt","lb","top","topLeft","topRight","tl","tr","right","rightTop","rightBottom","rt","rb","bottom","bottomLeft","bottomRight","bl","br"]).default("bottom").nullish(),enable:external_zod_namespaceObject.z.boolean().default(!0).nullish()}),zTooltip=external_zod_namespaceObject.z.object({enable:external_zod_namespaceObject.z.boolean().default(!0).nullish(),borderColor:external_zod_namespaceObject.z.string().nullish(),borderWidth:external_zod_namespaceObject.z.number().nullish(),borderRadius:external_zod_namespaceObject.z.number().nullish(),padding:external_zod_namespaceObject.z.number().or(external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.number()).length(4)).nullish(),backgroundColor:external_zod_namespaceObject.z.string().nullish(),lineHeight:external_zod_namespaceObject.z.number().nullish(),fontSize:external_zod_namespaceObject.z.number().nullish(),lineSpace:external_zod_namespaceObject.z.number().nullish(),keyColor:external_zod_namespaceObject.z.string().nullish(),valueColor:external_zod_namespaceObject.z.string().nullish(),titleColor:external_zod_namespaceObject.z.string().nullish()}),zAnnotationPoint=external_zod_namespaceObject.z.object({selector:external_zod_namespaceObject.z.union([zSelector,zSelectors]).nullish(),text:external_zod_namespaceObject.z.string().or(external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string())).nullish(),textColor:external_zod_namespaceObject.z.string().default("#ffffff").nullish(),textFontSize:external_zod_namespaceObject.z.number().default(12).nullish(),textFontWeight:external_zod_namespaceObject.z.number().default(400).nullish(),textAlign:external_zod_namespaceObject.z.enum(["left","right","center"]).default("center").nullish(),textBaseline:external_zod_namespaceObject.z.enum(["top","middle","bottom"]).default("middle").nullish(),textBackgroundVisible:external_zod_namespaceObject.z.boolean().default(!0).nullish(),textBackgroundColor:external_zod_namespaceObject.z.string().default("#212121").nullish(),textBackgroundBorderColor:external_zod_namespaceObject.z.string().nullish(),textBackgroundBorderWidth:external_zod_namespaceObject.z.number().default(1).nullish(),textBackgroundBorderRadius:external_zod_namespaceObject.z.number().default(4).nullish(),textBackgroundPadding:external_zod_namespaceObject.z.number().nullish(),offsetY:external_zod_namespaceObject.z.number().default(0).nullish(),offsetX:external_zod_namespaceObject.z.number().default(0).nullish()}),zAnnotationHorizontalLine=external_zod_namespaceObject.z.object({selector:external_zod_namespaceObject.z.union([zSelector,zSelectors]).nullish(),yValue:external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.number(),external_zod_namespaceObject.z.string(),external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.number(),external_zod_namespaceObject.z.string()]))]).nullish(),text:external_zod_namespaceObject.z.string().or(external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string())).nullish(),textPosition:external_zod_namespaceObject.z.enum(["outsideStart","outsideEnd","outsideMiddle","insideStart","insideMiddle","insideEnd"]).default("insideEnd").nullish(),textColor:external_zod_namespaceObject.z.string().default("#ffffff").nullish(),textFontSize:external_zod_namespaceObject.z.number().default(12).nullish(),textFontWeight:external_zod_namespaceObject.z.number().default(400).nullish(),textAlign:external_zod_namespaceObject.z.enum(["left","right","center"]).default("right").nullish(),textBaseline:external_zod_namespaceObject.z.enum(["top","middle","bottom"]).default("top").nullish(),lineVisible:external_zod_namespaceObject.z.boolean().default(!0).nullish(),lineColor:external_zod_namespaceObject.z.string().default("#212121").nullish(),lineWidth:external_zod_namespaceObject.z.number().default(1).nullish(),lineStyle:external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.literal("solid"),external_zod_namespaceObject.z.literal("dashed"),external_zod_namespaceObject.z.literal("dotted")]).default("dashed").nullish(),textBackgroundVisible:external_zod_namespaceObject.z.boolean().default(!0).nullish(),textBackgroundColor:external_zod_namespaceObject.z.string().default("#212121").nullish(),textBackgroundBorderColor:external_zod_namespaceObject.z.string().default("#212121").nullish(),textBackgroundBorderRadius:external_zod_namespaceObject.z.number().default(4).nullish(),textBackgroundBorderWidth:external_zod_namespaceObject.z.number().default(1).nullish(),textBackgroundPadding:external_zod_namespaceObject.z.number().default(2).nullish()}),zAnnotationArea=external_zod_namespaceObject.z.object({selector:external_zod_namespaceObject.z.union([zSelector,zSelectors]).nullish(),textPosition:external_zod_namespaceObject.z.enum(["top","topRight","topLeft","bottom","bottomLeft","bottomRight","left","right"]).default("top").nullish(),text:external_zod_namespaceObject.z.string().or(external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string())).nullish(),textColor:external_zod_namespaceObject.z.string().default("#ffffff").nullish(),textFontSize:external_zod_namespaceObject.z.number().default(12).nullish(),textFontWeight:external_zod_namespaceObject.z.number().default(400).nullish(),textAlign:external_zod_namespaceObject.z.enum(["left","right","center"]).default("center").nullish(),textBaseline:external_zod_namespaceObject.z.enum(["top","middle","bottom"]).default("top").nullish(),textBackgroundVisible:external_zod_namespaceObject.z.boolean().default(!0).nullish(),textBackgroundColor:external_zod_namespaceObject.z.string().default("#191d24").nullish(),textBackgroundBorderColor:external_zod_namespaceObject.z.string().default("#191d24").nullish(),textBackgroundBorderWidth:external_zod_namespaceObject.z.number().default(1).nullish(),textBackgroundBorderRadius:external_zod_namespaceObject.z.number().default(4).nullish(),textBackgroundPadding:external_zod_namespaceObject.z.number().default(4).nullish(),areaColor:external_zod_namespaceObject.z.string().default("#888888").nullish(),areaColorOpacity:external_zod_namespaceObject.z.number().default(.15).nullish(),areaBorderColor:external_zod_namespaceObject.z.string().default("#888888").nullish(),areaBorderWidth:external_zod_namespaceObject.z.number().default(1).nullish(),areaBorderRadius:external_zod_namespaceObject.z.number().default(4).nullish(),areaLineDash:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.number()).nullish(),outerPadding:external_zod_namespaceObject.z.number().default(4).nullish()}),zAnnotationPointConfig=zAnnotationPoint.omit({selector:!0,text:!0}).partial(),zAnnotationHorizontalLineConfig=zAnnotationHorizontalLine.pick({lineColor:!0,lineWidth:!0,lineVisible:!0,lineStyle:!0,textBackgroundVisible:!0,textColor:!0,textFontSize:!0,textFontWeight:!0,textBackgroundColor:!0,textBackgroundBorderColor:!0,textBackgroundBorderWidth:!0,textBackgroundBorderRadius:!0,textBackgroundPadding:!0}).extend({endSymbolVisible:external_zod_namespaceObject.z.boolean().nullish(),endSymbolType:external_zod_namespaceObject.z.string().nullish(),endSymbolSize:external_zod_namespaceObject.z.number().nullish(),startSymbolVisible:external_zod_namespaceObject.z.boolean().nullish(),startSymbolType:external_zod_namespaceObject.z.string().nullish(),startSymbolSize:external_zod_namespaceObject.z.number().nullish()}).partial(),zAnnotationVerticalLineConfig=zAnnotationHorizontalLineConfig.clone(),zAnnotationAreaConfig=zAnnotationArea.pick({textColor:!0,textFontSize:!0,textFontWeight:!0,textBackgroundVisible:!0,textBackgroundColor:!0,textBackgroundBorderColor:!0,textBackgroundBorderWidth:!0,textBackgroundBorderRadius:!0,textBackgroundPadding:!0,areaColor:!0,areaColorOpacity:!0,areaBorderColor:!0,areaBorderWidth:!0,areaBorderRadius:!0,areaLineDash:!0,outerPadding:!0}).partial(),zAnnotationConfig=external_zod_namespaceObject.z.object({annotationPoint:zAnnotationPointConfig.nullish(),annotationHorizontalLine:zAnnotationHorizontalLineConfig.nullish(),annotationVerticalLine:zAnnotationVerticalLineConfig.nullish(),annotationArea:zAnnotationAreaConfig.nullish()}),zPivotChartGridConfig=external_zod_namespaceObject.z.object({borderColor:external_zod_namespaceObject.z.string().nullish(),bodyFontColor:external_zod_namespaceObject.z.string().nullish(),headerFontColor:external_zod_namespaceObject.z.string().nullish(),headerBackgroundColor:external_zod_namespaceObject.z.string().nullish(),hoverHeaderBackgroundColor:external_zod_namespaceObject.z.string().nullish(),hoverHeaderInlineBackgroundColor:external_zod_namespaceObject.z.string().nullish(),outlineBorderLineWidth:external_zod_namespaceObject.z.number().nullish(),frameCornerRadius:external_zod_namespaceObject.z.number().nullish(),minChartWidth:external_zod_namespaceObject.z.number().nullish(),minChartHeight:external_zod_namespaceObject.z.number().nullish(),titleFontColor:external_zod_namespaceObject.z.string().nullish(),titleFontSize:external_zod_namespaceObject.z.number().nullish(),titleFontWeight:external_zod_namespaceObject.z.string().nullish(),chartGridColor:external_zod_namespaceObject.z.string().nullish(),axisLabelColor:external_zod_namespaceObject.z.string().nullish()}),zDimensionLinkage=external_zod_namespaceObject.z.object({enable:external_zod_namespaceObject.z.boolean().nullish(),showTooltip:external_zod_namespaceObject.z.boolean().nullish(),showLabel:external_zod_namespaceObject.z.boolean().nullish()}),zLineConfig=external_zod_namespaceObject.z.object({backgroundColor:zBackgroundColor.nullish(),label:zLabel.nullish(),color:zColor.nullish(),tooltip:zTooltip.nullish(),legend:zLegend.nullish(),xAxis:zXBandAxis.nullish(),yAxis:zYLinearAxis.nullish(),crosshairLine:zCrosshairLine.nullish(),pivotGrid:zPivotChartGridConfig.nullish(),annotation:zAnnotationConfig.nullish(),dimensionLinkage:zDimensionLinkage.nullish()}),zStackCornerRadius=external_zod_namespaceObject.z.number().or(external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.number())).default([3,3,0,0]),zBarMaxWidth=external_zod_namespaceObject.z.number().or(external_zod_namespaceObject.z.string()),zBarGapInGroup=external_zod_namespaceObject.z.number().or(external_zod_namespaceObject.z.string()),zEcdfRegressionLine=external_zod_namespaceObject.z.object({enable:external_zod_namespaceObject.z.boolean().nullish(),color:external_zod_namespaceObject.z.string().nullish(),lineWidth:external_zod_namespaceObject.z.number().nullish(),lineDash:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.number()).nullish(),text:external_zod_namespaceObject.z.string().nullish(),textColor:external_zod_namespaceObject.z.string().nullish(),textFontSize:external_zod_namespaceObject.z.number().nullish(),textFontWeight:external_zod_namespaceObject.z.number().nullish()}),zKdeRegressionLine=zEcdfRegressionLine.extend({}),zLinearRegressionLine=zEcdfRegressionLine.extend({confidenceIntervalVisible:external_zod_namespaceObject.z.boolean().nullish(),confidenceIntervalColor:external_zod_namespaceObject.z.string().nullish(),confidenceIntervalOpacity:external_zod_namespaceObject.z.number().nullish()}),zLogisticRegressionLine=zLinearRegressionLine.extend({}),zLowessRegressionLine=zLinearRegressionLine.extend({}),zPolynomialRegressionLine=zLinearRegressionLine.extend({degree:external_zod_namespaceObject.z.number().nullish()}),zRegressionLine=external_zod_namespaceObject.z.object({ecdfRegressionLine:zEcdfRegressionLine.or(external_zod_namespaceObject.z.array(zEcdfRegressionLine)).nullish(),kdeRegressionLine:zKdeRegressionLine.or(external_zod_namespaceObject.z.array(zKdeRegressionLine)).nullish(),linearRegressionLine:zLinearRegressionLine.or(external_zod_namespaceObject.z.array(zLinearRegressionLine)).nullish(),lowessRegressionLine:zLowessRegressionLine.or(external_zod_namespaceObject.z.array(zLowessRegressionLine)).nullish(),polynomialRegressionLine:zPolynomialRegressionLine.or(external_zod_namespaceObject.z.array(zPolynomialRegressionLine)).nullish(),logisticRegressionLine:zLogisticRegressionLine.or(external_zod_namespaceObject.z.array(zLogisticRegressionLine)).nullish()}),zColumnParallelConfig=external_zod_namespaceObject.z.object({backgroundColor:zBackgroundColor.nullish(),label:zLabel.nullish(),color:zColor.nullish(),tooltip:zTooltip.nullish(),legend:zLegend.nullish(),xAxis:zXBandAxis.nullish(),yAxis:zYLinearAxis.nullish(),crosshairRect:zCrosshairRect.nullish(),stackCornerRadius:zStackCornerRadius.nullish(),barMaxWidth:zBarMaxWidth.nullish(),barGapInGroup:zBarGapInGroup.nullish(),pivotGrid:zPivotChartGridConfig.nullish(),annotation:zAnnotationConfig.nullish(),dimensionLinkage:zDimensionLinkage.nullish()}),zColumnConfig=zColumnParallelConfig.extend({regressionLine:zRegressionLine.nullish()}),zColumnPercentConfig=zColumnParallelConfig.extend({}),zBarConfig=external_zod_namespaceObject.z.object({backgroundColor:zBackgroundColor.nullish(),label:zLabel.nullish(),color:zColor.nullish(),tooltip:zTooltip.nullish(),legend:zLegend.nullish(),xAxis:zXLinearAxis.nullish(),yAxis:zYBandAxis.nullish(),crosshairRect:zCrosshairRect.nullish(),stackCornerRadius:zStackCornerRadius.nullish(),pivotGrid:zPivotChartGridConfig.nullish(),annotation:zAnnotationConfig.nullish(),dimensionLinkage:zDimensionLinkage.nullish()}),zBarParallelConfig=zBarConfig,zBarPercentConfig=zBarConfig,zAreaConfig=external_zod_namespaceObject.z.object({backgroundColor:zBackgroundColor.nullish(),label:zLabel.nullish(),color:zColor.nullish(),tooltip:zTooltip.nullish(),legend:zLegend.nullish(),xAxis:zXBandAxis.nullish(),yAxis:zYLinearAxis.nullish(),crosshairLine:zCrosshairLine.nullish(),pivotGrid:zPivotChartGridConfig.nullish(),annotation:zAnnotationConfig.nullish(),dimensionLinkage:zDimensionLinkage.nullish()}),zAreaPercentConfig=zAreaConfig,zScatterConfig=external_zod_namespaceObject.z.object({backgroundColor:zBackgroundColor.nullish(),label:zLabel.nullish(),color:zColor.nullish(),tooltip:zTooltip.nullish(),legend:zLegend.nullish(),xAxis:zXLinearAxis.nullish(),yAxis:zYLinearAxis.nullish(),crosshairLine:zCrosshairLine.nullish(),size:external_zod_namespaceObject.z.number().or(external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.number())).nullish(),sizeRange:external_zod_namespaceObject.z.number().or(external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.number())).nullish(),pivotGrid:zPivotChartGridConfig.nullish(),annotation:zAnnotationConfig.nullish(),regressionLine:zRegressionLine.nullish(),dimensionLinkage:zDimensionLinkage.nullish()}),zDualAxisConfig=external_zod_namespaceObject.z.object({backgroundColor:zBackgroundColor.nullish(),label:zLabel.nullish(),color:zColor.nullish(),tooltip:zTooltip.nullish(),legend:zLegend.nullish(),dualChartType:external_zod_namespaceObject.z.array(zDualChartType).or(zDualChartType).nullish(),alignTicks:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.boolean()).or(external_zod_namespaceObject.z.boolean()).nullish(),primaryYAxis:external_zod_namespaceObject.z.array(zYLinearAxis).or(zYLinearAxis).nullish(),secondaryYAxis:external_zod_namespaceObject.z.array(zYLinearAxis).or(zYLinearAxis).nullish(),xAxis:zXBandAxis.nullish(),crosshairRect:zCrosshairRect.nullish(),pivotGrid:zPivotChartGridConfig.nullish(),annotation:zAnnotationConfig.nullish(),dimensionLinkage:zDimensionLinkage.nullish()}),zPieLabel=zLabel.extend({labelLayout:external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.literal("arc"),external_zod_namespaceObject.z.literal("labelLine"),external_zod_namespaceObject.z.literal("edge")]).nullish()}),zPieConfig=external_zod_namespaceObject.z.object({backgroundColor:zBackgroundColor.nullish(),label:zPieLabel.nullish(),color:zColor.nullish(),tooltip:zTooltip.nullish(),legend:zLegend.nullish(),pivotGrid:zPivotChartGridConfig.nullish(),cornerRadius:external_zod_namespaceObject.z.number().nullish()}),zDonutConfig=zPieConfig,zRadarConfig=zPieConfig,zRoseConfig=external_zod_namespaceObject.z.object({backgroundColor:zBackgroundColor.nullish(),label:zPieLabel.nullish(),color:zColor.nullish(),tooltip:zTooltip.nullish(),legend:zLegend.nullish(),pivotGrid:zPivotChartGridConfig.nullish()}),zRoseParallelConfig=zRoseConfig,zFunnelTransform=external_zod_namespaceObject.z.object({backgroundColor:external_zod_namespaceObject.z.string().nullish(),textColor:external_zod_namespaceObject.z.string().nullish()}),zFunnelConfig=external_zod_namespaceObject.z.object({backgroundColor:zBackgroundColor.nullish(),label:zLabel.nullish(),color:zColor.nullish(),tooltip:zTooltip.nullish(),legend:zLegend.nullish(),pivotGrid:zPivotChartGridConfig.nullish(),transform:zFunnelTransform.nullish()}),zHeatmapCell=external_zod_namespaceObject.z.object({stroke:external_zod_namespaceObject.z.string().nullish(),lineWidth:external_zod_namespaceObject.z.number().nullish(),cornerRadius:external_zod_namespaceObject.z.number().nullish()}),zHeatmapConfig=external_zod_namespaceObject.z.object({backgroundColor:zBackgroundColor.nullish(),label:zLabel.nullish(),color:zColor.nullish(),tooltip:zTooltip.nullish(),legend:zLegend.nullish(),pivotGrid:zPivotChartGridConfig.nullish(),cell:zHeatmapCell.nullish()}),zPivotTableConfig=zTableConfig,zWhiskersConfig=external_zod_namespaceObject.z.number().or(external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.number())).default(1.5),zBoxPlotStyle=external_zod_namespaceObject.z.object({selector:zSelector.or(zSelectors).nullish(),boxVisible:external_zod_namespaceObject.z.boolean().nullish(),boxColor:external_zod_namespaceObject.z.string().nullish(),boxColorOpacity:external_zod_namespaceObject.z.number().min(0).max(1).nullish(),boxBorderColor:external_zod_namespaceObject.z.string().nullish(),boxBorderWidth:external_zod_namespaceObject.z.number().min(0).nullish(),boxBorderOpacity:external_zod_namespaceObject.z.number().min(0).max(1).nullish()}),zOutlierStyle=external_zod_namespaceObject.z.object({selector:external_zod_namespaceObject.z.union([zSelector,zSelectors]).optional(),pointVisible:external_zod_namespaceObject.z.boolean().optional(),pointSize:external_zod_namespaceObject.z.number().optional(),pointColor:external_zod_namespaceObject.z.string().optional(),pointColorOpacity:external_zod_namespaceObject.z.number().min(0).max(1).optional(),pointBorderColor:external_zod_namespaceObject.z.string().optional(),pointBorderWidth:external_zod_namespaceObject.z.number().min(0).optional(),pointBorderStyle:external_zod_namespaceObject.z.enum(["solid","dashed","dotted"]).optional()}),zBoxMaxWidth=external_zod_namespaceObject.z.number().or(external_zod_namespaceObject.z.string()),zBoxGapInGroup=external_zod_namespaceObject.z.number().or(external_zod_namespaceObject.z.string()),zBoxplotConfig=external_zod_namespaceObject.z.object({backgroundColor:zBackgroundColor.nullish(),label:zLabel.nullish(),color:zColor.nullish(),tooltip:zTooltip.nullish(),legend:zLegend.nullish(),xAxis:zXBandAxis.nullish(),yAxis:zYLinearAxis.nullish(),crosshairRect:zCrosshairRect.nullish(),pivotGrid:zPivotChartGridConfig.nullish(),annotation:zAnnotationConfig.nullish(),whiskers:zWhiskersConfig.nullish(),dimensionLinkage:zDimensionLinkage.nullish(),boxPlotStyle:zBoxPlotStyle.omit({selector:!0}).nullish(),outlierStyle:zOutlierStyle.omit({selector:!0}).nullish(),boxMaxWidth:zBoxMaxWidth.nullish(),boxGapInGroup:zBoxGapInGroup.nullish()}),zHistogramConfig=external_zod_namespaceObject.z.object({backgroundColor:zBackgroundColor.nullish(),label:zLabel.nullish(),color:zColor.nullish(),tooltip:zTooltip.nullish(),legend:zLegend.nullish(),xAxis:zXBandAxis.nullish(),yAxis:zYLinearAxis.nullish(),crosshairRect:zCrosshairRect.nullish(),stackCornerRadius:zStackCornerRadius.nullish(),pivotGrid:zPivotChartGridConfig.nullish(),annotation:zAnnotationConfig.nullish(),binCount:external_zod_namespaceObject.z.number().positive().nullish(),binStep:external_zod_namespaceObject.z.number().positive().nullish(),binValueType:external_zod_namespaceObject.z.literal("count").or(external_zod_namespaceObject.z.literal("percentage")).nullish(),regressionLine:zRegressionLine.nullish(),dimensionLinkage:zDimensionLinkage.nullish()}),zConfig=external_zod_namespaceObject.z.object({table:zTableConfig.nullish(),pivotTable:zPivotTableConfig.nullish(),line:zLineConfig.nullish(),column:zColumnConfig.nullish(),columnParallel:zColumnParallelConfig.nullish(),columnPercent:zColumnPercentConfig.nullish(),bar:zBarConfig.nullish(),barParallel:zBarParallelConfig.nullish(),barPercent:zBarPercentConfig.nullish(),area:zAreaConfig.nullish(),areaPercent:zAreaPercentConfig.nullish(),scatter:zScatterConfig.nullish(),dualAxis:zDualAxisConfig.nullish(),rose:zRoseConfig.nullish(),roseParallel:zRoseParallelConfig.nullish(),pie:zPieConfig.nullish(),donut:zDonutConfig.nullish(),radar:zRadarConfig.nullish(),funnel:zFunnelConfig.nullish(),heatmap:zHeatmapConfig.nullish(),boxPlot:zBoxplotConfig.nullish(),histogram:zHistogramConfig.nullish()}),zCustomThemeConfig=external_zod_namespaceObject.z.object({config:zConfig.nullish()}),zCustomTheme=external_zod_namespaceObject.z.record(external_zod_namespaceObject.z.string(),zCustomThemeConfig).nullish(),zTheme=external_zod_namespaceObject.z.string(),zBarStyle=external_zod_namespaceObject.z.object({selector:external_zod_namespaceObject.z.union([zSelector,zSelectors]).nullish(),barVisible:external_zod_namespaceObject.z.boolean().nullish(),barColor:external_zod_namespaceObject.z.string().nullish(),barColorOpacity:external_zod_namespaceObject.z.number().nullish(),barBorderColor:external_zod_namespaceObject.z.string().nullish(),barBorderWidth:external_zod_namespaceObject.z.number().nullish(),barBorderStyle:external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.literal("solid"),external_zod_namespaceObject.z.literal("dashed"),external_zod_namespaceObject.z.literal("dotted")]).nullish(),barRadius:external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.number(),external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.number())]).nullish()}),zPointStyle=external_zod_namespaceObject.z.object({selector:external_zod_namespaceObject.z.union([zSelector,zSelectors]).nullish(),pointVisible:external_zod_namespaceObject.z.boolean().nullish(),pointSize:external_zod_namespaceObject.z.number().nullish(),pointColor:external_zod_namespaceObject.z.string().nullish(),pointColorOpacity:external_zod_namespaceObject.z.number().nullish(),pointBorderColor:external_zod_namespaceObject.z.string().nullish(),pointBorderWidth:external_zod_namespaceObject.z.number().nullish(),pointBorderStyle:external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.enum(["solid","dashed","dotted"])]).nullish()}),zLineStyle=external_zod_namespaceObject.z.object({selector:external_zod_namespaceObject.z.union([zSelector,zSelectors]).nullish(),lineVisible:external_zod_namespaceObject.z.boolean().nullish(),lineSmooth:external_zod_namespaceObject.z.boolean().nullish(),lineColor:external_zod_namespaceObject.z.string().nullish(),lineColorOpacity:external_zod_namespaceObject.z.number().nullish(),lineWidth:external_zod_namespaceObject.z.number().nullish(),lineStyle:external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.enum(["solid","dashed","dotted"])]).nullish()}),zAreaStyle=external_zod_namespaceObject.z.object({selector:external_zod_namespaceObject.z.union([zSelector,zSelectors]).nullish(),areaVisible:external_zod_namespaceObject.z.boolean().nullish(),areaColor:external_zod_namespaceObject.z.string().nullish(),areaColorOpacity:external_zod_namespaceObject.z.number().nullish()}),zMarkStyle=external_zod_namespaceObject.z.object({barStyle:zBarStyle.or(external_zod_namespaceObject.z.array(zBarStyle)).nullish(),pointStyle:zPointStyle.or(external_zod_namespaceObject.z.array(zPointStyle)).nullish(),lineStyle:zLineStyle.or(external_zod_namespaceObject.z.array(zLineStyle)).nullish(),areaStyle:zAreaStyle.or(external_zod_namespaceObject.z.array(zAreaStyle)).nullish(),boxPlotStyle:zBoxPlotStyle.or(external_zod_namespaceObject.z.array(zBoxPlotStyle)).nullish(),outlierStyle:zOutlierStyle.or(external_zod_namespaceObject.z.array(zOutlierStyle)).nullish()}),zAnnotationVerticalLine=external_zod_namespaceObject.z.object({selector:external_zod_namespaceObject.z.union([zSelector,zSelectors]).nullish(),xValue:external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.number(),external_zod_namespaceObject.z.string(),external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.number(),external_zod_namespaceObject.z.string()]))]).nullish(),text:external_zod_namespaceObject.z.string().or(external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string())).nullish(),textPosition:external_zod_namespaceObject.z.enum(["outsideStart","outsideEnd","outsideMiddle","insideStart","insideMiddle","insideEnd"]).default("insideEnd").nullish(),textColor:external_zod_namespaceObject.z.string().default("#ffffff").nullish(),textFontSize:external_zod_namespaceObject.z.number().default(12).nullish(),textFontWeight:external_zod_namespaceObject.z.number().default(400).nullish(),textAlign:external_zod_namespaceObject.z.enum(["left","right","center"]).default("right").nullish(),textBaseline:external_zod_namespaceObject.z.enum(["top","middle","bottom"]).default("top").nullish(),textBackgroundVisible:external_zod_namespaceObject.z.boolean().default(!0).nullish(),textBackgroundColor:external_zod_namespaceObject.z.string().default("#212121").nullish(),textBackgroundBorderColor:external_zod_namespaceObject.z.string().default("#212121").nullish(),textBackgroundBorderRadius:external_zod_namespaceObject.z.number().default(4).nullish(),textBackgroundBorderWidth:external_zod_namespaceObject.z.number().default(1).nullish(),textBackgroundPadding:external_zod_namespaceObject.z.number().default(2).nullish(),lineVisible:external_zod_namespaceObject.z.boolean().default(!0).nullish(),lineColor:external_zod_namespaceObject.z.string().default("#212121").nullish(),lineWidth:external_zod_namespaceObject.z.number().default(1).nullish(),lineStyle:external_zod_namespaceObject.z.union([external_zod_namespaceObject.z.literal("solid"),external_zod_namespaceObject.z.literal("dashed"),external_zod_namespaceObject.z.literal("dotted")]).default("dashed").nullish()}),zAnnotation=external_zod_namespaceObject.z.object({annotationPoint:zAnnotationPoint.or(external_zod_namespaceObject.z.array(zAnnotationPoint)).nullish(),annotationVerticalLine:zAnnotationVerticalLine.or(external_zod_namespaceObject.z.array(zAnnotationVerticalLine)).nullish(),annotationHorizontalLine:zAnnotationHorizontalLine.or(external_zod_namespaceObject.z.array(zAnnotationHorizontalLine)).nullish(),annotationArea:zAnnotationArea.or(external_zod_namespaceObject.z.array(zAnnotationArea)).nullish()}),zSort=external_zod_namespaceObject.z.object({order:external_zod_namespaceObject.z.enum(["asc","desc"]).default("asc"),orderBy:external_zod_namespaceObject.z.string().nullish(),customOrder:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.any()).nullish()}),zSortLegend=external_zod_namespaceObject.z.object({order:external_zod_namespaceObject.z.enum(["asc","desc"]).default("asc"),orderBy:external_zod_namespaceObject.z.string().nullish(),customOrder:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.any()).nullish()}),zAnalysis=external_zod_namespaceObject.z.object({orderMapping:external_zod_namespaceObject.z.record(external_zod_namespaceObject.z.string(),external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.string())).nullish()}),zBodyCellStyle=external_zod_namespaceObject.z.object({selector:external_zod_namespaceObject.z.union([zSelector,zSelectors]).nullish(),backgroundColor:external_zod_namespaceObject.z.string().nullish(),textColor:external_zod_namespaceObject.z.string().nullish(),textFontSize:external_zod_namespaceObject.z.number().nullish(),borderColor:external_zod_namespaceObject.z.string().nullish(),borderLineWidth:external_zod_namespaceObject.z.number().nullish()}),zLocale=external_zod_namespaceObject.z.enum(["zh-CN","en-US"]).default("zh-CN"),zTable=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("table"),dataset:zDataset.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),borderColor:external_zod_namespaceObject.z.string().nullish(),bodyFontSize:external_zod_namespaceObject.z.number().nullish(),bodyFontColor:external_zod_namespaceObject.z.string().nullish(),bodyBackgroundColor:external_zod_namespaceObject.z.string().nullish(),hoverBodyBackgroundColor:external_zod_namespaceObject.z.string().nullish(),hoverBodyInlineBackgroundColor:external_zod_namespaceObject.z.string().nullish(),headerFontSize:external_zod_namespaceObject.z.number().nullish(),headerFontColor:external_zod_namespaceObject.z.string().nullish(),headerBackgroundColor:external_zod_namespaceObject.z.string().nullish(),hoverHeaderBackgroundColor:external_zod_namespaceObject.z.string().nullish(),hoverHeaderInlineBackgroundColor:external_zod_namespaceObject.z.string().nullish(),selectedBorderColor:external_zod_namespaceObject.z.string().nullish(),selectedBackgroundColor:external_zod_namespaceObject.z.string().nullish(),bodyCellStyle:zBodyCellStyle.nullish(),theme:zTheme.nullish(),locale:zLocale.nullish()}),zPivotTable=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("pivotTable"),dataset:zDataset.nullish(),dimensions:zDimensions.nullish(),measures:zMeasures.nullish(),backgroundColor:zBackgroundColor.nullish(),borderColor:external_zod_namespaceObject.z.string().nullish(),bodyFontSize:external_zod_namespaceObject.z.number().nullish(),bodyFontColor:external_zod_namespaceObject.z.string().nullish(),bodyBackgroundColor:external_zod_namespaceObject.z.string().nullish(),hoverBodyBackgroundColor:external_zod_namespaceObject.z.string().nullish(),hoverBodyInlineBackgroundColor:external_zod_namespaceObject.z.string().nullish(),headerFontSize:external_zod_namespaceObject.z.number().nullish(),headerFontColor:external_zod_namespaceObject.z.string().nullish(),headerBackgroundColor:external_zod_namespaceObject.z.string().nullish(),hoverHeaderBackgroundColor:external_zod_namespaceObject.z.string().nullish(),hoverHeaderInlineBackgroundColor:external_zod_namespaceObject.z.string().nullish(),selectedBorderColor:external_zod_namespaceObject.z.string().nullish(),selectedBackgroundColor:external_zod_namespaceObject.z.string().nullish(),bodyCellStyle:zBodyCellStyle.nullish(),theme:zTheme.nullish(),locale:zLocale.nullish()}),zLine=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("line"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),xAxis:zXBandAxis.nullish(),yAxis:zYLinearAxis.nullish(),crosshairLine:zCrosshairLine.nullish(),sort:zSort.nullish(),sortLegend:zSortLegend.nullish(),theme:zTheme.nullish(),pointStyle:external_zod_namespaceObject.z.array(zPointStyle).or(zPointStyle).nullish(),lineStyle:external_zod_namespaceObject.z.array(zLineStyle).or(zLineStyle).nullish(),annotationPoint:external_zod_namespaceObject.z.array(zAnnotationPoint).or(zAnnotationPoint).nullish(),annotationVerticalLine:external_zod_namespaceObject.z.array(zAnnotationVerticalLine).or(zAnnotationVerticalLine).nullish(),annotationHorizontalLine:external_zod_namespaceObject.z.array(zAnnotationHorizontalLine).or(zAnnotationHorizontalLine).nullish(),annotationArea:external_zod_namespaceObject.z.array(zAnnotationArea).or(zAnnotationArea).nullish(),dimensionLinkage:zDimensionLinkage.nullish(),locale:zLocale.nullish()}),zColumn=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("column"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),xAxis:zXBandAxis.nullish(),yAxis:zYLinearAxis.nullish(),sort:zSort.nullish(),sortLegent:zSortLegend.nullish(),crosshairRect:zCrosshairRect.nullish(),stackCornerRadius:zStackCornerRadius.nullish(),barMaxWidth:zBarMaxWidth.nullish(),theme:zTheme.nullish(),barStyle:external_zod_namespaceObject.z.array(zBarStyle).or(zBarStyle).nullish(),annotationPoint:external_zod_namespaceObject.z.array(zAnnotationPoint).or(zAnnotationPoint).nullish(),annotationVerticalLine:external_zod_namespaceObject.z.array(zAnnotationVerticalLine).or(zAnnotationVerticalLine).nullish(),annotationHorizontalLine:external_zod_namespaceObject.z.array(zAnnotationHorizontalLine).or(zAnnotationHorizontalLine).nullish(),annotationArea:external_zod_namespaceObject.z.array(zAnnotationArea).or(zAnnotationArea).nullish(),polynomialRegressionLine:external_zod_namespaceObject.z.array(zPolynomialRegressionLine).or(zPolynomialRegressionLine).nullish(),dimensionLinkage:zDimensionLinkage.nullish(),locale:zLocale.nullish()}),zColumnParallel=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("columnParallel"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),xAxis:zXBandAxis.nullish(),yAxis:zYLinearAxis.nullish(),crosshairRect:zCrosshairRect.nullish(),stackCornerRadius:zStackCornerRadius.nullish(),barMaxWidth:zBarMaxWidth.nullish(),barGapInGroup:zBarGapInGroup.nullish(),theme:zTheme.nullish(),barStyle:external_zod_namespaceObject.z.array(zBarStyle).or(zBarStyle).nullish(),annotationPoint:external_zod_namespaceObject.z.array(zAnnotationPoint).or(zAnnotationPoint).nullish(),annotationVerticalLine:external_zod_namespaceObject.z.array(zAnnotationVerticalLine).or(zAnnotationVerticalLine).nullish(),annotationHorizontalLine:external_zod_namespaceObject.z.array(zAnnotationHorizontalLine).or(zAnnotationHorizontalLine).nullish(),annotationArea:external_zod_namespaceObject.z.array(zAnnotationArea).or(zAnnotationArea).nullish(),dimensionLinkage:zDimensionLinkage.nullish(),locale:zLocale.nullish()}),zColumnPercent=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("columnPercent"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),xAxis:zXBandAxis.nullish(),yAxis:zYLinearAxis.nullish(),crosshairRect:zCrosshairRect.nullish(),stackCornerRadius:zStackCornerRadius.nullish(),barMaxWidth:zBarMaxWidth.nullish(),theme:zTheme.nullish(),barStyle:external_zod_namespaceObject.z.array(zBarStyle).or(zBarStyle).nullish(),annotationPoint:external_zod_namespaceObject.z.array(zAnnotationPoint).or(zAnnotationPoint).nullish(),annotationVerticalLine:external_zod_namespaceObject.z.array(zAnnotationVerticalLine).or(zAnnotationVerticalLine).nullish(),annotationHorizontalLine:external_zod_namespaceObject.z.array(zAnnotationHorizontalLine).or(zAnnotationHorizontalLine).nullish(),annotationArea:external_zod_namespaceObject.z.array(zAnnotationArea).or(zAnnotationArea).nullish(),dimensionLinkage:zDimensionLinkage.nullish(),locale:zLocale.nullish()}),zBar=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("bar"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),xAxis:zXLinearAxis.nullish(),yAxis:zYBandAxis.nullish(),crosshairRect:zCrosshairRect.nullish(),stackCornerRadius:zStackCornerRadius.nullish(),barMaxWidth:zBarMaxWidth.nullish(),theme:zTheme.nullish(),barStyle:external_zod_namespaceObject.z.array(zBarStyle).or(zBarStyle).nullish(),annotationPoint:external_zod_namespaceObject.z.array(zAnnotationPoint).or(zAnnotationPoint).nullish(),annotationVerticalLine:external_zod_namespaceObject.z.array(zAnnotationVerticalLine).or(zAnnotationVerticalLine).nullish(),annotationHorizontalLine:external_zod_namespaceObject.z.array(zAnnotationHorizontalLine).or(zAnnotationHorizontalLine).nullish(),annotationArea:external_zod_namespaceObject.z.array(zAnnotationArea).or(zAnnotationArea).nullish(),dimensionLinkage:zDimensionLinkage.nullish(),locale:zLocale.nullish()}),zBarParallel=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("barParallel"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),xAxis:zXLinearAxis.nullish(),yAxis:zYBandAxis.nullish(),crosshairRect:zCrosshairRect.nullish(),stackCornerRadius:zStackCornerRadius.nullish(),barMaxWidth:zBarMaxWidth.nullish(),barGapInGroup:zBarGapInGroup.nullish(),theme:zTheme.nullish(),barStyle:external_zod_namespaceObject.z.array(zBarStyle).or(zBarStyle).nullish(),annotationPoint:external_zod_namespaceObject.z.array(zAnnotationPoint).or(zAnnotationPoint).nullish(),annotationVerticalLine:external_zod_namespaceObject.z.array(zAnnotationVerticalLine).or(zAnnotationVerticalLine).nullish(),annotationHorizontalLine:external_zod_namespaceObject.z.array(zAnnotationHorizontalLine).or(zAnnotationHorizontalLine).nullish(),annotationArea:external_zod_namespaceObject.z.array(zAnnotationArea).or(zAnnotationArea).nullish(),dimensionLinkage:zDimensionLinkage.nullish(),locale:zLocale.nullish()}),zBarPercent=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("barPercent"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),xAxis:zXLinearAxis.nullish(),yAxis:zYBandAxis.nullish(),crosshairRect:zCrosshairRect.nullish(),stackCornerRadius:zStackCornerRadius.nullish(),barMaxWidth:zBarMaxWidth.nullish(),theme:zTheme.nullish(),barStyle:external_zod_namespaceObject.z.array(zBarStyle).or(zBarStyle).nullish(),annotationPoint:external_zod_namespaceObject.z.array(zAnnotationPoint).or(zAnnotationPoint).nullish(),annotationVerticalLine:external_zod_namespaceObject.z.array(zAnnotationVerticalLine).or(zAnnotationVerticalLine).nullish(),annotationHorizontalLine:external_zod_namespaceObject.z.array(zAnnotationHorizontalLine).or(zAnnotationHorizontalLine).nullish(),annotationArea:external_zod_namespaceObject.z.array(zAnnotationArea).or(zAnnotationArea).nullish(),dimensionLinkage:zDimensionLinkage.nullish(),locale:zLocale.nullish()}),zArea=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("area"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),xAxis:zXBandAxis.nullish(),yAxis:zYLinearAxis.nullish(),crosshairLine:zCrosshairLine.nullish(),theme:zTheme.nullish(),pointStyle:external_zod_namespaceObject.z.array(zPointStyle).or(zPointStyle).nullish(),lineStyle:external_zod_namespaceObject.z.array(zLineStyle).or(zLineStyle).nullish(),areaStyle:external_zod_namespaceObject.z.array(zAreaStyle).or(zAreaStyle).nullish(),annotationPoint:external_zod_namespaceObject.z.array(zAnnotationPoint).or(zAnnotationPoint).nullish(),annotationVerticalLine:external_zod_namespaceObject.z.array(zAnnotationVerticalLine).or(zAnnotationVerticalLine).nullish(),annotationHorizontalLine:external_zod_namespaceObject.z.array(zAnnotationHorizontalLine).or(zAnnotationHorizontalLine).nullish(),annotationArea:external_zod_namespaceObject.z.array(zAnnotationArea).or(zAnnotationArea).nullish(),dimensionLinkage:zDimensionLinkage.nullish(),locale:zLocale.nullish()}),zAreaPercent=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("areaPercent"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),xAxis:zXBandAxis.nullish(),yAxis:zYLinearAxis.nullish(),crosshairLine:zCrosshairLine.nullish(),theme:zTheme.nullish(),pointStyle:external_zod_namespaceObject.z.array(zPointStyle).or(zPointStyle).nullish(),lineStyle:external_zod_namespaceObject.z.array(zLineStyle).or(zLineStyle).nullish(),areaStyle:external_zod_namespaceObject.z.array(zAreaStyle).or(zAreaStyle).nullish(),annotationPoint:external_zod_namespaceObject.z.array(zAnnotationPoint).or(zAnnotationPoint).nullish(),annotationVerticalLine:external_zod_namespaceObject.z.array(zAnnotationVerticalLine).or(zAnnotationVerticalLine).nullish(),annotationHorizontalLine:external_zod_namespaceObject.z.array(zAnnotationHorizontalLine).or(zAnnotationHorizontalLine).nullish(),annotationArea:external_zod_namespaceObject.z.array(zAnnotationArea).or(zAnnotationArea).nullish(),dimensionLinkage:zDimensionLinkage.nullish(),locale:zLocale.nullish()}),zScatter=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("scatter"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),scatterMeasures:zScatterMeasures.nullish(),backgroundColor:zBackgroundColor.nullish(),size:external_zod_namespaceObject.z.number().or(external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.number())).nullish(),sizeRange:external_zod_namespaceObject.z.number().or(external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.number())).nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),xAxis:zXLinearAxis.nullish(),yAxis:zYLinearAxis.nullish(),crosshairLine:zCrosshairLine.nullish(),theme:zTheme.nullish(),pointStyle:external_zod_namespaceObject.z.array(zPointStyle).or(zPointStyle).nullish(),annotationPoint:external_zod_namespaceObject.z.array(zAnnotationPoint).or(zAnnotationPoint).nullish(),annotationVerticalLine:external_zod_namespaceObject.z.array(zAnnotationVerticalLine).or(zAnnotationVerticalLine).nullish(),annotationHorizontalLine:external_zod_namespaceObject.z.array(zAnnotationHorizontalLine).or(zAnnotationHorizontalLine).nullish(),annotationArea:external_zod_namespaceObject.z.array(zAnnotationArea).or(zAnnotationArea).nullish(),linearRegressionLine:external_zod_namespaceObject.z.array(zLinearRegressionLine).or(zLinearRegressionLine).nullish(),lowessRegressionLine:external_zod_namespaceObject.z.array(zLowessRegressionLine).or(zLowessRegressionLine).nullish(),polynomialRegressionLine:external_zod_namespaceObject.z.array(zPolynomialRegressionLine).or(zPolynomialRegressionLine).nullish(),logisticRegressionLine:external_zod_namespaceObject.z.array(zLogisticRegressionLine).or(zLogisticRegressionLine).nullish(),dimensionLinkage:zDimensionLinkage.nullish(),locale:zLocale.nullish()}),zDualAxis=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("dualAxis"),dataset:zDataset.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),dualMeasures:zDualMeasures.nullish(),dualChartType:external_zod_namespaceObject.z.array(zDualChartType).or(zDualChartType).nullish(),alignTicks:external_zod_namespaceObject.z.array(external_zod_namespaceObject.z.boolean()).or(external_zod_namespaceObject.z.boolean()).nullish(),primaryYAxis:external_zod_namespaceObject.z.array(zYLinearAxis).or(zYLinearAxis).nullish(),secondaryYAxis:external_zod_namespaceObject.z.array(zYLinearAxis).or(zYLinearAxis).nullish(),xAxis:zXBandAxis.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),crosshairRect:zCrosshairRect.nullish(),sort:zSort.nullish(),sortLegend:zSortLegend.nullish(),theme:zTheme.nullish(),barMaxWidth:zBarMaxWidth.nullish(),barGapInGroup:zBarGapInGroup.nullish(),barStyle:external_zod_namespaceObject.z.array(zBarStyle).or(zBarStyle).nullish(),pointStyle:external_zod_namespaceObject.z.array(zPointStyle).or(zPointStyle).nullish(),lineStyle:external_zod_namespaceObject.z.array(zLineStyle).or(zLineStyle).nullish(),areaStyle:external_zod_namespaceObject.z.array(zAreaStyle).or(zAreaStyle).nullish(),annotationPoint:external_zod_namespaceObject.z.array(zAnnotationPoint).or(zAnnotationPoint).nullish(),annotationVerticalLine:external_zod_namespaceObject.z.array(zAnnotationVerticalLine).or(zAnnotationVerticalLine).nullish(),annotationHorizontalLine:external_zod_namespaceObject.z.array(zAnnotationHorizontalLine).or(zAnnotationHorizontalLine).nullish(),annotationArea:external_zod_namespaceObject.z.array(zAnnotationArea).or(zAnnotationArea).nullish(),dimensionLinkage:zDimensionLinkage.nullish(),locale:zLocale.nullish()}),zHistogram=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("histogram"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),xAxis:zXLinearAxis.nullish(),yAxis:zYLinearAxis.nullish(),crosshairRect:zCrosshairRect.nullish(),binCount:external_zod_namespaceObject.z.number().positive().nullish(),binStep:external_zod_namespaceObject.z.number().positive().nullish(),binValueType:external_zod_namespaceObject.z.literal("count").or(external_zod_namespaceObject.z.literal("percentage")).nullish(),theme:zTheme.nullish(),barStyle:external_zod_namespaceObject.z.array(zBarStyle).or(zBarStyle).nullish(),annotationPoint:external_zod_namespaceObject.z.array(zAnnotationPoint).or(zAnnotationPoint).nullish(),annotationVerticalLine:external_zod_namespaceObject.z.array(zAnnotationVerticalLine).or(zAnnotationVerticalLine).nullish(),annotationHorizontalLine:external_zod_namespaceObject.z.array(zAnnotationHorizontalLine).or(zAnnotationHorizontalLine).nullish(),annotationArea:external_zod_namespaceObject.z.array(zAnnotationArea).or(zAnnotationArea).nullish(),ecdfRegressionLine:external_zod_namespaceObject.z.array(zEcdfRegressionLine).or(zEcdfRegressionLine).nullish(),kdeRegressionLine:external_zod_namespaceObject.z.array(zKdeRegressionLine).or(zKdeRegressionLine).nullish(),dimensionLinkage:zDimensionLinkage.nullish(),locale:zLocale.nullish()}),zRose=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("rose"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),theme:zTheme.nullish(),locale:zLocale.nullish()}),zRoseParallel=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("roseParallel"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),theme:zTheme.nullish(),locale:zLocale.nullish()}),zPie=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("pie"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zPieLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),theme:zTheme.nullish(),locale:zLocale.nullish()}),zDonut=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("donut"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zPieLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),theme:zTheme.nullish(),locale:zLocale.nullish()}),zRadar=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("radar"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),theme:zTheme.nullish(),locale:zLocale.nullish()}),zFunnel=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("funnel"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zColorLegend.nullish(),tooltip:zTooltip.nullish(),theme:zTheme.nullish(),locale:zLocale.nullish()}),zHeatmap=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("heatmap"),dataset:zDataset.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zColorLegend.nullish(),tooltip:zTooltip.nullish(),theme:zTheme.nullish(),locale:zLocale.nullish()}),zBoxPlot=external_zod_namespaceObject.z.object({chartType:external_zod_namespaceObject.z.literal("boxPlot"),dataset:zDataset.nullish(),encoding:zEncoding.nullish(),dimensions:zDimensions.nullish(),measures:zMeasureTree.nullish(),backgroundColor:zBackgroundColor.nullish(),color:zColor.nullish(),label:zLabel.nullish(),legend:zLegend.nullish(),tooltip:zTooltip.nullish(),xAxis:zXBandAxis.nullish(),yAxis:zYLinearAxis.nullish(),sort:zSort.nullish(),sortLegent:zSortLegend.nullish(),crosshairRect:zCrosshairRect.nullish(),boxPlotStyle:external_zod_namespaceObject.z.array(zBoxPlotStyle).or(zBoxPlotStyle).nullish(),outlierStyle:external_zod_namespaceObject.z.array(zOutlierStyle).or(zOutlierStyle).nullish(),theme:zTheme.nullish(),whiskers:zWhiskersConfig.nullish(),annotationPoint:external_zod_namespaceObject.z.array(zAnnotationPoint).or(zAnnotationPoint).nullish(),annotationVerticalLine:external_zod_namespaceObject.z.array(zAnnotationVerticalLine).or(zAnnotationVerticalLine).nullish(),annotationHorizontalLine:external_zod_namespaceObject.z.array(zAnnotationHorizontalLine).or(zAnnotationHorizontalLine).nullish(),annotationArea:external_zod_namespaceObject.z.array(zAnnotationArea).or(zAnnotationArea).nullish(),dimensionLinkage:zDimensionLinkage.nullish(),locale:zLocale.nullish(),boxMaxWidth:zBoxMaxWidth.nullish(),boxGapInGroup:zBoxGapInGroup.nullish()}),zVSeed=external_zod_namespaceObject.z.discriminatedUnion("chartType",[zTable,zPivotTable,zLine,zColumn,zColumnParallel,zColumnPercent,zBar,zBarParallel,zBarPercent,zArea,zAreaPercent,zScatter,zDualAxis,zPie,zDonut,zRose,zRoseParallel,zRadar,zFunnel,zHeatmap,zBoxPlot,zHistogram]),zCellStyle=external_zod_namespaceObject.z.object({bodyCellStyle:zBodyCellStyle.nullish()}),zAdvancedVSeed=external_zod_namespaceObject.z.object({chartType:zChartType,dataset:zDataset,datasetReshapeInfo:zDatasetReshapeInfo,pivotAllDatasetReshapeInfo:zDatasetReshapeInfo,dimensions:zDimensionTree,measures:zMeasureTree,reshapeMeasures:zMeasureTree.optional(),reshapeDimensions:zDimensionTree.optional(),encoding:zEncoding,config:zConfig,analysis:zAnalysis,theme:zTheme,markStyle:zMarkStyle,cellStyle:zCellStyle,customTheme:zCustomThemeConfig,annotation:zAnnotation,locale:zLocale,regressionLine:zRegressionLine});for(var __webpack_i__ in exports.ANNOTATION_Z_INDEX=__webpack_exports__.ANNOTATION_Z_INDEX,exports.AXIS_LABEL_SPACE=__webpack_exports__.AXIS_LABEL_SPACE,exports.AngleEncoding=__webpack_exports__.AngleEncoding,exports.BAND_AXIS_INNER_OFFSET_IN_PIVOT=__webpack_exports__.BAND_AXIS_INNER_OFFSET_IN_PIVOT,exports.BinCountMeasureId=__webpack_exports__.BinCountMeasureId,exports.BinEndMeasureId=__webpack_exports__.BinEndMeasureId,exports.BinPercentageMeasureId=__webpack_exports__.BinPercentageMeasureId,exports.BinStartMeasureId=__webpack_exports__.BinStartMeasureId,exports.Builder=__webpack_exports__.Builder,exports.ChartTypeEnum=__webpack_exports__.ChartTypeEnum,exports.ColorEncoding=__webpack_exports__.ColorEncoding,exports.ColorIdEncoding=__webpack_exports__.ColorIdEncoding,exports.DATUM_HIDE_KEY=__webpack_exports__.DATUM_HIDE_KEY,exports.DEFAULT_PARENT_ID=__webpack_exports__.DEFAULT_PARENT_ID,exports.DUAL_AXIS_CHART_COLUMN_Z_INDEX=__webpack_exports__.DUAL_AXIS_CHART_COLUMN_Z_INDEX,exports.DUAL_AXIS_CHART_NON_COLUMN_Z_INDEX=__webpack_exports__.DUAL_AXIS_CHART_NON_COLUMN_Z_INDEX,exports.DUAL_AXIS_LABEL_Z_INDEX=__webpack_exports__.DUAL_AXIS_LABEL_Z_INDEX,exports.DetailEncoding=__webpack_exports__.DetailEncoding,exports.DimensionEncodingEnum=__webpack_exports__.DimensionEncodingEnum,exports.EncodingEnum=__webpack_exports__.EncodingEnum,exports.FoldMeasureId=__webpack_exports__.FoldMeasureId,exports.FoldMeasureName=__webpack_exports__.FoldMeasureName,exports.FoldMeasureValue=__webpack_exports__.FoldMeasureValue,exports.FoldPrimaryMeasureValue=__webpack_exports__.FoldPrimaryMeasureValue,exports.FoldSecondaryMeasureValue=__webpack_exports__.FoldSecondaryMeasureValue,exports.FoldXMeasureId=__webpack_exports__.FoldXMeasureId,exports.FoldXMeasureValue=__webpack_exports__.FoldXMeasureValue,exports.FoldYMeasureId=__webpack_exports__.FoldYMeasureId,exports.FoldYMeasureValue=__webpack_exports__.FoldYMeasureValue,exports.LINEAR_AXIS_INNER_OFFSET_TOP=__webpack_exports__.LINEAR_AXIS_INNER_OFFSET_TOP,exports.LowerWhisker=__webpack_exports__.LowerWhisker,exports.MeasureEncodingEnum=__webpack_exports__.MeasureEncodingEnum,exports.MeasureId=__webpack_exports__.MeasureId,exports.MeasureName=__webpack_exports__.MeasureName,exports.MedianMeasureId=__webpack_exports__.MedianMeasureId,exports.ORIGINAL_DATA=__webpack_exports__.ORIGINAL_DATA,exports.OutliersMeasureId=__webpack_exports__.OutliersMeasureId,exports.Q1MeasureValue=__webpack_exports__.Q1MeasureValue,exports.Q3MeasureValue=__webpack_exports__.Q3MeasureValue,exports.Separator=__webpack_exports__.Separator,exports.UpperWhisker=__webpack_exports__.UpperWhisker,exports.XEncoding=__webpack_exports__.XEncoding,exports.YEncoding=__webpack_exports__.YEncoding,exports.areaAdvancedPipeline=__webpack_exports__.areaAdvancedPipeline,exports.areaPercentAdvancedPipeline=__webpack_exports__.areaPercentAdvancedPipeline,exports.areaPercentSpecPipeline=__webpack_exports__.areaPercentSpecPipeline,exports.areaSpecPipeline=__webpack_exports__.areaSpecPipeline,exports.autoFormatter=__webpack_exports__.autoFormatter,exports.autoNumFormatter=__webpack_exports__.autoNumFormatter,exports.barAdvancedPipeline=__webpack_exports__.barAdvancedPipeline,exports.barParallelAdvancedPipeline=__webpack_exports__.barParallelAdvancedPipeline,exports.barParallelSpecPipeline=__webpack_exports__.barParallelSpecPipeline,exports.barPercentAdvancedPipeline=__webpack_exports__.barPercentAdvancedPipeline,exports.barPercentSpecPipeline=__webpack_exports__.barPercentSpecPipeline,exports.barSpecPipeline=__webpack_exports__.barSpecPipeline,exports.boxplotAdvancedPipeline=__webpack_exports__.boxplotAdvancedPipeline,exports.boxplotSpecPipeline=__webpack_exports__.boxplotSpecPipeline,exports.checkVSeed=__webpack_exports__.checkVSeed,exports.columnAdvancedPipeline=__webpack_exports__.columnAdvancedPipeline,exports.columnParallelAdvancedPipeline=__webpack_exports__.columnParallelAdvancedPipeline,exports.columnParallelSpecPipeline=__webpack_exports__.columnParallelSpecPipeline,exports.columnPercentAdvancedPipeline=__webpack_exports__.columnPercentAdvancedPipeline,exports.columnPercentSpecPipeline=__webpack_exports__.columnPercentSpecPipeline,exports.columnSpecPipeline=__webpack_exports__.columnSpecPipeline,exports.createFormatter=__webpack_exports__.createFormatter,exports.createFormatterByMeasure=__webpack_exports__.createFormatterByMeasure,exports.createNumFormatter=__webpack_exports__.createNumFormatter,exports.darkTheme=__webpack_exports__.darkTheme,exports.dataReshapeByEncoding=__webpack_exports__.dataReshapeByEncoding,exports.deleteDimensionTreeByCallback=__webpack_exports__.deleteDimensionTreeByCallback,exports.deleteMeasureTreeByCallback=__webpack_exports__.deleteMeasureTreeByCallback,exports.donutAdvancedPipeline=__webpack_exports__.donutAdvancedPipeline,exports.donutSpecPipeline=__webpack_exports__.donutSpecPipeline,exports.dualAxisAdvancedPipeline=__webpack_exports__.dualAxisAdvancedPipeline,exports.dualAxisSpecPipeline=__webpack_exports__.dualAxisSpecPipeline,exports.execPipeline=__webpack_exports__.execPipeline,exports.findAllMeasures=__webpack_exports__.findAllMeasures,exports.findFirstMeasure=__webpack_exports__.findFirstMeasure,exports.findMeasureById=__webpack_exports__.findMeasureById,exports.findTreeNodesBy=__webpack_exports__.findTreeNodesBy,exports.foldMeasures=__webpack_exports__.foldMeasures,exports.funnelAdvancedPipeline=__webpack_exports__.funnelAdvancedPipeline,exports.funnelSpecPipeline=__webpack_exports__.funnelSpecPipeline,exports.hasMultipleMeasureInSingleView=__webpack_exports__.hasMultipleMeasureInSingleView,exports.heatmapAdvancedPipeline=__webpack_exports__.heatmapAdvancedPipeline,exports.heatmapSpecPipeline=__webpack_exports__.heatmapSpecPipeline,exports.histogramAdvancedPipeline=__webpack_exports__.histogramAdvancedPipeline,exports.histogramSpecPipeline=__webpack_exports__.histogramSpecPipeline,exports.intl=__webpack_exports__.intl,exports.isAreaPercent=__webpack_exports__.isAreaPercent,exports.isBarLikeChart=__webpack_exports__.isBarLikeChart,exports.isBarPercent=__webpack_exports__.isBarPercent,exports.isColumnPercent=__webpack_exports__.isColumnPercent,exports.isCombination=__webpack_exports__.isCombination,exports.isDimension=__webpack_exports__.isDimension,exports.isDimensionGroup=__webpack_exports__.isDimensionGroup,exports.isDimensionSelector=__webpack_exports__.isDimensionSelector,exports.isMeasure=__webpack_exports__.isMeasure,exports.isMeasureGroup=__webpack_exports__.isMeasureGroup,exports.isMeasureSelector=__webpack_exports__.isMeasureSelector,exports.isMeasures=__webpack_exports__.isMeasures,exports.isPartialDatumSelector=__webpack_exports__.isPartialDatumSelector,exports.isPivot=__webpack_exports__.isPivot,exports.isPivotChart=__webpack_exports__.isPivotChart,exports.isPivotTable=__webpack_exports__.isPivotTable,exports.isRadar=__webpack_exports__.isRadar,exports.isTable=__webpack_exports__.isTable,exports.isVChart=__webpack_exports__.isVChart,exports.isVTable=__webpack_exports__.isVTable,exports.isValueSelector=__webpack_exports__.isValueSelector,exports.lightTheme=__webpack_exports__.lightTheme,exports.lineAdvancedPipeline=__webpack_exports__.lineAdvancedPipeline,exports.lineSpecPipeline=__webpack_exports__.lineSpecPipeline,exports.measureDepth=__webpack_exports__.measureDepth,exports.pieAdvancedPipeline=__webpack_exports__.pieAdvancedPipeline,exports.pieSpecPipeline=__webpack_exports__.pieSpecPipeline,exports.pivotTableAdvancedPipeline=__webpack_exports__.pivotTableAdvancedPipeline,exports.pivotTableSpecPipeline=__webpack_exports__.pivotTableSpecPipeline,exports.preorderTraverse=__webpack_exports__.preorderTraverse,exports.radarAdvancedPipeline=__webpack_exports__.radarAdvancedPipeline,exports.radarSpecPipeline=__webpack_exports__.radarSpecPipeline,exports.registerAll=__webpack_exports__.registerAll,exports.registerArea=__webpack_exports__.registerArea,exports.registerAreaPercent=__webpack_exports__.registerAreaPercent,exports.registerBar=__webpack_exports__.registerBar,exports.registerBarParallel=__webpack_exports__.registerBarParallel,exports.registerBarPercent=__webpack_exports__.registerBarPercent,exports.registerBoxPlot=__webpack_exports__.registerBoxPlot,exports.registerColumn=__webpack_exports__.registerColumn,exports.registerColumnParallel=__webpack_exports__.registerColumnParallel,exports.registerColumnPercent=__webpack_exports__.registerColumnPercent,exports.registerCustomTheme=__webpack_exports__.registerCustomTheme,exports.registerDarkTheme=__webpack_exports__.registerDarkTheme,exports.registerDonut=__webpack_exports__.registerDonut,exports.registerDualAxis=__webpack_exports__.registerDualAxis,exports.registerFunnel=__webpack_exports__.registerFunnel,exports.registerHeatmap=__webpack_exports__.registerHeatmap,exports.registerHistogram=__webpack_exports__.registerHistogram,exports.registerLightTheme=__webpack_exports__.registerLightTheme,exports.registerLine=__webpack_exports__.registerLine,exports.registerPie=__webpack_exports__.registerPie,exports.registerPivotTable=__webpack_exports__.registerPivotTable,exports.registerRadar=__webpack_exports__.registerRadar,exports.registerRose=__webpack_exports__.registerRose,exports.registerRoseParallel=__webpack_exports__.registerRoseParallel,exports.registerScatter=__webpack_exports__.registerScatter,exports.registerTable=__webpack_exports__.registerTable,exports.replaceNullToUndefined=__webpack_exports__.replaceNullToUndefined,exports.roseAdvancedPipeline=__webpack_exports__.roseAdvancedPipeline,exports.roseParallelAdvancedPipeline=__webpack_exports__.roseParallelAdvancedPipeline,exports.roseParallelSpecPipeline=__webpack_exports__.roseParallelSpecPipeline,exports.roseSpecPipeline=__webpack_exports__.roseSpecPipeline,exports.scatterAdvancedPipeline=__webpack_exports__.scatterAdvancedPipeline,exports.scatterSpecPipeline=__webpack_exports__.scatterSpecPipeline,exports.selectByDmension=__webpack_exports__.selectByDmension,exports.selectByMeasure=__webpack_exports__.selectByMeasure,exports.selectByPartial=__webpack_exports__.selectByPartial,exports.selectByValue=__webpack_exports__.selectByValue,exports.selector=__webpack_exports__.selector,exports.selectorDatum=__webpack_exports__.selectorDatum,exports.tableAdvancedPipeline=__webpack_exports__.tableAdvancedPipeline,exports.tableSpecPipeline=__webpack_exports__.tableSpecPipeline,exports.unfoldDimensions=__webpack_exports__.unfoldDimensions,exports.updateAdvanced=__webpack_exports__.updateAdvanced,exports.updateSpec=__webpack_exports__.updateSpec,exports.zAdvancedVSeed=__webpack_exports__.zAdvancedVSeed,exports.zAnalysis=__webpack_exports__.zAnalysis,exports.zAnnotation=__webpack_exports__.zAnnotation,exports.zAnnotationArea=__webpack_exports__.zAnnotationArea,exports.zAnnotationAreaConfig=__webpack_exports__.zAnnotationAreaConfig,exports.zAnnotationConfig=__webpack_exports__.zAnnotationConfig,exports.zAnnotationHorizontalLine=__webpack_exports__.zAnnotationHorizontalLine,exports.zAnnotationHorizontalLineConfig=__webpack_exports__.zAnnotationHorizontalLineConfig,exports.zAnnotationPoint=__webpack_exports__.zAnnotationPoint,exports.zAnnotationPointConfig=__webpack_exports__.zAnnotationPointConfig,exports.zAnnotationVerticalLine=__webpack_exports__.zAnnotationVerticalLine,exports.zAnnotationVerticalLineConfig=__webpack_exports__.zAnnotationVerticalLineConfig,exports.zArea=__webpack_exports__.zArea,exports.zAreaConfig=__webpack_exports__.zAreaConfig,exports.zAreaPercent=__webpack_exports__.zAreaPercent,exports.zAreaPercentConfig=__webpack_exports__.zAreaPercentConfig,exports.zAreaStyle=__webpack_exports__.zAreaStyle,exports.zBackgroundColor=__webpack_exports__.zBackgroundColor,exports.zBar=__webpack_exports__.zBar,exports.zBarConfig=__webpack_exports__.zBarConfig,exports.zBarGapInGroup=__webpack_exports__.zBarGapInGroup,exports.zBarMaxWidth=__webpack_exports__.zBarMaxWidth,exports.zBarParallel=__webpack_exports__.zBarParallel,exports.zBarParallelConfig=__webpack_exports__.zBarParallelConfig,exports.zBarPercent=__webpack_exports__.zBarPercent,exports.zBarPercentConfig=__webpack_exports__.zBarPercentConfig,exports.zBarStyle=__webpack_exports__.zBarStyle,exports.zBodyCellStyle=__webpack_exports__.zBodyCellStyle,exports.zBoxGapInGroup=__webpack_exports__.zBoxGapInGroup,exports.zBoxMaxWidth=__webpack_exports__.zBoxMaxWidth,exports.zBoxPlot=__webpack_exports__.zBoxPlot,exports.zBoxPlotStyle=__webpack_exports__.zBoxPlotStyle,exports.zChartType=__webpack_exports__.zChartType,exports.zColor=__webpack_exports__.zColor,exports.zColorLegend=__webpack_exports__.zColorLegend,exports.zColumn=__webpack_exports__.zColumn,exports.zColumnConfig=__webpack_exports__.zColumnConfig,exports.zColumnParallel=__webpack_exports__.zColumnParallel,exports.zColumnParallelConfig=__webpack_exports__.zColumnParallelConfig,exports.zColumnPercent=__webpack_exports__.zColumnPercent,exports.zColumnPercentConfig=__webpack_exports__.zColumnPercentConfig,exports.zConfig=__webpack_exports__.zConfig,exports.zCrosshairLine=__webpack_exports__.zCrosshairLine,exports.zCrosshairRect=__webpack_exports__.zCrosshairRect,exports.zCustomTheme=__webpack_exports__.zCustomTheme,exports.zCustomThemeConfig=__webpack_exports__.zCustomThemeConfig,exports.zDataset=__webpack_exports__.zDataset,exports.zDatasetReshapeInfo=__webpack_exports__.zDatasetReshapeInfo,exports.zDatum=__webpack_exports__.zDatum,exports.zDimension=__webpack_exports__.zDimension,exports.zDimensionEncoding=__webpack_exports__.zDimensionEncoding,exports.zDimensionGroup=__webpack_exports__.zDimensionGroup,exports.zDimensionLinkage=__webpack_exports__.zDimensionLinkage,exports.zDimensionTree=__webpack_exports__.zDimensionTree,exports.zDimensions=__webpack_exports__.zDimensions,exports.zDonut=__webpack_exports__.zDonut,exports.zDonutConfig=__webpack_exports__.zDonutConfig,exports.zDualAxis=__webpack_exports__.zDualAxis,exports.zDualAxisConfig=__webpack_exports__.zDualAxisConfig,exports.zDualChartType=__webpack_exports__.zDualChartType,exports.zDualMeasure=__webpack_exports__.zDualMeasure,exports.zDualMeasures=__webpack_exports__.zDualMeasures,exports.zEcdfRegressionLine=__webpack_exports__.zEcdfRegressionLine,exports.zEncoding=__webpack_exports__.zEncoding,exports.zFoldInfo=__webpack_exports__.zFoldInfo,exports.zFunnel=__webpack_exports__.zFunnel,exports.zFunnelConfig=__webpack_exports__.zFunnelConfig,exports.zFunnelTransform=__webpack_exports__.zFunnelTransform,exports.zHeatmap=__webpack_exports__.zHeatmap,exports.zHeatmapConfig=__webpack_exports__.zHeatmapConfig,exports.zHistogram=__webpack_exports__.zHistogram,exports.zKdeRegressionLine=__webpack_exports__.zKdeRegressionLine,exports.zLabel=__webpack_exports__.zLabel,exports.zLegend=__webpack_exports__.zLegend,exports.zLine=__webpack_exports__.zLine,exports.zLineConfig=__webpack_exports__.zLineConfig,exports.zLineStyle=__webpack_exports__.zLineStyle,exports.zLinearColor=__webpack_exports__.zLinearColor,exports.zLinearRegressionLine=__webpack_exports__.zLinearRegressionLine,exports.zLocale=__webpack_exports__.zLocale,exports.zLogisticRegressionLine=__webpack_exports__.zLogisticRegressionLine,exports.zLowessRegressionLine=__webpack_exports__.zLowessRegressionLine,exports.zMarkStyle=__webpack_exports__.zMarkStyle,exports.zMeasure=__webpack_exports__.zMeasure,exports.zMeasureEncoding=__webpack_exports__.zMeasureEncoding,exports.zMeasureGroup=__webpack_exports__.zMeasureGroup,exports.zMeasureTree=__webpack_exports__.zMeasureTree,exports.zMeasures=__webpack_exports__.zMeasures,exports.zNumFormat=__webpack_exports__.zNumFormat,exports.zOutlierStyle=__webpack_exports__.zOutlierStyle,exports.zPie=__webpack_exports__.zPie,exports.zPieConfig=__webpack_exports__.zPieConfig,exports.zPieLabel=__webpack_exports__.zPieLabel,exports.zPivotChartGridConfig=__webpack_exports__.zPivotChartGridConfig,exports.zPivotTable=__webpack_exports__.zPivotTable,exports.zPivotTableConfig=__webpack_exports__.zPivotTableConfig,exports.zPointStyle=__webpack_exports__.zPointStyle,exports.zPolynomialRegressionLine=__webpack_exports__.zPolynomialRegressionLine,exports.zRadar=__webpack_exports__.zRadar,exports.zRadarConfig=__webpack_exports__.zRadarConfig,exports.zRegressionLine=__webpack_exports__.zRegressionLine,exports.zRose=__webpack_exports__.zRose,exports.zRoseConfig=__webpack_exports__.zRoseConfig,exports.zRoseParallel=__webpack_exports__.zRoseParallel,exports.zRoseParallelConfig=__webpack_exports__.zRoseParallelConfig,exports.zScatter=__webpack_exports__.zScatter,exports.zScatterConfig=__webpack_exports__.zScatterConfig,exports.zScatterMeasure=__webpack_exports__.zScatterMeasure,exports.zScatterMeasures=__webpack_exports__.zScatterMeasures,exports.zSelector=__webpack_exports__.zSelector,exports.zSelectors=__webpack_exports__.zSelectors,exports.zSort=__webpack_exports__.zSort,exports.zSortLegend=__webpack_exports__.zSortLegend,exports.zStackCornerRadius=__webpack_exports__.zStackCornerRadius,exports.zTable=__webpack_exports__.zTable,exports.zTableConfig=__webpack_exports__.zTableConfig,exports.zTheme=__webpack_exports__.zTheme,exports.zTooltip=__webpack_exports__.zTooltip,exports.zUnfoldInfo=__webpack_exports__.zUnfoldInfo,exports.zVSeed=__webpack_exports__.zVSeed,exports.zWhiskersConfig=__webpack_exports__.zWhiskersConfig,exports.zXBandAxis=__webpack_exports__.zXBandAxis,exports.zXLinearAxis=__webpack_exports__.zXLinearAxis,exports.zYBandAxis=__webpack_exports__.zYBandAxis,exports.zYLinearAxis=__webpack_exports__.zYLinearAxis,__webpack_exports__)-1===["ANNOTATION_Z_INDEX","AXIS_LABEL_SPACE","AngleEncoding","BAND_AXIS_INNER_OFFSET_IN_PIVOT","BinCountMeasureId","BinEndMeasureId","BinPercentageMeasureId","BinStartMeasureId","Builder","ChartTypeEnum","ColorEncoding","ColorIdEncoding","DATUM_HIDE_KEY","DEFAULT_PARENT_ID","DUAL_AXIS_CHART_COLUMN_Z_INDEX","DUAL_AXIS_CHART_NON_COLUMN_Z_INDEX","DUAL_AXIS_LABEL_Z_INDEX","DetailEncoding","DimensionEncodingEnum","EncodingEnum","FoldMeasureId","FoldMeasureName","FoldMeasureValue","FoldPrimaryMeasureValue","FoldSecondaryMeasureValue","FoldXMeasureId","FoldXMeasureValue","FoldYMeasureId","FoldYMeasureValue","LINEAR_AXIS_INNER_OFFSET_TOP","LowerWhisker","MeasureEncodingEnum","MeasureId","MeasureName","MedianMeasureId","ORIGINAL_DATA","OutliersMeasureId","Q1MeasureValue","Q3MeasureValue","Separator","UpperWhisker","XEncoding","YEncoding","areaAdvancedPipeline","areaPercentAdvancedPipeline","areaPercentSpecPipeline","areaSpecPipeline","autoFormatter","autoNumFormatter","barAdvancedPipeline","barParallelAdvancedPipeline","barParallelSpecPipeline","barPercentAdvancedPipeline","barPercentSpecPipeline","barSpecPipeline","boxplotAdvancedPipeline","boxplotSpecPipeline","checkVSeed","columnAdvancedPipeline","columnParallelAdvancedPipeline","columnParallelSpecPipeline","columnPercentAdvancedPipeline","columnPercentSpecPipeline","columnSpecPipeline","createFormatter","createFormatterByMeasure","createNumFormatter","darkTheme","dataReshapeByEncoding","deleteDimensionTreeByCallback","deleteMeasureTreeByCallback","donutAdvancedPipeline","donutSpecPipeline","dualAxisAdvancedPipeline","dualAxisSpecPipeline","execPipeline","findAllMeasures","findFirstMeasure","findMeasureById","findTreeNodesBy","foldMeasures","funnelAdvancedPipeline","funnelSpecPipeline","hasMultipleMeasureInSingleView","heatmapAdvancedPipeline","heatmapSpecPipeline","histogramAdvancedPipeline","histogramSpecPipeline","intl","isAreaPercent","isBarLikeChart","isBarPercent","isColumnPercent","isCombination","isDimension","isDimensionGroup","isDimensionSelector","isMeasure","isMeasureGroup","isMeasureSelector","isMeasures","isPartialDatumSelector","isPivot","isPivotChart","isPivotTable","isRadar","isTable","isVChart","isVTable","isValueSelector","lightTheme","lineAdvancedPipeline","lineSpecPipeline","measureDepth","pieAdvancedPipeline","pieSpecPipeline","pivotTableAdvancedPipeline","pivotTableSpecPipeline","preorderTraverse","radarAdvancedPipeline","radarSpecPipeline","registerAll","registerArea","registerAreaPercent","registerBar","registerBarParallel","registerBarPercent","registerBoxPlot","registerColumn","registerColumnParallel","registerColumnPercent","registerCustomTheme","registerDarkTheme","registerDonut","registerDualAxis","registerFunnel","registerHeatmap","registerHistogram","registerLightTheme","registerLine","registerPie","registerPivotTable","registerRadar","registerRose","registerRoseParallel","registerScatter","registerTable","replaceNullToUndefined","roseAdvancedPipeline","roseParallelAdvancedPipeline","roseParallelSpecPipeline","roseSpecPipeline","scatterAdvancedPipeline","scatterSpecPipeline","selectByDmension","selectByMeasure","selectByPartial","selectByValue","selector","selectorDatum","tableAdvancedPipeline","tableSpecPipeline","unfoldDimensions","updateAdvanced","updateSpec","zAdvancedVSeed","zAnalysis","zAnnotation","zAnnotationArea","zAnnotationAreaConfig","zAnnotationConfig","zAnnotationHorizontalLine","zAnnotationHorizontalLineConfig","zAnnotationPoint","zAnnotationPointConfig","zAnnotationVerticalLine","zAnnotationVerticalLineConfig","zArea","zAreaConfig","zAreaPercent","zAreaPercentConfig","zAreaStyle","zBackgroundColor","zBar","zBarConfig","zBarGapInGroup","zBarMaxWidth","zBarParallel","zBarParallelConfig","zBarPercent","zBarPercentConfig","zBarStyle","zBodyCellStyle","zBoxGapInGroup","zBoxMaxWidth","zBoxPlot","zBoxPlotStyle","zChartType","zColor","zColorLegend","zColumn","zColumnConfig","zColumnParallel","zColumnParallelConfig","zColumnPercent","zColumnPercentConfig","zConfig","zCrosshairLine","zCrosshairRect","zCustomTheme","zCustomThemeConfig","zDataset","zDatasetReshapeInfo","zDatum","zDimension","zDimensionEncoding","zDimensionGroup","zDimensionLinkage","zDimensionTree","zDimensions","zDonut","zDonutConfig","zDualAxis","zDualAxisConfig","zDualChartType","zDualMeasure","zDualMeasures","zEcdfRegressionLine","zEncoding","zFoldInfo","zFunnel","zFunnelConfig","zFunnelTransform","zHeatmap","zHeatmapConfig","zHistogram","zKdeRegressionLine","zLabel","zLegend","zLine","zLineConfig","zLineStyle","zLinearColor","zLinearRegressionLine","zLocale","zLogisticRegressionLine","zLowessRegressionLine","zMarkStyle","zMeasure","zMeasureEncoding","zMeasureGroup","zMeasureTree","zMeasures","zNumFormat","zOutlierStyle","zPie","zPieConfig","zPieLabel","zPivotChartGridConfig","zPivotTable","zPivotTableConfig","zPointStyle","zPolynomialRegressionLine","zRadar","zRadarConfig","zRegressionLine","zRose","zRoseConfig","zRoseParallel","zRoseParallelConfig","zScatter","zScatterConfig","zScatterMeasure","zScatterMeasures","zSelector","zSelectors","zSort","zSortLegend","zStackCornerRadius","zTable","zTableConfig","zTheme","zTooltip","zUnfoldInfo","zVSeed","zWhiskersConfig","zXBandAxis","zXLinearAxis","zYBandAxis","zYLinearAxis"].indexOf(__webpack_i__)&&(exports[__webpack_i__]=__webpack_exports__[__webpack_i__]);Object.defineProperty(exports,"__esModule",{value:!0});
//# sourceMappingURL=index.cjs.map